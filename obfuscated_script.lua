-- Obfuscated Lua
loadstring(game:HttpGet('data:text/plain;base64,LS0gVGhpcyBmaWxlIHdhcyBkZW9iZnVzY2F0ZWQgdXNpbmcgU2NlbmUgRGVvYmZ1c2NhdG9yIGRpc2NvcmQuZ2cvZGVvYmZ1c2NhdGUgOkQKCmhvb2tmdW5jdGlvbihyZXF1aXJlKGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5FZmZlY3QuQ29udGFpbmVyLkRlYXRoKSwgZnVuY3Rpb24oKQogICAgLS0gZW1wdHkgYmxvY2sKZW5kKQpob29rZnVuY3Rpb24ocmVxdWlyZShnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuRWZmZWN0LkNvbnRhaW5lci5SZXNwYXduKSwgZnVuY3Rpb24oKQogICAgLS0gZW1wdHkgYmxvY2sKZW5kKQppZiBnYW1lLlBsYWNlSWQgPT0gMjc1MzkxNTU0OSB0aGVuCiAgICBXb3JsZDEgPSB0cnVlCmVsc2VpZiBnYW1lLlBsYWNlSWQgPT0gNDQ0MjI3MjE4MyB0aGVuCiAgICBXb3JsZDIgPSB0cnVlCmVsc2VpZiBnYW1lLlBsYWNlSWQgPT0gNzQ0OTQyMzYzNSB0aGVuCiAgICBXb3JsZDMgPSB0cnVlCmVuZApmdW5jdGlvbiBNYXRlcmlhbE1vbigpCiAgICBpZiBfRy5TZWxlY3RNYXRlcmlhbCB+PSAiUmFkaWFjdGl2ZSBNYXRlcmlhbCIgdGhlbgogICAgICAgIGlmIF9HLlNlbGVjdE1hdGVyaWFsIH49ICJMZWF0aGVyICsgU2NyYXAgTWV0YWwiIHRoZW4KICAgICAgICAgICAgaWYgX0cuU2VsZWN0TWF0ZXJpYWwgfj0gIk1hZ21hIE9yZSIgdGhlbgogICAgICAgICAgICAgICAgaWYgX0cuU2VsZWN0TWF0ZXJpYWwgfj0gIkZpc2ggVGFpbCIgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIF9HLlNlbGVjdE1hdGVyaWFsID09ICJBbmdlbCBXaW5ncyIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBNTW9uID0gIlJveWFsIFNvbGRpZXIiCiAgICAgICAgICAgICAgICAgICAgICAgIE1Qb3MgPSBDRnJhbWUubmV3KC03NzU5LjQ1ODk4LCA1NjA2LjkzNjUyLCAtMTg2Mi43MDI3NiwgLTAuODY2MDA3NDQ3LCAwLCAtMC41MDAwMzE0MTIsIDAsIDEsIDAsIDAuNTAwMDMxNDEyLCAwLCAtMC44NjYwMDc0NDcpCiAgICAgICAgICAgICAgICAgICAgICAgIFNQID0gIlNreUFyZWEyIgogICAgICAgICAgICAgICAgICAgIGVsc2VpZiBfRy5TZWxlY3RNYXRlcmlhbCA9PSAiTXlzdGljIERyb3BsZXQiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgTU1vbiA9ICJXYXRlciBGaWdodGVyIgogICAgICAgICAgICAgICAgICAgICAgICBNUG9zID0gQ0ZyYW1lLm5ldygtMzMzMS43MDQ1OSwgMjM5LjEzODMzNiwgLTEwNTUzLjM1NjQsIC0wLjI5MjQyMTQ2LCAwLCAwLjk1NjI4OTUzLCAwLCAxLCAwLCAtMC45NTYyODk1MywgMCwgLTAuMjkyNDIxNDYpCiAgICAgICAgICAgICAgICAgICAgICAgIFNQID0gIkZvcmdvdHRlbklzbGFuZCIKICAgICAgICAgICAgICAgICAgICBlbHNlaWYgX0cuU2VsZWN0TWF0ZXJpYWwgPT0gIlZhbXBpcmUgRmFuZyIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBNTW9uID0gIlZhbXBpcmUiCiAgICAgICAgICAgICAgICAgICAgICAgIE1Qb3MgPSBDRnJhbWUubmV3KC02MTMyLjM5NDUzLCA5LjAwNzY5NDI0LCAtMTQ2Ni4xNjkxOSwgLTAuOTI3MTc5ODEzLCAwLCAtMC4zNzQ2MTc2OTYsIDAsIDEsIDAsIDAuMzc0NjE3Njk2LCAwLCAtMC45MjcxNzk4MTMpCiAgICAgICAgICAgICAgICAgICAgICAgIFNQID0gIkdyYXZleWFyZCIKICAgICAgICAgICAgICAgICAgICBlbHNlaWYgX0cuU2VsZWN0TWF0ZXJpYWwgPT0gIkd1bnBvd2RlciIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBNTW9uID0gIlBpc3RvbCBCaWxsaW9uYWlyZSIKICAgICAgICAgICAgICAgICAgICAgICAgTVBvcyA9IENGcmFtZS5uZXcoLTE4NS42OTMyODMsIDg0LjcwODg2OTksIDYxMDMuNjI3NDQsIDAuOTA2Mjk2NjcsIDAsIC0wLjQyMjY0MjA4MiwgMCwgMSwgMCwgMC40MjI2NDIwODIsIDAsIDAuOTA2Mjk2NjcpCiAgICAgICAgICAgICAgICAgICAgICAgIFNQID0gIk1hbnNpb24iCiAgICAgICAgICAgICAgICAgICAgZWxzZWlmIF9HLlNlbGVjdE1hdGVyaWFsIH49ICJNaW5pIFR1c2siIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgaWYgX0cuU2VsZWN0TWF0ZXJpYWwgPT0gIkNvbmp1cmVkIENvY29hIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNTW9uID0gIkNob2NvbGF0ZSBCYXIgQmF0dGxlciIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1Qb3MgPSBDRnJhbWUubmV3KDU4Mi44Mjg2NzQsIDI1LjU4MjQ5ODYsIC0xMjU1MC43MDQxLCAtMC43NjYwNjE2NjQsIDAsIC0wLjY0Mjc2NzYwOCwgMCwgMSwgMCwgMC42NDI3Njc2MDgsIDAsIC0wLjc2NjA2MTY2NCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNQID0gIkNob2NvbGF0ZSIKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICBNTW9uID0gIk15dGhvbG9naWNhbCBQaXJhdGUiCiAgICAgICAgICAgICAgICAgICAgICAgIE1Qb3MgPSBDRnJhbWUubmV3KC0xMzQ1Ni4wNDk4LCA0NjkuNDMzMjI4LCAtNzAzOS45NjQzNiwgMCwgMCwgMSwgMCwgMSwgMCwgLTEsIDAsIDApCiAgICAgICAgICAgICAgICAgICAgICAgIFNQID0gIkJpZ01hbnNpb24iCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbHNlaWYgZ2FtZS5QbGFjZUlkID09IDI3NTM5MTU1NDkgdGhlbgogICAgICAgICAgICAgICAgICAgIE1Nb24gPSAiRmlzaG1hbiBXYXJyaW9yIgogICAgICAgICAgICAgICAgICAgIE1Qb3MgPSBDRnJhbWUubmV3KDYwOTQzLjkwMjMsIDE3Ljk0OTIxODgsIDE3NDQuMTExMzMsIDAuODI2NzA2NjQ4LCAwLCAtMC41NjI2MzMyMTYsIDAsIDEsIDAsIDAuNTYyNjMzMjE2LCAwLCAwLjgyNjcwNjY0OCkKICAgICAgICAgICAgICAgICAgICBTUCA9ICJVbmRlcndhdGVyIENpdHkiCiAgICAgICAgICAgICAgICAgICAgTU1vbiA9ICJGaXNobWFuIENvbW1hbmRvIgogICAgICAgICAgICAgICAgICAgIE1Qb3MgPSBDRnJhbWUubmV3KDYxNzYwLjg5ODQsIDE4LjA4MDA3ODEsIDE0NjAuMTExMzMsIC0wLjYzMjU0OTY0NCwgMCwgLTAuNzc0NTIwMjc4LCAwLCAxLCAwLCAwLjc3NDUyMDI3OCwgMCwgLTAuNjMyNTQ5NjQ0KQogICAgICAgICAgICAgICAgICAgIFNQID0gIlVuZGVyd2F0ZXIgQ2l0eSIKICAgICAgICAgICAgICAgIGVsc2VpZiBnYW1lLlBsYWNlSWQgPT0gNzQ0OTQyMzYzNSB0aGVuCiAgICAgICAgICAgICAgICAgICAgTU1vbiA9ICJGaXNobWFuIENhcHRhaW4iCiAgICAgICAgICAgICAgICAgICAgTVBvcyA9IENGcmFtZS5uZXcoLTEwODI4LjEwNjQsIDMzMS44MjU5ODksIC05MDQ5LjE0NjQ4LCAtMC4wOTEyMDkxNzMyLCAwLCAwLjk5NTgzMTc4OCwgMCwgMSwgMCwgLTAuOTk1ODMxNzg4LCAwLCAtMC4wOTEyMDkxNzMyKQogICAgICAgICAgICAgICAgICAgIFNQID0gIlBpbmVhcHBsZVRvd24iCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZWxzZWlmIGdhbWUuUGxhY2VJZCA9PSAyNzUzOTE1NTQ5IHRoZW4KICAgICAgICAgICAgICAgIE1Nb24gPSAiTWlsaXRhcnkgU29sZGllciIKICAgICAgICAgICAgICAgIE1Qb3MgPSBDRnJhbWUubmV3KC01NTY1LjYwMTU2LCA5LjEwMDAxNzU1LCA4MzI3LjU2OTM0LCAtMC44Mzg2ODg3MzEsIDAsIC0wLjU0NDYxMTIxNiwgMCwgMSwgMCwgMC41NDQ2MTEyMTYsIDAsIC0wLjgzODY4ODczMSkKICAgICAgICAgICAgICAgIFNQID0gIk1hZ21hIgogICAgICAgICAgICAgICAgTU1vbiA9ICJNaWxpdGFyeSBTcHkiCiAgICAgICAgICAgICAgICBNUG9zID0gQ0ZyYW1lLm5ldygtNTgwNi43MDA2OCwgNzguNTAwMDQ1OCwgODkwNC40Njk3MywgMC43MDcxMzQyNDcsIDAsIDAuNzA3MDc5MjkxLCAwLCAxLCAwLCAtMC43MDcwNzkyOTEsIDAsIDAuNzA3MTM0MjQ3KQogICAgICAgICAgICAgICAgU1AgPSAiTWFnbWEiCiAgICAgICAgICAgIGVsc2VpZiBnYW1lLlBsYWNlSWQgPT0gNDQ0MjI3MjE4MyB0aGVuCiAgICAgICAgICAgICAgICBNTW9uID0gIkxhdmEgUGlyYXRlIgogICAgICAgICAgICAgICAgTVBvcyA9IENGcmFtZS5uZXcoLTUxNTguNzcwNTEsIDE0LjQ3OTE5NTYsIC00NjU0LjI2MjcsIC0wLjg0ODA2MDQ4OSwgMCwgLTAuNTI5ODk5NTM4LCAwLCAxLCAwLCAwLjUyOTg5OTUzOCwgMCwgLTAuODQ4MDYwNDg5KQogICAgICAgICAgICAgICAgU1AgPSAiQ2lyY2xlSXNsYW5kRmlyZSIKICAgICAgICAgICAgZW5kCiAgICAgICAgZWxzZWlmIGdhbWUuUGxhY2VJZCA9PSAyNzUzOTE1NTQ5IHRoZW4KICAgICAgICAgICAgTU1vbiA9ICJQaXJhdGUiCiAgICAgICAgICAgIE1Qb3MgPSBDRnJhbWUubmV3KC05NjcuNDMzMTA1LCAxMy41OTk5OTM3LCA0MDM0LjI0NzA3LCAtMC4yNTg4NjQ0MDMsIDAsIC0wLjk2NTkxMzcxMywgMCwgMSwgMCwgMC45NjU5MTM3MTMsIDAsIC0wLjI1ODg2NDQwMykKICAgICAgICAgICAgU1AgPSAiUGlyYXRlIgogICAgICAgICAgICBNTW9uID0gIkJydXRlIgogICAgICAgICAgICBNUG9zID0gQ0ZyYW1lLm5ldygtMTE5MS40MTIzNSwgMTUuNTk5OTk4NSwgNDIzNS41MDkyOCwgMC42MjkyODYwNTEsIDAsIC0wLjc3NzE3Mzc1OCwgMCwgMSwgMCwgMC43NzcxNzM3NTgsIDAsIDAuNjI5Mjg2MDUxKQogICAgICAgICAgICBTUCA9ICJQaXJhdGUiCiAgICAgICAgZWxzZWlmIGdhbWUuUGxhY2VJZCB+PSA0NDQyMjcyMTgzIHRoZW4KICAgICAgICAgICAgaWYgZ2FtZS5QbGFjZUlkID09IDc0NDk0MjM2MzUgdGhlbgogICAgICAgICAgICAgICAgTU1vbiA9ICJQaXJhdGUgTWlsbGlvbmFpcmUiCiAgICAgICAgICAgICAgICBNUG9zID0gQ0ZyYW1lLm5ldygtMTE4LjgwOTM3MiwgNTUuNDg3NDU3MywgNTY0OS4xNzA0MSwgLTAuOTY1OTI5NzQ3LCAwLCAwLjI1ODgwNDc5OCwgMCwgMSwgMCwgLTAuMjU4ODA0Nzk4LCAwLCAtMC45NjU5Mjk3NDcpCiAgICAgICAgICAgICAgICBTUCA9ICJEZWZhdWx0IgogICAgICAgICAgICBlbmQKICAgICAgICBlbHNlCiAgICAgICAgICAgIE1Nb24gPSAiTWVyY2VuYXJ5IgogICAgICAgICAgICBNUG9zID0gQ0ZyYW1lLm5ldygtOTg2Ljc3NDQ3NSwgNzIuODc1NTk1MSwgMTA4OC40NDY1MywgLTAuNjU2MDYyNzIyLCAwLCAwLjc1NDcwNjMyMywgMCwgMSwgMCwgLTAuNzU0NzA2MzIzLCAwLCAtMC42NTYwNjI3MjIpCiAgICAgICAgICAgIFNQID0gIkRyZXNzVG93biIKICAgICAgICBlbmQKICAgIGVsc2UKICAgICAgICBNTW9uID0gIkZhY3RvcnkgU3RhZmYiCiAgICAgICAgTVBvcyA9IENGcmFtZS5uZXcoLTEwNS44ODk1NjUsIDcyLjgwNzY5MzUsIC02NzAuMjQ3OTg2LCAtMC45NjU5Mjk3NDcsIDAsIC0wLjI1ODgwNDc5OCwgMCwgMSwgMCwgMC4yNTg4MDQ3OTgsIDAsIC0wLjk2NTkyOTc0NykKICAgICAgICBTUCA9ICJCYXIiCiAgICBlbmQKZW5kCmZ1bmN0aW9uIENoZWNrUXVlc3QoKQogICAgTXlMZXZlbCA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkRhdGEuTGV2ZWwuVmFsdWUKICAgIGlmIFdvcmxkMSB0aGVuCiAgICAgICAgaWYgTXlMZXZlbCA+PSAxIGFuZCBNeUxldmVsIDw9IDkgb3IgU2VsZWN0TW9uc3RlciA9PSAiQmFuZGl0IiB0aGVuCiAgICAgICAgICAgIE1vbiA9ICJCYW5kaXQiCiAgICAgICAgICAgIExldmVsUXVlc3QgPSAxCiAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJCYW5kaXRRdWVzdDEiCiAgICAgICAgICAgIE5hbWVNb24gPSAiQmFuZGl0IgogICAgICAgICAgICBDRnJhbWVRdWVzdCA9IENGcmFtZS5uZXcoMTA1OS4zNzE5NSwgMTUuNDQ5NTA2OCwgMTU1MC40MjMxLCAwLjkzOTcwMDU0NCwgLTAsIC0wLjM0MTk5ODM2OSwgLTAsIDEsIC0wLCAwLjM0MTk5ODM2OSwgLTAsIDAuOTM5NzAwNTQ0KQogICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KDEwNDUuOTYyNjQ2NDg0Mzc1LCAyNy4wMDI1MDgxNjM0NTIxNSwgMTU2MC44MjAzMTI1KQogICAgICAgIGVsc2VpZiAoTXlMZXZlbCA8IDEwIG9yIE15TGV2ZWwgPiAxNCkgYW5kIFNlbGVjdE1vbnN0ZXIgfj0gIk1vbmtleSIgdGhlbgogICAgICAgICAgICBpZiAoTXlMZXZlbCA8IDE1IG9yIE15TGV2ZWwgPiAyOSkgYW5kIFNlbGVjdE1vbnN0ZXIgfj0gIkdvcmlsbGEiIHRoZW4KICAgICAgICAgICAgICAgIGlmIChNeUxldmVsIDwgMzAgb3IgTXlMZXZlbCA+IDM5KSBhbmQgU2VsZWN0TW9uc3RlciB+PSAiUGlyYXRlIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgKE15TGV2ZWwgPCA0MCBvciBNeUxldmVsID4gNTkpIGFuZCBTZWxlY3RNb25zdGVyIH49ICJCcnV0ZSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBpZiBNeUxldmVsID49IDYwIGFuZCBNeUxldmVsIDw9IDc0IG9yIFNlbGVjdE1vbnN0ZXIgPT0gIkRlc2VydCBCYW5kaXQiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJEZXNlcnQgQmFuZGl0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJEZXNlcnRRdWVzdCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVNb24gPSAiRGVzZXJ0IEJhbmRpdCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldyg4OTQuNDg4NjQ3LCA1LjE0MDAwNzAyLCA0MzkyLjQzMzU5LCAwLjgxOTE1NTY5MywgLTAsIC0wLjU3MzU3MTI2NSwgLTAsIDEsIC0wLCAwLjU3MzU3MTI2NSwgLTAsIDAuODE5MTU1NjkzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lTW9uID0gQ0ZyYW1lLm5ldyg5MjQuNzk5ODA0Njg3NSwgNi40NDg2NzQ2Nzg4MDI0OSwgNDQ4MS41ODU5Mzc1KQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKE15TGV2ZWwgPCA3NSBvciBNeUxldmVsID4gODkpIGFuZCBTZWxlY3RNb25zdGVyIH49ICJEZXNlcnQgT2ZmaWNlciIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE15TGV2ZWwgPCA5MCBvciBNeUxldmVsID4gOTkpIGFuZCBTZWxlY3RNb25zdGVyIH49ICJTbm93IEJhbmRpdCIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIE15TGV2ZWwgPj0gMTAwIGFuZCBNeUxldmVsIDw9IDExOSBvciBTZWxlY3RNb25zdGVyID09ICJTbm93bWFuIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJTbm93bWFuIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMZXZlbFF1ZXN0ID0gMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiU25vd1F1ZXN0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lTW9uID0gIlNub3dtYW4iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygxMzg5Ljc0NDUxLCA4OC4xNTE5MzE4LCAtMTI5OC45MDc5NiwgLTAuMzQyMDQyNjg1LCAtMCwgMC45Mzk2ODQzOTEsIC0wLCAxLCAtMCwgLTAuOTM5Njg0MzkxLCAtMCwgLTAuMzQyMDQyNjg1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KDEyMDEuNjQxMjM1MzUxNTYyNSwgMTQ0LjU3OTU4OTg0Mzc1LCAtMTU1MC4wNjcwMTY2MDE1NjI1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiAoTXlMZXZlbCA8IDEyMCBvciBNeUxldmVsID4gMTQ5KSBhbmQgU2VsZWN0TW9uc3RlciB+PSAiQ2hpZWYgUGV0dHkgT2ZmaWNlciIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTXlMZXZlbCA8IDE1MCBvciBNeUxldmVsID4gMTc0KSBhbmQgU2VsZWN0TW9uc3RlciB+PSAiU2t5IEJhbmRpdCIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE15TGV2ZWwgPCAxNzUgb3IgTXlMZXZlbCA+IDE4OSkgYW5kIFNlbGVjdE1vbnN0ZXIgfj0gIkRhcmsgTWFzdGVyIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgTXlMZXZlbCA+PSAxOTAgYW5kIE15TGV2ZWwgPD0gMjA5IG9yIFNlbGVjdE1vbnN0ZXIgPT0gIlByaXNvbmVyIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJQcmlzb25lciIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZVF1ZXN0ID0gIlByaXNvbmVyUXVlc3QiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVNb24gPSAiUHJpc29uZXIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldyg1MzA4LjkzMTE1LCAxLjY1NTE3NTIxLCA0NzUuMTIwNTE0LCAtMC4wODk0Mjc0NzEyLCAtNS4wMDI5MjkxOEUtOSwgLTAuOTk1OTkzMzE2LCAxLjYwODE3ODU5RS05LCAxLCAtNS4xNjc0NDg2OUUtOSwgMC45OTU5OTMzMTYsIC0yLjA2Mzg0NzA5RS05LCAtMC4wODk0Mjc0NzEyKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KDUwOTguOTczNjMyODEyNSwgLTAuMzIwNDA1ODExMDcxMzk1OSwgNDc0LjIzNzMzNTIwNTA3ODEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIChNeUxldmVsIDwgMjEwIG9yIE15TGV2ZWwgPiAyNDkpIGFuZCBTZWxlY3RNb25zdGVyIH49ICJEYW5nZXJvdXMgUHJpc29uZSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBNeUxldmVsID49IDI1MCBhbmQgTXlMZXZlbCA8PSAyNzQgb3IgU2VsZWN0TW9uc3RlciA9PSAiVG9nYSBXYXJyaW9yIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb24gPSAiVG9nYSBXYXJyaW9yIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJDb2xvc3NldW1RdWVzdCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVNb24gPSAiVG9nYSBXYXJyaW9yIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lUXVlc3QgPSBDRnJhbWUubmV3KC0xNTgwLjA0NjYzLCA2LjM1MDAwMjc3LCAtMjk4Ni40NzUzNCwgLTAuNTE1MDM3Mjk4LCAtMCwgLTAuODU3MTY3NzIxLCAtMCwgMSwgLTAsIDAuODU3MTY3NzIxLCAtMCwgLTAuNTE1MDM3Mjk4KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lTW9uID0gQ0ZyYW1lLm5ldygtMTgyMC4yMTQ4NDM3NSwgNTEuNjgzODU2OTY0MTExMzMsIC0yNzQwLjY2NTAzOTA2MjUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiAoTXlMZXZlbCA8IDI3NSBvciBNeUxldmVsID4gMjk5KSBhbmQgU2VsZWN0TW9uc3RlciB+PSAiR2xhZGlhdG9yIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTXlMZXZlbCA8IDMwMCBvciBNeUxldmVsID4gMzI0KSBhbmQgU2VsZWN0TW9uc3RlciB+PSAiTWlsaXRhcnkgU29sZGllciIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNeUxldmVsIDwgMzI1IG9yIE15TGV2ZWwgPiAzNzQpIGFuZCBTZWxlY3RNb25zdGVyIH49ICJNaWxpdGFyeSBTcHkiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE15TGV2ZWwgPCAzNzUgb3IgTXlMZXZlbCA+IDM5OSkgYW5kIFNlbGVjdE1vbnN0ZXIgfj0gIkZpc2htYW4gV2FycmlvciIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE15TGV2ZWwgPCA0MDAgb3IgTXlMZXZlbCA+IDQ0OSkgYW5kIFNlbGVjdE1vbnN0ZXIgfj0gIkZpc2htYW4gQ29tbWFuZG8iIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBNeUxldmVsID49IDQ1MCBhbmQgTXlMZXZlbCA8PSA0NzQgb3IgU2VsZWN0TW9uc3RlciA9PSAiR29kJ3MgR3VhcmQiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9uID0gIkdvZCdzIEd1YXJkIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMZXZlbFF1ZXN0ID0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiU2t5RXhwMVF1ZXN0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lTW9uID0gIkdvZCdzIEd1YXJkIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVRdWVzdCA9IENGcmFtZS5uZXcoLTQ3MjEuODg4NjcsIDg0My44NzQ2OTUsIC0xOTQ5Ljk2NjQzLCAwLjk5NjE5MTg1OSwgLTAsIC0wLjA4NzE4ODQzMDEsIC0wLCAxLCAtMCwgMC4wODcxODg0MzAxLCAtMCwgMC45OTYxOTE4NTkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoLTQ3MTAuMDQyOTY4NzUsIDg0NS4yNzY5Nzc1MzkwNjI1LCAtMTkyNy4zMDc5ODMzOTg0Mzc1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBfRy5BdXRvRmFybSBhbmQgKENGcmFtZVF1ZXN0LlBvc2l0aW9uIC0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKS5NYWduaXR1ZGUgPiAxMDAwMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJyZXF1ZXN0RW50cmFuY2UiLCBWZWN0b3IzLm5ldygtNDYwNy44MjI3NSwgODcyLjU0MjQ4LCAtMTY2Ny41NTY4OCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiBNeUxldmVsID49IDQ3NSBhbmQgTXlMZXZlbCA8PSA1MjQgb3IgU2VsZWN0TW9uc3RlciA9PSAiU2hhbmRhIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJTaGFuZGEiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExldmVsUXVlc3QgPSAyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJTa3lFeHAxUXVlc3QiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVNb24gPSAiU2hhbmRhIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVRdWVzdCA9IENGcmFtZS5uZXcoLTc4NTkuMDk4MTQsIDU1NDQuMTkwNDMsIC0zODEuNDc2MTk2LCAtMC40MjI1OTI5OTgsIC0wLCAwLjkwNjMxOTYxOCwgLTAsIDEsIC0wLCAtMC45MDYzMTk2MTgsIC0wLCAtMC40MjI1OTI5OTgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoLTc2NzguNDg5NzQ2MDkzNzUsIDU1NjYuNDAzODA4NTkzNzUsIC00OTcuMjE1NjA2Njg5NDUzMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgX0cuQXV0b0Zhcm0gYW5kIChDRnJhbWVRdWVzdC5Qb3NpdGlvbiAtIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikuTWFnbml0dWRlID4gMTAwMDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigicmVxdWVzdEVudHJhbmNlIiwgVmVjdG9yMy5uZXcoLTc4OTQuNjE3Njc1NzgxMywgNTU0Ny4xNDE2MDE1NjI1LCAtMzgwLjI5MTE5ODczMDQ3KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIE15TGV2ZWwgPj0gNTI1IGFuZCBNeUxldmVsIDw9IDU0OSBvciBTZWxlY3RNb25zdGVyID09ICJSb3lhbCBTcXVhZCIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb24gPSAiUm95YWwgU3F1YWQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExldmVsUXVlc3QgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJTa3lFeHAyUXVlc3QiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVNb24gPSAiUm95YWwgU3F1YWQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygtNzkwNi44MTU5MiwgNTYzNC42NjI2LCAtMTQxMS45OTE5NCwgLTAsIC0wLCAtMSwgLTAsIDEsIC0wLCAxLCAtMCwgLTApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoLTc2MjQuMjUyNDQxNDA2MjUsIDU2NTguMTMzMzAwNzgxMjUsIC0xNDY3LjM1NDI0ODA0Njg3NSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKE15TGV2ZWwgPCA1NTAgb3IgTXlMZXZlbCA+IDYyNCkgYW5kIFNlbGVjdE1vbnN0ZXIgfj0gIlJveWFsIFNvbGRpZXIiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgTXlMZXZlbCA+PSA2MjUgYW5kIE15TGV2ZWwgPD0gNjQ5IG9yIFNlbGVjdE1vbnN0ZXIgPT0gIkdhbGxleSBQaXJhdGUiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJHYWxsZXkgUGlyYXRlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJGb3VudGFpblF1ZXN0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJHYWxsZXkgUGlyYXRlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lUXVlc3QgPSBDRnJhbWUubmV3KDUyNTkuODE5ODIsIDM3LjM1MDAxNzUsIDQwNTAuMDI5MywgMC4wODcxMzEzODEsIC0wLCAwLjk5NjE5Njg2NiwgLTAsIDEsIC0wLCAtMC45OTYxOTY4NjYsIC0wLCAwLjA4NzEzMTM4MSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoNTU1MS4wMjE5NzI2NTYyNSwgNzguOTAxMzUxOTI4NzEwOTQsIDM5MzAuNDEyODQxNzk2ODc1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgTXlMZXZlbCA+PSA2NTAgb3IgU2VsZWN0TW9uc3RlciA9PSAiR2FsbGV5IENhcHRhaW4iIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJHYWxsZXkgQ2FwdGFpbiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExldmVsUXVlc3QgPSAyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiRm91bnRhaW5RdWVzdCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVNb24gPSAiR2FsbGV5IENhcHRhaW4iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVRdWVzdCA9IENGcmFtZS5uZXcoNTI1OS44MTk4MiwgMzcuMzUwMDE3NSwgNDA1MC4wMjkzLCAwLjA4NzEzMTM4MSwgLTAsIDAuOTk2MTk2ODY2LCAtMCwgMSwgLTAsIC0wLjk5NjE5Njg2NiwgLTAsIDAuMDg3MTMxMzgxKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lTW9uID0gQ0ZyYW1lLm5ldyg1NDQxLjk1MTY2MDE1NjI1LCA0Mi41MDIwNTk5MzY1MjM0NCwgNDk1MC4wOTM3NSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb24gPSAiUm95YWwgU29sZGllciIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZVF1ZXN0ID0gIlNreUV4cDJRdWVzdCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJSb3lhbCBTb2xkaWVyIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVRdWVzdCA9IENGcmFtZS5uZXcoLTc5MDYuODE1OTIsIDU2MzQuNjYyNiwgLTE0MTEuOTkxOTQsIC0wLCAtMCwgLTEsIC0wLCAxLCAtMCwgMSwgLTAsIC0wKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KC03ODM2Ljc1MzQxNzk2ODc1LCA1NjQ1LjY2NDA2MjUsIC0xNzkwLjYyMzY1NzIyNjU2MjUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9uID0gIkZpc2htYW4gQ29tbWFuZG8iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiRmlzaG1hblF1ZXN0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVNb24gPSAiRmlzaG1hbiBDb21tYW5kbyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVRdWVzdCA9IENGcmFtZS5uZXcoNjExMjIuNjUyMzQzNzUsIDE4LjQ5NzQ0MjI0NTQ4MywgMTU2OS4zOTk3ODAyNzM0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoNjE5MjIuNjMyODEyNSwgMTguNDgyODMwMDQ3NjA3NDIyLCAxNDkzLjkzNDMyNjE3MTg3NSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBfRy5BdXRvRmFybSBhbmQgKENGcmFtZVF1ZXN0LlBvc2l0aW9uIC0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKS5NYWduaXR1ZGUgPiAxMDAwMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoInJlcXVlc3RFbnRyYW5jZSIsIFZlY3RvcjMubmV3KDYxMTYzLjg1MTU2MjUsIDExLjY3OTY4NzUsIDE4MTkuNzg0MTc5Njg3NSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9uID0gIkZpc2htYW4gV2FycmlvciIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExldmVsUXVlc3QgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiRmlzaG1hblF1ZXN0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJGaXNobWFuIFdhcnJpb3IiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVRdWVzdCA9IENGcmFtZS5uZXcoNjExMjIuNjUyMzQzNzUsIDE4LjQ5NzQ0MjI0NTQ4MywgMTU2OS4zOTk3ODAyNzM0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lTW9uID0gQ0ZyYW1lLm5ldyg2MDg3OC4zMDA3ODEyNSwgMTguNDgyODMwMDQ3NjA3NDIyLCAxNTQzLjc1NzQ0NjI4OTA2MjUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBfRy5BdXRvRmFybSBhbmQgKENGcmFtZVF1ZXN0LlBvc2l0aW9uIC0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKS5NYWduaXR1ZGUgPiAxMDAwMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigicmVxdWVzdEVudHJhbmNlIiwgVmVjdG9yMy5uZXcoNjExNjMuODUxNTYyNSwgMTEuNjc5Njg3NSwgMTgxOS43ODQxNzk2ODc1KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJNaWxpdGFyeSBTcHkiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExldmVsUXVlc3QgPSAyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJNYWdtYVF1ZXN0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lTW9uID0gIk1pbGl0YXJ5IFNweSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lUXVlc3QgPSBDRnJhbWUubmV3KC01MzEzLjM3MDEyLCAxMC45NTAwMDg0LCA4NTE1LjI5Mzk1LCAtMC40OTk5NTk0NjksIC0wLCAwLjg2NjA0ODgxMywgLTAsIDEsIC0wLCAtMC44NjYwNDg4MTMsIC0wLCAtMC40OTk5NTk0NjkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoLTU4MDIuODY4MTY0MDYyNSwgODYuMjYyNDEzMDI0OTAyMzQsIDg4MjguODU5Mzc1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJNaWxpdGFyeSBTb2xkaWVyIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExldmVsUXVlc3QgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZVF1ZXN0ID0gIk1hZ21hUXVlc3QiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJNaWxpdGFyeSBTb2xkaWVyIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygtNTMxMy4zNzAxMiwgMTAuOTUwMDA4NCwgODUxNS4yOTM5NSwgLTAuNDk5OTU5NDY5LCAtMCwgMC44NjYwNDg4MTMsIC0wLCAxLCAtMCwgLTAuODY2MDQ4ODEzLCAtMCwgLTAuNDk5OTU5NDY5KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoLTU0MTEuMTY0NTUwNzgxMjUsIDExLjA4MTU1NDQxMjg0MTc5NywgODQ1NC4yOTI5Njg3NSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb24gPSAiR2xhZGlhdG9yIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJDb2xvc3NldW1RdWVzdCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVNb24gPSAiR2xhZGlhdG9yIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lUXVlc3QgPSBDRnJhbWUubmV3KC0xNTgwLjA0NjYzLCA2LjM1MDAwMjc3LCAtMjk4Ni40NzUzNCwgLTAuNTE1MDM3Mjk4LCAtMCwgLTAuODU3MTY3NzIxLCAtMCwgMSwgLTAsIDAuODU3MTY3NzIxLCAtMCwgLTAuNTE1MDM3Mjk4KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lTW9uID0gQ0ZyYW1lLm5ldygtMTI5Mi44MzgxMzQ3NjU2MjUsIDU2LjM4MDg4MjI2MzE4MzU5NCwgLTMzMzkuMDMxNDk0MTQwNjI1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJEYW5nZXJvdXMgUHJpc29uZXIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExldmVsUXVlc3QgPSAyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJQcmlzb25lclF1ZXN0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lTW9uID0gIkRhbmdlcm91cyBQcmlzb25lciIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lUXVlc3QgPSBDRnJhbWUubmV3KDUzMDguOTMxMTUsIDEuNjU1MTc1MjEsIDQ3NS4xMjA1MTQsIC0wLjA4OTQyNzQ3MTIsIC01LjAwMjkyOTE4RS05LCAtMC45OTU5OTMzMTYsIDEuNjA4MTc4NTlFLTksIDEsIC01LjE2NzQ0ODY5RS05LCAwLjk5NTk5MzMxNiwgLTIuMDYzODQ3MDlFLTksIC0wLjA4OTQyNzQ3MTIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoNTY1NC41NjM0NzY1NjI1LCAxNS42MzM0MDE4NzA3Mjc1MzksIDg2Ni4yOTkxOTQzMzU5Mzc1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJEYXJrIE1hc3RlciIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMZXZlbFF1ZXN0ID0gMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJTa3lRdWVzdCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lTW9uID0gIkRhcmsgTWFzdGVyIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygtNDgzOS41MzAyNywgNzE2LjM2ODU5MSwgLTI2MTkuNDQxNjUsIDAuODY2MDA3MjY4LCAtMCwgMC41MDAwMzE0MTIsIC0wLCAxLCAtMCwgLTAuNTAwMDMxNDEyLCAtMCwgMC44NjYwMDcyNjgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lTW9uID0gQ0ZyYW1lLm5ldygtNTI1OS44NDQ3MjY1NjI1LCAzOTEuMzk3Njc0NTYwNTQ2OSwgLTIyMjkuMDM1NDAwMzkwNjI1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJTa3kgQmFuZGl0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJTa3lRdWVzdCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVNb24gPSAiU2t5IEJhbmRpdCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygtNDgzOS41MzAyNywgNzE2LjM2ODU5MSwgLTI2MTkuNDQxNjUsIDAuODY2MDA3MjY4LCAtMCwgMC41MDAwMzE0MTIsIC0wLCAxLCAtMCwgLTAuNTAwMDMxNDEyLCAtMCwgMC44NjYwMDcyNjgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KC00OTUzLjIwNzAzMTI1LCAyOTUuNzQ0MjAxNjYwMTU2MjUsIC0yODk5LjIyOTAwMzkwNjI1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJDaGllZiBQZXR0eSBPZmZpY2VyIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMZXZlbFF1ZXN0ID0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiTWFyaW5lUXVlc3QyIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lTW9uID0gIkNoaWVmIFBldHR5IE9mZmljZXIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygtNTAzOS41ODY0MywgMjcuMzUwMDM4NSwgNDMyNC42ODAxOCwgLTAsIC0wLCAtMSwgLTAsIDEsIC0wLCAxLCAtMCwgLTApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoLTQ4ODEuMjMwOTU3MDMxMjUsIDIyLjY1MjA0NDI5NjI2NDY1LCA0MjczLjc1MjQ0MTQwNjI1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJTbm93IEJhbmRpdCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMZXZlbFF1ZXN0ID0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJTbm93UXVlc3QiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJTbm93IEJhbmRpdCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVRdWVzdCA9IENGcmFtZS5uZXcoMTM4OS43NDQ1MSwgODguMTUxOTMxOCwgLTEyOTguOTA3OTYsIC0wLjM0MjA0MjY4NSwgLTAsIDAuOTM5Njg0MzkxLCAtMCwgMSwgLTAsIC0wLjkzOTY4NDM5MSwgLTAsIC0wLjM0MjA0MjY4NSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KDEzNTQuMzQ3OTAwMzkwNjI1LCA4Ny4yNzI3NzM3NDI2NzU3OCwgLTEzOTMuOTQ2NTMzMjAzMTI1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJEZXNlcnQgT2ZmaWNlciIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIExldmVsUXVlc3QgPSAyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiRGVzZXJ0UXVlc3QiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lTW9uID0gIkRlc2VydCBPZmZpY2VyIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lUXVlc3QgPSBDRnJhbWUubmV3KDg5NC40ODg2NDcsIDUuMTQwMDA3MDIsIDQzOTIuNDMzNTksIDAuODE5MTU1NjkzLCAtMCwgLTAuNTczNTcxMjY1LCAtMCwgMSwgLTAsIDAuNTczNTcxMjY1LCAtMCwgMC44MTkxNTU2OTMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KDE2MDguMjgyMjI2NTYyNSwgOC42MTQyMjQ0MzM4OTg5MjYsIDQzNzEuMDA3MzI0MjE4NzUpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgTW9uID0gIkJydXRlIgogICAgICAgICAgICAgICAgICAgICAgICBMZXZlbFF1ZXN0ID0gMgogICAgICAgICAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiQnVnZ3lRdWVzdDEiCiAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVNb24gPSAiQnJ1dGUiCiAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygtMTE0MS4wNzQ4MywgNC4xMDAwMTgwMiwgMzgzMS41NDk4LCAwLjk2NTkyOTYyNywgLTAsIC0wLjI1ODgwNDc5OCwgLTAsIDEsIC0wLCAwLjI1ODgwNDc5OCwgLTAsIDAuOTY1OTI5NjI3KQogICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KC0xMTQwLjA4Mzc0MDIzNDM3NSwgMTQuODA5ODg1MDI1MDI0NDE0LCA0MzIyLjkyMTM4NjcxODc1KQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIE1vbiA9ICJQaXJhdGUiCiAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDEKICAgICAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiQnVnZ3lRdWVzdDEiCiAgICAgICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJQaXJhdGUiCiAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lUXVlc3QgPSBDRnJhbWUubmV3KC0xMTQxLjA3NDgzLCA0LjEwMDAxODAyLCAzODMxLjU0OTgsIDAuOTY1OTI5NjI3LCAtMCwgLTAuMjU4ODA0Nzk4LCAtMCwgMSwgLTAsIDAuMjU4ODA0Nzk4LCAtMCwgMC45NjU5Mjk2MjcpCiAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lTW9uID0gQ0ZyYW1lLm5ldygtMTEwMy41MTM0Mjc3MzQzNzUsIDEzLjc1MjA1MjMwNzEyODkwNiwgMzg5Ni4wOTEwNjQ0NTMxMjUpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgTW9uID0gIkdvcmlsbGEiCiAgICAgICAgICAgICAgICBMZXZlbFF1ZXN0ID0gMgogICAgICAgICAgICAgICAgTmFtZVF1ZXN0ID0gIkp1bmdsZVF1ZXN0IgogICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJHb3JpbGxhIgogICAgICAgICAgICAgICAgQ0ZyYW1lUXVlc3QgPSBDRnJhbWUubmV3KC0xNTk4LjA4OTExLCAzNS41NTAxMTc1LCAxNTMuMzc3ODM4LCAtMCwgLTAsIDEsIC0wLCAxLCAtMCwgLTEsIC0wLCAtMCkKICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoLTExMjkuODgzNjY2OTkyMTg3NSwgNDAuNDYzNTQ2NzUyOTI5NjksIC01MjUuNDIzNzA2MDU0Njg3NSkKICAgICAgICAgICAgZW5kCiAgICAgICAgZWxzZQogICAgICAgICAgICBNb24gPSAiTW9ua2V5IgogICAgICAgICAgICBMZXZlbFF1ZXN0ID0gMQogICAgICAgICAgICBOYW1lUXVlc3QgPSAiSnVuZ2xlUXVlc3QiCiAgICAgICAgICAgIE5hbWVNb24gPSAiTW9ua2V5IgogICAgICAgICAgICBDRnJhbWVRdWVzdCA9IENGcmFtZS5uZXcoLTE1OTguMDg5MTEsIDM1LjU1MDExNzUsIDE1My4zNzc4MzgsIC0wLCAtMCwgMSwgLTAsIDEsIC0wLCAtMSwgLTAsIC0wKQogICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KC0xNDQ4LjUxODA2NjQwNjI1LCA2Ny44NTMwMTIwODQ5NjA5NCwgMTEuNDY1Nzk2NDcwNjQyMDkpCiAgICAgICAgZW5kCiAgICBlbHNlaWYgbm90IFdvcmxkMiB0aGVuCiAgICAgICAgaWYgV29ybGQzIHRoZW4KICAgICAgICAgICAgaWYgTXlMZXZlbCA+PSAxNTAwIGFuZCBNeUxldmVsIDw9IDE1MjQgb3IgU2VsZWN0TW9uc3RlciA9PSAiUGlyYXRlIE1pbGxpb25haXJlIiB0aGVuCiAgICAgICAgICAgICAgICBNb24gPSAiUGlyYXRlIE1pbGxpb25haXJlIgogICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDEKICAgICAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJQaXJhdGVQb3J0UXVlc3QiCiAgICAgICAgICAgICAgICBOYW1lTW9uID0gIlBpcmF0ZSBNaWxsaW9uYWlyZSIKICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygtNDUwLjEwNDY0NSwgMTA3LjY4MTQ1OCwgNTk1MC43MjYwNywgMC45NTcxMDc1NDQsIC0wLCAtMC4yODk3MzI4NDQsIC0wLCAxLCAtMCwgMC4yODk3MzI4NDQsIC0wLCAwLjk1NzEwNzU0NCkKICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoLTI0NS45OTYzODM2NjY5OTIyLCA0Ny4zMDYxNTIzNDM3NSwgNTU4NC4xMDA1ODU5Mzc1KQogICAgICAgICAgICBlbHNlaWYgKE15TGV2ZWwgPCAxNTI1IG9yIE15TGV2ZWwgPiAxNTc0KSBhbmQgU2VsZWN0TW9uc3RlciB+PSAiUGlzdG9sIEJpbGxpb25haXJlIiB0aGVuCiAgICAgICAgICAgICAgICBpZiBNeUxldmVsID49IDE1NzUgYW5kIE15TGV2ZWwgPD0gMTU5OSBvciBTZWxlY3RNb25zdGVyID09ICJEcmFnb24gQ3JldyBXYXJyaW9yIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgTW9uID0gIkRyYWdvbiBDcmV3IFdhcnJpb3IiCiAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDEKICAgICAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiRHJhZ29uQ3Jld1F1ZXN0IgogICAgICAgICAgICAgICAgICAgIE5hbWVNb24gPSAiRHJhZ29uIENyZXcgV2FycmlvciIKICAgICAgICAgICAgICAgICAgICBDRnJhbWVRdWVzdCA9IENGcmFtZS5uZXcoNjc1MC40OTMxNjQwNjI1LCAxMjcuNDQ5MTY1MzQ0MjM4MjgsIC03MTEuMDMwODgzNzg5MDYyNSkKICAgICAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KDY3MDkuNzYzNjcsIDUyLjM0NDI5OTMsIC0xMTM5LjAyOTY2LCAtMC43NjM1MTU0NzIsIC0wLCAwLjY0NTc4OTUwNCwgLTAsIDEsIC0wLCAtMC42NDU3ODk1MDQsIC0wLCAtMC43NjM1MTU0NzIpCiAgICAgICAgICAgICAgICBlbHNlaWYgTXlMZXZlbCA+PSAxNjAwIGFuZCBNeUxldmVsIDw9IDE2MjQgb3IgU2VsZWN0TW9uc3RlciA9PSAiRHJhZ29uIENyZXcgQXJjaGVyIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgTW9uID0gIkRyYWdvbiBDcmV3IEFyY2hlciIKICAgICAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiRHJhZ29uQ3Jld1F1ZXN0IgogICAgICAgICAgICAgICAgICAgIExldmVsUXVlc3QgPSAyCiAgICAgICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJEcmFnb24gQ3JldyBBcmNoZXIiCiAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lUXVlc3QgPSBDRnJhbWUubmV3KDY3NTAuNDkzMTY0MDYyNSwgMTI3LjQ0OTE2NTM0NDIzODI4LCAtNzExLjAzMDg4Mzc4OTA2MjUpCiAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lTW9uID0gQ0ZyYW1lLm5ldyg2NjY4Ljc2MTcyLCA0ODEuMzc2OTIzLCAzMjkuMTIyMDcsIC0wLjEyMTc4NzQyOSwgLTAsIC0wLjk5MjU1NjE1NSwgLTAsIDEsIC0wLCAwLjk5MjU1NjE1NSwgLTAsIC0wLjEyMTc4NzQyOSkKICAgICAgICAgICAgICAgIGVsc2VpZiAoTXlMZXZlbCA8IDE2MjUgb3IgTXlMZXZlbCA+IDE2NDkpIGFuZCBTZWxlY3RNb25zdGVyIH49ICJIeWRyYSBFbmZvcmNlciIgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIChNeUxldmVsIDwgMTY1MCBvciBNeUxldmVsID4gMTY5OSkgYW5kIFNlbGVjdE1vbnN0ZXIgfj0gIlZlbm9tb3VzIEFzc2FpbGFudCIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoTXlMZXZlbCA8IDE3MDAgb3IgTXlMZXZlbCA+IDE3MjQpIGFuZCBTZWxlY3RNb25zdGVyIH49ICJNYXJpbmUgQ29tbW9kb3JlIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTXlMZXZlbCA8IDE3MjUgb3IgTXlMZXZlbCA+IDE3NzQpIGFuZCBTZWxlY3RNb25zdGVyIH49ICJNYXJpbmUgUmVhciBBZG1pcmFsIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE15TGV2ZWwgPCAxNzc1IG9yIE15TGV2ZWwgPiAxNzk5KSBhbmQgU2VsZWN0TW9uc3RlciB+PSAiRmlzaG1hbiBSYWlkZXIiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgTXlMZXZlbCA+PSAxODAwIGFuZCBNeUxldmVsIDw9IDE4MjQgb3IgU2VsZWN0TW9uc3RlciA9PSAiRmlzaG1hbiBDYXB0YWluIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb24gPSAiRmlzaG1hbiBDYXB0YWluIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJEZWVwRm9yZXN0SXNsYW5kMyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVNb24gPSAiRmlzaG1hbiBDYXB0YWluIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lUXVlc3QgPSBDRnJhbWUubmV3KC0xMDU4MS42NTYzLCAzMzAuODcyOTU1LCAtODc2MS4xODY1MiwgLTAuODgyOTUyMjEzLCAtMCwgMC40Njk0NjM1NTcsIC0wLCAxLCAtMCwgLTAuNDY5NDYzNTU3LCAtMCwgLTAuODgyOTUyMjEzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lTW9uID0gQ0ZyYW1lLm5ldygtMTA5OTQuNzAxMTcxODc1LCAzNTIuMzgxNDA4NjkxNDA2MjUsIC05MDAyLjExMDM1MTU2MjUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiAoTXlMZXZlbCA8IDE4MjUgb3IgTXlMZXZlbCA+IDE4NDkpIGFuZCBTZWxlY3RNb25zdGVyIH49ICJGb3Jlc3QgUGlyYXRlIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTXlMZXZlbCA8IDE4NTAgb3IgTXlMZXZlbCA+IDE4OTkpIGFuZCBTZWxlY3RNb25zdGVyIH49ICJNeXRob2xvZ2ljYWwgUGlyYXRlIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgTXlMZXZlbCA+PSAxOTAwIGFuZCBNeUxldmVsIDw9IDE5MjQgb3IgU2VsZWN0TW9uc3RlciA9PSAiSnVuZ2xlIFBpcmF0ZSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb24gPSAiSnVuZ2xlIFBpcmF0ZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZVF1ZXN0ID0gIkRlZXBGb3Jlc3RJc2xhbmQyIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lTW9uID0gIkp1bmdsZSBQaXJhdGUiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygtMTI2ODAuMzgxOCwgMzg5Ljk3MTAzOSwgLTk5MDIuMDE5NTMsIC0wLjA4NzEzMTUwMDIsIC0wLCAwLjk5NjE5Njg2NiwgLTAsIDEsIC0wLCAtMC45OTYxOTY4NjYsIC0wLCAtMC4wODcxMzE1MDAyKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KC0xMjI1Ni4xNjAxNTYyNSwgMzMxLjczODI4MTI1LCAtMTA0ODUuODM2OTE0MDYyNSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgTXlMZXZlbCA+PSAxOTI1IGFuZCBNeUxldmVsIDw9IDE5NzQgb3IgU2VsZWN0TW9uc3RlciA9PSAiTXVza2V0ZWVyIFBpcmF0ZSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb24gPSAiTXVza2V0ZWVyIFBpcmF0ZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZVF1ZXN0ID0gIkRlZXBGb3Jlc3RJc2xhbmQyIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lTW9uID0gIk11c2tldGVlciBQaXJhdGUiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygtMTI2ODAuMzgxOCwgMzg5Ljk3MTAzOSwgLTk5MDIuMDE5NTMsIC0wLjA4NzEzMTUwMDIsIC0wLCAwLjk5NjE5Njg2NiwgLTAsIDEsIC0wLCAtMC45OTYxOTY4NjYsIC0wLCAtMC4wODcxMzE1MDAyKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KC0xMzQ1Ny45MDQyOTY4NzUsIDM5MS41NDU2NTQyOTY4NzUsIC05ODU5LjE3NzczNDM3NSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgTXlMZXZlbCA+PSAxOTc1IGFuZCBNeUxldmVsIDw9IDE5OTkgb3IgU2VsZWN0TW9uc3RlciA9PSAiUmVib3JuIFNrZWxldG9uIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJSZWJvcm4gU2tlbGV0b24iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExldmVsUXVlc3QgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJIYXVudGVkUXVlc3QxIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lTW9uID0gIlJlYm9ybiBTa2VsZXRvbiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lUXVlc3QgPSBDRnJhbWUubmV3KC05NDc5LjIxNjgsIDE0MS4yMTUwODgsIDU1NjYuMDkyNzcsIC0wLCAtMCwgMSwgLTAsIDEsIC0wLCAtMSwgLTAsIC0wKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KC04NzYzLjcyMzYzMjgxMjUsIDE2NS43MjI5OTE5NDMzNTkzOCwgNjE1OS44NjE4MTY0MDYyNSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKE15TGV2ZWwgPCAyMDAwIG9yIE15TGV2ZWwgPiAyMDI0KSBhbmQgU2VsZWN0TW9uc3RlciB+PSAiTGl2aW5nIFpvbWJpZSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBNeUxldmVsID49IDIwMjUgYW5kIE15TGV2ZWwgPD0gMjA0OSBvciBTZWxlY3RNb25zdGVyID09ICJEZW1vbmljIFNvdWwiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJEZW1vbmljIFNvdWwiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMZXZlbFF1ZXN0ID0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZVF1ZXN0ID0gIkhhdW50ZWRRdWVzdDIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lTW9uID0gIkRlbW9uaWMgU291bCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygtOTUxNi45OTMxNiwgMTcyLjAxNzE4MSwgNjA3OC40NjUzMywgLTAsIC0wLCAtMSwgLTAsIDEsIC0wLCAxLCAtMCwgLTApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KC05NTA1Ljg3MjA3MDMxMjUsIDE3Mi4xMDQ4Mjc4ODA4NTkzOCwgNjE1OC45OTMxNjQwNjI1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgTXlMZXZlbCA+PSAyMDUwIGFuZCBNeUxldmVsIDw9IDIwNzQgb3IgU2VsZWN0TW9uc3RlciA9PSAiUG9zZXNzZWQgTXVtbXkiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJQb3Nlc3NlZCBNdW1teSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExldmVsUXVlc3QgPSAyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiSGF1bnRlZFF1ZXN0MiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVNb24gPSAiUG9zZXNzZWQgTXVtbXkiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVRdWVzdCA9IENGcmFtZS5uZXcoLTk1MTYuOTkzMTYsIDE3Mi4wMTcxODEsIDYwNzguNDY1MzMsIC0wLCAtMCwgLTEsIC0wLCAxLCAtMCwgMSwgLTAsIC0wKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lTW9uID0gQ0ZyYW1lLm5ldygtOTU4Mi4wMjI0NjA5Mzc1LCA2LjI1MTUyNzMwOTQxNzcyNSwgNjIwNS40Nzg1MTU2MjUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiAoTXlMZXZlbCA8IDIwNzUgb3IgTXlMZXZlbCA+IDIwOTkpIGFuZCBTZWxlY3RNb25zdGVyIH49ICJQZWFudXQgU2NvdXQiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIE15TGV2ZWwgPj0gMjEwMCBhbmQgTXlMZXZlbCA8PSAyMTI0IG9yIFNlbGVjdE1vbnN0ZXIgPT0gIlBlYW51dCBQcmVzaWRlbnQiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb24gPSAiUGVhbnV0IFByZXNpZGVudCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMZXZlbFF1ZXN0ID0gMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJOdXRzSXNsYW5kUXVlc3QiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJQZWFudXQgUHJlc2lkZW50IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygtMjEwNC4zOTA4NjkxNDA2LCAzOC4xMDQxNjc5MzgyMzIsIC0xMDE5NC4yMTg3NSwgLTAsIC0wLCAtMSwgLTAsIDEsIC0wLCAxLCAtMCwgLTApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lTW9uID0gQ0ZyYW1lLm5ldygtMTg1OS4zNTQwMDM5MDYyNSwgMzguMTAzMTY4NDg3NTQ4ODMsIC0xMDQyMi40Mjk2ODc1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIE15TGV2ZWwgPj0gMjEyNSBhbmQgTXlMZXZlbCA8PSAyMTQ5IG9yIFNlbGVjdE1vbnN0ZXIgPT0gIkljZSBDcmVhbSBDaGVmIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9uID0gIkljZSBDcmVhbSBDaGVmIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExldmVsUXVlc3QgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZVF1ZXN0ID0gIkljZUNyZWFtSXNsYW5kUXVlc3QiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJJY2UgQ3JlYW0gQ2hlZiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVRdWVzdCA9IENGcmFtZS5uZXcoLTgyMC42NDgyNTQzOTQ1MywgNjUuODE5NTI2NjcyMzYzLCAtMTA5NjUuNzk1ODk4NDM4LCAtMCwgLTAsIC0xLCAtMCwgMSwgLTAsIDEsIC0wLCAtMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KC04NzIuMjQ2NTgyMDMxMjUsIDY1LjgxOTU3MjQ0ODczMDQ3LCAtMTA5MTkuOTU3MDMxMjUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgTXlMZXZlbCA+PSAyMTUwIGFuZCBNeUxldmVsIDw9IDIxOTkgb3IgU2VsZWN0TW9uc3RlciA9PSAiSWNlIENyZWFtIENvbW1hbmRlciIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJJY2UgQ3JlYW0gQ29tbWFuZGVyIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExldmVsUXVlc3QgPSAyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZVF1ZXN0ID0gIkljZUNyZWFtSXNsYW5kUXVlc3QiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJJY2UgQ3JlYW0gQ29tbWFuZGVyIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygtODIwLjY0ODI1NDM5NDUzLCA2NS44MTk1MjY2NzIzNjMsIC0xMDk2NS43OTU4OTg0MzgsIC0wLCAtMCwgLTEsIC0wLCAxLCAtMCwgMSwgLTAsIC0wKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoLTU1OC4wNjEwMzUxNTYyNSwgMTEyLjA0ODk1NzgyNDcwNzAzLCAtMTEyOTAuNzc0NDE0MDYyNSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiBNeUxldmVsID49IDIyMDAgYW5kIE15TGV2ZWwgPD0gMjIyNCBvciBTZWxlY3RNb25zdGVyID09ICJDb29raWUgQ3JhZnRlciIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJDb29raWUgQ3JhZnRlciIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMZXZlbFF1ZXN0ID0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJDYWtlUXVlc3QxIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVNb24gPSAiQ29va2llIENyYWZ0ZXIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lUXVlc3QgPSBDRnJhbWUubmV3KC0yMDIxLjMyMDA3LCAzNy43OTgyMjU0LCAtMTIwMjguNzI5NSwgMC45NTc1NzY5MzEsIC04LjgwMzAyMDUzRS04LCAwLjI4ODE3NzgxOCwgNi45MzAxMTg3RS04LCAxLCA3LjUxOTMxMjExRS04LCAtMC4yODgxNzc4MTgsIC01LjIwMzIxMzVFLTgsIDAuOTU3NTc2OTMxKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoLTIzNzQuMTM2NzE4NzUsIDM3Ljc5ODI2MzU0OTgwNDY5LCAtMTIxMjUuMzA4NTkzNzUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKE15TGV2ZWwgPCAyMjI1IG9yIE15TGV2ZWwgPiAyMjQ5KSBhbmQgU2VsZWN0TW9uc3RlciB+PSAiQ2FrZSBHdWFyZCIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIE15TGV2ZWwgPj0gMjI1MCBhbmQgTXlMZXZlbCA8PSAyMjc0IG9yIFNlbGVjdE1vbnN0ZXIgPT0gIkJha2luZyBTdGFmZiIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb24gPSAiQmFraW5nIFN0YWZmIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMZXZlbFF1ZXN0ID0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiQ2FrZVF1ZXN0MiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJCYWtpbmcgU3RhZmYiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygtMTkyNy45MTYwMiwgMzcuNzk4MTMzOSwgLTEyODQyLjUzOTEsIC0wLjk2ODA0NDQ2LCA0LjIyMTQyMTQzRS04LCAwLjI1MDc3ODU4NiwgNC43NDkxMTA2MkUtOCwgMSwgMS40OTkwNDcxMUUtOCwgLTAuMjUwNzc4NTg2LCAyLjY0MjExOTQxRS04LCAtMC45NjgwNDQ0NikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lTW9uID0gQ0ZyYW1lLm5ldygtMTg4Ny44MDk5MzY1MjM0Mzc1LCA3Ny42MTg1MDczODUyNTM5LCAtMTI5OTguMzUwNTg1OTM3NSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgTXlMZXZlbCA+PSAyMjc1IGFuZCBNeUxldmVsIDw9IDIyOTkgb3IgU2VsZWN0TW9uc3RlciA9PSAiSGVhZCBCYWtlciIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb24gPSAiSGVhZCBCYWtlciIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZVF1ZXN0ID0gIkNha2VRdWVzdDIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVNb24gPSAiSGVhZCBCYWtlciIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lUXVlc3QgPSBDRnJhbWUubmV3KC0xOTI3LjkxNjAyLCAzNy43OTgxMzM5LCAtMTI4NDIuNTM5MSwgLTAuOTY4MDQ0NDYsIDQuMjIxNDIxNDNFLTgsIDAuMjUwNzc4NTg2LCA0Ljc0OTExMDYyRS04LCAxLCAxLjQ5OTA0NzExRS04LCAtMC4yNTA3Nzg1ODYsIDIuNjQyMTE5NDFFLTgsIC0wLjk2ODA0NDQ2KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KC0yMjE2LjE4ODIzMjQyMTg3NSwgODIuODg0NTIxNDg0Mzc1LCAtMTI4NjkuMjkzOTQ1MzEyNSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKE15TGV2ZWwgPCAyMzAwIG9yIE15TGV2ZWwgPiAyMzI0KSBhbmQgU2VsZWN0TW9uc3RlciB+PSAiQ29jb2EgV2FycmlvciIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBNeUxldmVsID49IDIzMjUgYW5kIE15TGV2ZWwgPD0gMjM0OSBvciBTZWxlY3RNb25zdGVyID09ICJDaG9jb2xhdGUgQmFyIEJhdHRsZXIiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJDaG9jb2xhdGUgQmFyIEJhdHRsZXIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMZXZlbFF1ZXN0ID0gMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZVF1ZXN0ID0gIkNob2NRdWVzdDEiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lTW9uID0gIkNob2NvbGF0ZSBCYXIgQmF0dGxlciIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygyMzMuMjI4MzYzMDM3MTA5MzgsIDI5Ljg3NjAwMTM1ODAzMjIyNywgLTEyMjAxLjIzMzM5ODQzNzUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KDU4Mi41OTA1NzYxNzE4NzUsIDc3LjE4ODA5NTA5Mjc3MzQ0LCAtMTI0NjMuMTYyMTA5Mzc1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgTXlMZXZlbCA+PSAyMzUwIGFuZCBNeUxldmVsIDw9IDIzNzQgb3IgU2VsZWN0TW9uc3RlciA9PSAiU3dlZXQgVGhpZWYiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJTd2VldCBUaGllZiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExldmVsUXVlc3QgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiQ2hvY1F1ZXN0MiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVNb24gPSAiU3dlZXQgVGhpZWYiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVRdWVzdCA9IENGcmFtZS5uZXcoMTUwLjUwNjYzNzU3MzI0MjIsIDMwLjY5MzY5MzE2MTAxMDc0MiwgLTEyNzc0LjUwMjkyOTY4NzUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KDE2NS4xODg0NzY1NjI1LCA3Ni4wNTg4NTMxNDk0MTQwNiwgLTEyNjAwLjgzNjkxNDA2MjUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiBNeUxldmVsID49IDIzNzUgYW5kIE15TGV2ZWwgPD0gMjM5OSBvciBTZWxlY3RNb25zdGVyID09ICJDYW5keSBSZWJlbCIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9uID0gIkNhbmR5IFJlYmVsIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJDaG9jUXVlc3QyIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJDYW5keSBSZWJlbCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygxNTAuNTA2NjM3NTczMjQyMiwgMzAuNjkzNjkzMTYxMDEwNzQyLCAtMTI3NzQuNTAyOTI5Njg3NSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoMTM0Ljg2NTYzMTEwMzUxNTYyLCA3Ny4yNDc2ODA2NjQwNjI1LCAtMTI4NzYuNTQ3ODUxNTYyNSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIChNeUxldmVsIDwgMjQwMCBvciBNeUxldmVsID4gMjQyNCkgYW5kIFNlbGVjdE1vbnN0ZXIgfj0gIkNhbmR5IFBpcmF0ZSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgTXlMZXZlbCA+PSAyNDI1IGFuZCBNeUxldmVsIDw9IDI0NDkgb3IgU2VsZWN0TW9uc3RlciA9PSAiU25vdyBEZW1vbiIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJTbm93IERlbW9uIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExldmVsUXVlc3QgPSAyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZVF1ZXN0ID0gIkNhbmR5UXVlc3QxIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVNb24gPSAiU25vdyBEZW1vbiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVRdWVzdCA9IENGcmFtZS5uZXcoLTExNTAuMDQwMDM5MDYyNSwgMjAuMzc4OTM0ODYwMjI5NDkyLCAtMTQ0NDYuMzM0OTYwOTM3NSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KC04ODAuMjAwNjIyNTU4NTkzOCwgNzEuMjQ3NzY0NTg3NDAyMzQsIC0xNDUzOC42MDkzNzUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgTXlMZXZlbCA+PSAyNDUwIGFuZCBNeUxldmVsIDw9IDI0NzQgb3IgU2VsZWN0TW9uc3RlciA9PSAiSXNsZSBPdXRsYXciIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb24gPSAiSXNsZSBPdXRsYXciCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiVGlraVF1ZXN0MSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lTW9uID0gIklzbGUgT3V0bGF3IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygtMTY1NDcuNzQ4MDQ2ODc1LCA2MS4xMzUzMzQwMTQ4OTI1OCwgLTE3My40MTM2MDQ3MzYzMjgxMikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KC0xNjQ0Mi44MTQ0NTMxMjUsIDExNi4xMzg5OTk5Mzg5NjQ4NCwgLTI2NC40NjM3NzU2MzQ3NjU2KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIChNeUxldmVsIDwgMjQ3NSBvciBNeUxldmVsID4gMjUyNCkgYW5kIFNlbGVjdE1vbnN0ZXIgfj0gIklzbGFuZCBCb3kiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBNeUxldmVsID49IDI1MjUgYW5kIE15TGV2ZWwgPD0gMjU1MCBvciBTZWxlY3RNb25zdGVyID09ICJJc2xlIENoYW1waW9uIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJJc2xlIENoYW1waW9uIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMZXZlbFF1ZXN0ID0gMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiVGlraVF1ZXN0MiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJJc2xlIENoYW1waW9uIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVRdWVzdCA9IENGcmFtZS5uZXcoLTE2NTM5LjA3ODEyNSwgNTUuNjg2MzI4ODg3OTM5NDUsIDEwNTEuNTczODUyNTM5MDYyNSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lTW9uID0gQ0ZyYW1lLm5ldygtMTY2NDEuNjc5Njg3NSwgMjM1Ljc4MjU0Njk5NzA3MDMsIDEwMzEuMjgyOTU4OTg0Mzc1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiAoTXlMZXZlbCA8IDI1NTAgb3IgTXlMZXZlbCA+IDI1NzQpIGFuZCBTZWxlY3RNb25zdGVyIH49ICJTZXJwZW50IEh1bnRlciIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBNeUxldmVsID49IDI1NzUgb3IgU2VsZWN0TW9uc3RlciA9PSAiU2t1bGwgU2xheWVyIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb24gPSAiU2t1bGwgU2xheWVyIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJUaWtpUXVlc3QzIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJTa3VsbCBTbGF5ZXIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVRdWVzdCA9IENGcmFtZS5uZXcoLTE2NjY1LjE5MTQsIDEwNC41OTY0MDUsIDE1NzkuNjk0MzQsIDAuOTUxMDY4NDAxLCAtMCwgLTAuMzA4OTgwNDY1LCAtMCwgMSwgLTAsIDAuMzA4OTgwNDY1LCAtMCwgMC45NTEwNjg0MDEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KC0xNjg1NS4wNDMsIDEyMi40NTcyNTMsIDE0NzguMTUzMDgsIC0wLjk5OTM5MjI3MSwgLTAsIC0wLjAzNDg2ODc5OTEsIC0wLCAxLCAtMCwgMC4wMzQ4Njg3OTkxLCAtMCwgLTAuOTk5MzkyMjcxKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJTZXJwZW50IEh1bnRlciIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZVF1ZXN0ID0gIlRpa2lRdWVzdDMiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVNb24gPSAiU2VycGVudCBIdW50ZXIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygtMTY2NjUuMTkxNCwgMTA0LjU5NjQwNSwgMTU3OS42OTQzNCwgMC45NTEwNjg0MDEsIC0wLCAtMC4zMDg5ODA0NjUsIC0wLCAxLCAtMCwgMC4zMDg5ODA0NjUsIC0wLCAwLjk1MTA2ODQwMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lTW9uID0gQ0ZyYW1lLm5ldygtMTY1MjEuMDYyNSwgMTA2LjA5Mjg1LCAxNDg4Ljc4NDY3LCAwLjQ2OTQ2NzA0NCwgLTAsIDAuODgyOTUwMDA4LCAtMCwgMSwgLTAsIC0wLjg4Mjk1MDAwOCwgLTAsIDAuNDY5NDY3MDQ0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJJc2xhbmQgQm95IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExldmVsUXVlc3QgPSAyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZVF1ZXN0ID0gIlRpa2lRdWVzdDEiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJJc2xhbmQgQm95IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygtMTY1NDcuNzQ4MDQ2ODc1LCA2MS4xMzUzMzQwMTQ4OTI1OCwgLTE3My40MTM2MDQ3MzYzMjgxMikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KC0xNjkwMS4yNjE3MTg3NSwgODQuMDY3NTY1OTE3OTY4NzUsIC0xOTIuODg5MDY4NjAzNTE1NjIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9uID0gIkNhbmR5IFBpcmF0ZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExldmVsUXVlc3QgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiQ2FuZHlRdWVzdDEiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lTW9uID0gIkNhbmR5IFBpcmF0ZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygtMTE1MC4wNDAwMzkwNjI1LCAyMC4zNzg5MzQ4NjAyMjk0OTIsIC0xNDQ0Ni4zMzQ5NjA5Mzc1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lTW9uID0gQ0ZyYW1lLm5ldygtMTMxMC41MDAzNjYyMTA5Mzc1LCAyNi4wMTY1MjMzNjEyMDYwNTUsIC0xNDU2Mi40MDQyOTY4NzUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9uID0gIkNvY29hIFdhcnJpb3IiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExldmVsUXVlc3QgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJDaG9jUXVlc3QxIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lTW9uID0gIkNvY29hIFdhcnJpb3IiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygyMzMuMjI4MzYzMDM3MTA5MzgsIDI5Ljg3NjAwMTM1ODAzMjIyNywgLTEyMjAxLjIzMzM5ODQzNzUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoLTIxLjU1MzI4MzY5MTQwNjI1LCA4MC41NzQ5OTY5NDgyNDIxOSwgLTEyMzUyLjM4NzY5NTMxMjUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9uID0gIkNha2UgR3VhcmQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiQ2FrZVF1ZXN0MSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lTW9uID0gIkNha2UgR3VhcmQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lUXVlc3QgPSBDRnJhbWUubmV3KC0yMDIxLjMyMDA3LCAzNy43OTgyMjU0LCAtMTIwMjguNzI5NSwgMC45NTc1NzY5MzEsIC04LjgwMzAyMDUzRS04LCAwLjI4ODE3NzgxOCwgNi45MzAxMTg3RS04LCAxLCA3LjUxOTMxMjExRS04LCAtMC4yODgxNzc4MTgsIC01LjIwMzIxMzVFLTgsIDAuOTU3NTc2OTMxKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoLTE1OTguMzA3MDA2ODM1OTM3NSwgNDMuNzczMTk3MTc0MDcyMjY2LCAtMTIyNDQuNTgxMDU0Njg3NSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb24gPSAiUGVhbnV0IFNjb3V0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJOdXRzSXNsYW5kUXVlc3QiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lTW9uID0gIlBlYW51dCBTY291dCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygtMjEwNC4zOTA4NjkxNDA2LCAzOC4xMDQxNjc5MzgyMzIsIC0xMDE5NC4yMTg3NSwgLTAsIC0wLCAtMSwgLTAsIDEsIC0wLCAxLCAtMCwgLTApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KC0yMTQzLjI0MTk0MzM1OTM3NSwgNDcuNzIxOTg0ODYzMjgxMjUsIC0xMDAyOS45OTUxMTcxODc1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJMaXZpbmcgWm9tYmllIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMZXZlbFF1ZXN0ID0gMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiSGF1bnRlZFF1ZXN0MSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJMaXZpbmcgWm9tYmllIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVRdWVzdCA9IENGcmFtZS5uZXcoLTk0NzkuMjE2OCwgMTQxLjIxNTA4OCwgNTU2Ni4wOTI3NywgLTAsIC0wLCAxLCAtMCwgMSwgLTAsIC0xLCAtMCwgLTApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoLTEwMTQ0LjEzMTgzNTkzNzUsIDEzOC42MjY2Nzg0NjY3OTY4OCwgNTgzOC4wODg4NjcxODc1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJNeXRob2xvZ2ljYWwgUGlyYXRlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExldmVsUXVlc3QgPSAyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZVF1ZXN0ID0gIkRlZXBGb3Jlc3RJc2xhbmQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJNeXRob2xvZ2ljYWwgUGlyYXRlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygtMTMyMzQuMDQsIDMzMS40ODg0OTUsIC03NjI1LjQwMTM3LCAwLjcwNzEzNDI0NywgLTAsIC0wLjcwNzA3OTI5MSwgLTAsIDEsIC0wLCAwLjcwNzA3OTI5MSwgLTAsIDAuNzA3MTM0MjQ3KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoLTEzNjgwLjYwNzQyMTg3NSwgNTAxLjA4MTU0Mjk2ODc1LCAtNjk5MS4xODk0NTMxMjUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9uID0gIkZvcmVzdCBQaXJhdGUiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMZXZlbFF1ZXN0ID0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZVF1ZXN0ID0gIkRlZXBGb3Jlc3RJc2xhbmQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lTW9uID0gIkZvcmVzdCBQaXJhdGUiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVRdWVzdCA9IENGcmFtZS5uZXcoLTEzMjM0LjA0LCAzMzEuNDg4NDk1LCAtNzYyNS40MDEzNywgMC43MDcxMzQyNDcsIC0wLCAtMC43MDcwNzkyOTEsIC0wLCAxLCAtMCwgMC43MDcwNzkyOTEsIC0wLCAwLjcwNzEzNDI0NykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoLTEzMjc0LjQ3ODUxNTYyNSwgMzMyLjM3ODE0MzMxMDU0NjksIC03NzY5LjU4MDU2NjQwNjI1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJGaXNobWFuIFJhaWRlciIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZVF1ZXN0ID0gIkRlZXBGb3Jlc3RJc2xhbmQzIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lTW9uID0gIkZpc2htYW4gUmFpZGVyIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVRdWVzdCA9IENGcmFtZS5uZXcoLTEwNTgxLjY1NjMsIDMzMC44NzI5NTUsIC04NzYxLjE4NjUyLCAtMC44ODI5NTIyMTMsIC0wLCAwLjQ2OTQ2MzU1NywgLTAsIDEsIC0wLCAtMC40Njk0NjM1NTcsIC0wLCAtMC44ODI5NTIyMTMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoLTEwNDA3LjUyNjM2NzE4NzUsIDMzMS43NjI2MzQyNzczNDM3NSwgLTgzNjguNTE2NjAxNTYyNSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb24gPSAiTWFyaW5lIFJlYXIgQWRtaXJhbCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMZXZlbFF1ZXN0ID0gMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJNYXJpbmVUcmVlSXNsYW5kIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVNb24gPSAiTWFyaW5lIFJlYXIgQWRtaXJhbCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVRdWVzdCA9IENGcmFtZS5uZXcoMjQ4MS4wOTIyODUxNTYyNSwgNzQuMjcwNDkyNTUzNzEwOTQsIC02Nzc5LjY0MDYyNSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KDM3NjEuODEwMDYsIDEyMy45MTIwMDMsIC02ODIzLjUyMTk3LCAwLjk2MTI3Mzk2OCwgLTAsIDAuMjc1NTk0NTkyLCAtMCwgMSwgLTAsIC0wLjI3NTU5NDU5MiwgLTAsIDAuOTYxMjczOTY4KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJNYXJpbmUgQ29tbW9kb3JlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJNYXJpbmVUcmVlSXNsYW5kIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJNYXJpbmUgQ29tbW9kb3JlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lUXVlc3QgPSBDRnJhbWUubmV3KDI0ODEuMDkyMjg1MTU2MjUsIDc0LjI3MDQ5MjU1MzcxMDk0LCAtNjc3OS42NDA2MjUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KDI1NzcuMjUzOTEsIDc1LjYxMDAwMDYsIC03NzM5Ljg3MjA3LCAwLjQ5OTk1OTQ2OSwgLTAsIDAuODY2MDQ4ODEzLCAtMCwgMSwgLTAsIC0wLjg2NjA0ODgxMywgLTAsIDAuNDk5OTU5NDY5KQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJWZW5vbW91cyBBc3NhaWxhbnQiCiAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJWZW5vbUNyZXdRdWVzdCIKICAgICAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDIKICAgICAgICAgICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJWZW5vbW91cyBBc3NhaWxhbnQiCiAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldyg1MjA2LjQwMTg1NTQ2ODc1LCAxMDA0LjEwNDk4MDQ2ODc1LCA3NDguMzUwNDYzODY3MTg3NSkKICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lTW9uID0gQ0ZyYW1lLm5ldyg0Njc0LjkyNjc2LCAxMTM0LjgyNjU0LCA5OTYuMzA4ODM4LCAwLjczMTMyMTM5NCwgLTAsIC0wLjY4MjAzMzAwMiwgLTAsIDEsIC0wLCAwLjY4MjAzMzAwMiwgLTAsIDAuNzMxMzIxMzk0KQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIE1vbiA9ICJIeWRyYSBFbmZvcmNlciIKICAgICAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiVmVub21DcmV3UXVlc3QiCiAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDEKICAgICAgICAgICAgICAgICAgICBOYW1lTW9uID0gIkh5ZHJhIEVuZm9yY2VyIgogICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldyg1MjA2LjQwMTg1NTQ2ODc1LCAxMDA0LjEwNDk4MDQ2ODc1LCA3NDguMzUwNDYzODY3MTg3NSkKICAgICAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KDQ1NDcuMTE1MjMsIDEwMDMuMTAyMTcsIDMzNC4xOTQ4MjQsIDAuMzg4ODEwNDU2LCAtMCwgLTAuOTIxMzE3OTM1LCAtMCwgMSwgLTAsIDAuOTIxMzE3OTM1LCAtMCwgMC4zODg4MTA0NTYpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgTW9uID0gIlBpc3RvbCBCaWxsaW9uYWlyZSIKICAgICAgICAgICAgICAgIExldmVsUXVlc3QgPSAyCiAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiUGlyYXRlUG9ydFF1ZXN0IgogICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJQaXN0b2wgQmlsbGlvbmFpcmUiCiAgICAgICAgICAgICAgICBDRnJhbWVRdWVzdCA9IENGcmFtZS5uZXcoLTQ1MC4xMDQ2NDUsIDEwNy42ODE0NTgsIDU5NTAuNzI2MDcsIDAuOTU3MTA3NTQ0LCAtMCwgLTAuMjg5NzMyODQ0LCAtMCwgMSwgLTAsIDAuMjg5NzMyODQ0LCAtMCwgMC45NTcxMDc1NDQpCiAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KC01NC44MTEwMzUyLCA4My43Njk4NzQ2LCA1OTQ3Ljg0MDgyLCAtMC45NjU5Mjk3NDcsIC0wLCAwLjI1ODgwNDc5OCwgLTAsIDEsIC0wLCAtMC4yNTg4MDQ3OTgsIC0wLCAtMC45NjU5Mjk3NDcpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZWxzZWlmIChNeUxldmVsIDwgNzAwIG9yIE15TGV2ZWwgPiA3MjQpIGFuZCBTZWxlY3RNb25zdGVyIH49ICJSYWlkZXIiIHRoZW4KICAgICAgICBpZiBNeUxldmVsID49IDcyNSBhbmQgTXlMZXZlbCA8PSA3NzQgb3IgU2VsZWN0TW9uc3RlciA9PSAiTWVyY2VuYXJ5IiB0aGVuCiAgICAgICAgICAgIE1vbiA9ICJNZXJjZW5hcnkiCiAgICAgICAgICAgIExldmVsUXVlc3QgPSAyCiAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJBcmVhMVF1ZXN0IgogICAgICAgICAgICBOYW1lTW9uID0gIk1lcmNlbmFyeSIKICAgICAgICAgICAgQ0ZyYW1lUXVlc3QgPSBDRnJhbWUubmV3KC00MjkuNTQzNTE4LCA3MS43Njk5OTY2LCAxODM2LjE4MTg4LCAtMC4yMjQ5NTk4NSwgLTAsIC0wLjk3NDM2ODA5NSwgLTAsIDEsIC0wLCAwLjk3NDM2ODA5NSwgLTAsIC0wLjIyNDk1OTg1KQogICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KC0xMDA0LjMyNDQwMTg1NTQ2ODgsIDgwLjE1ODg2Njg4MjMyNDIyLCAxNDI0LjYxOTM4NDc2NTYyNSkKICAgICAgICBlbHNlaWYgTXlMZXZlbCA+PSA3NzUgYW5kIE15TGV2ZWwgPD0gNzk5IG9yIFNlbGVjdE1vbnN0ZXIgPT0gIlN3YW4gUGlyYXRlIiB0aGVuCiAgICAgICAgICAgIE1vbiA9ICJTd2FuIFBpcmF0ZSIKICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDEKICAgICAgICAgICAgTmFtZVF1ZXN0ID0gIkFyZWEyUXVlc3QiCiAgICAgICAgICAgIE5hbWVNb24gPSAiU3dhbiBQaXJhdGUiCiAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldyg2MzguNDM4MTEsIDcxLjc2OTk4OSwgOTE4LjI4Mjg5OCwgMC4xMzkyMDM5MDYsIC0wLCAwLjk5MDI2Mzc2LCAtMCwgMSwgLTAsIC0wLjk5MDI2Mzc2LCAtMCwgMC4xMzkyMDM5MDYpCiAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoMTA2OC42NjQzMDY2NDA2MjUsIDEzNy42MTQyODgzMzAwNzgxMiwgMTMyMi4xMDYwNzkxMDE1NjI1KQogICAgICAgIGVsc2VpZiAoTXlMZXZlbCA8IDgwMCBvciBNeUxldmVsID4gODc0KSBhbmQgU2VsZWN0TW9uc3RlciB+PSAiRmFjdG9yeSBTdGFmZiIgdGhlbgogICAgICAgICAgICBpZiBNeUxldmVsID49IDg3NSBhbmQgTXlMZXZlbCA8PSA4OTkgb3IgU2VsZWN0TW9uc3RlciA9PSAiTWFyaW5lIExpZXV0ZW5hbnQiIHRoZW4KICAgICAgICAgICAgICAgIE1vbiA9ICJNYXJpbmUgTGlldXRlbmFudCIKICAgICAgICAgICAgICAgIExldmVsUXVlc3QgPSAxCiAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiTWFyaW5lUXVlc3QzIgogICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJNYXJpbmUgTGlldXRlbmFudCIKICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygtMjQ0MC43OTYzOSwgNzEuNzE0MDczMiwgLTMyMTYuMDY4MTIsIDAuODY2MDA3MjY4LCAtMCwgMC41MDAwMzE0MTIsIC0wLCAxLCAtMCwgLTAuNTAwMDMxNDEyLCAtMCwgMC44NjYwMDcyNjgpCiAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KC0yODIxLjM3MjMxNDQ1MzEyNSwgNzUuODk3Mjc3ODMyMDMxMjUsIC0zMDcwLjA4OTExMTMyODEyNSkKICAgICAgICAgICAgZWxzZWlmIE15TGV2ZWwgPj0gOTAwIGFuZCBNeUxldmVsIDw9IDk0OSBvciBTZWxlY3RNb25zdGVyID09ICJNYXJpbmUgQ2FwdGFpbiIgdGhlbgogICAgICAgICAgICAgICAgTW9uID0gIk1hcmluZSBDYXB0YWluIgogICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDIKICAgICAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJNYXJpbmVRdWVzdDMiCiAgICAgICAgICAgICAgICBOYW1lTW9uID0gIk1hcmluZSBDYXB0YWluIgogICAgICAgICAgICAgICAgQ0ZyYW1lUXVlc3QgPSBDRnJhbWUubmV3KC0yNDQwLjc5NjM5LCA3MS43MTQwNzMyLCAtMzIxNi4wNjgxMiwgMC44NjYwMDcyNjgsIC0wLCAwLjUwMDAzMTQxMiwgLTAsIDEsIC0wLCAtMC41MDAwMzE0MTIsIC0wLCAwLjg2NjAwNzI2OCkKICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoLTE4NjEuMjMxMDc5MTAxNTYyNSwgODAuMTc2NTgyMzM2NDI1NzgsIC0zMjU0LjY5NzUwOTc2NTYyNSkKICAgICAgICAgICAgZWxzZWlmIChNeUxldmVsIDwgOTUwIG9yIE15TGV2ZWwgPiA5NzQpIGFuZCBTZWxlY3RNb25zdGVyIH49ICJab21iaWUiIHRoZW4KICAgICAgICAgICAgICAgIGlmIE15TGV2ZWwgPj0gOTc1IGFuZCBNeUxldmVsIDw9IDk5OSBvciBTZWxlY3RNb25zdGVyID09ICJWYW1waXJlIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgTW9uID0gIlZhbXBpcmUiCiAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDIKICAgICAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiWm9tYmllUXVlc3QiCiAgICAgICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJWYW1waXJlIgogICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygtNTQ5Ny4wNjE1MiwgNDcuNTkyMzAwNCwgLTc5NS4yMzcwNjEsIC0wLjI5MjQyMTQ2LCAtMCwgLTAuOTU2Mjg5NTMsIC0wLCAxLCAtMCwgMC45NTYyODk1MywgLTAsIC0wLjI5MjQyMTQ2KQogICAgICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoLTYwMzcuNjY3OTY4NzUsIDMyLjE4NDYzODk3NzA1MDc4LCAtMTM0MC42NTk3OTAwMzkwNjI1KQogICAgICAgICAgICAgICAgZWxzZWlmIChNeUxldmVsIDwgMTAwMCBvciBNeUxldmVsID4gMTA0OSkgYW5kIFNlbGVjdE1vbnN0ZXIgfj0gIlNub3cgVHJvb3BlciIgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIE15TGV2ZWwgPj0gMTA1MCBhbmQgTXlMZXZlbCA8PSAxMDk5IG9yIFNlbGVjdE1vbnN0ZXIgPT0gIldpbnRlciBXYXJyaW9yIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJXaW50ZXIgV2FycmlvciIKICAgICAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDIKICAgICAgICAgICAgICAgICAgICAgICAgTmFtZVF1ZXN0ID0gIlNub3dNb3VudGFpblF1ZXN0IgogICAgICAgICAgICAgICAgICAgICAgICBOYW1lTW9uID0gIldpbnRlciBXYXJyaW9yIgogICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVRdWVzdCA9IENGcmFtZS5uZXcoNjA5Ljg1ODgyNiwgNDAwLjExOTkwNCwgLTUzNzIuMjU5MjgsIC0wLjM3NDYwNDEwNiwgLTAsIDAuOTI3MTg0ODgsIC0wLCAxLCAtMCwgLTAuOTI3MTg0ODgsIC0wLCAtMC4zNzQ2MDQxMDYpCiAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoMTE0Mi43NDUxMTcxODc1LCA0NzUuNjM5ODAxMDI1MzkwNiwgLTUxOTkuNDE2NTAzOTA2MjUpCiAgICAgICAgICAgICAgICAgICAgZWxzZWlmIE15TGV2ZWwgPj0gMTEwMCBhbmQgTXlMZXZlbCA8PSAxMTI0IG9yIFNlbGVjdE1vbnN0ZXIgPT0gIkxhYiBTdWJvcmRpbmF0ZSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBNb24gPSAiTGFiIFN1Ym9yZGluYXRlIgogICAgICAgICAgICAgICAgICAgICAgICBMZXZlbFF1ZXN0ID0gMQogICAgICAgICAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiSWNlU2lkZVF1ZXN0IgogICAgICAgICAgICAgICAgICAgICAgICBOYW1lTW9uID0gIkxhYiBTdWJvcmRpbmF0ZSIKICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lUXVlc3QgPSBDRnJhbWUubmV3KC02MDY0LjA2ODg1LCAxNS4yNDIyODU3LCAtNDkwMi45Nzg1MiwgMC40NTM5NzI1NzgsIC0wLCAtMC44OTEwMTU2NDksIC0wLCAxLCAtMCwgMC44OTEwMTU2NDksIC0wLCAwLjQ1Mzk3MjU3OCkKICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lTW9uID0gQ0ZyYW1lLm5ldygtNTcwNy40NzE2Nzk2ODc1LCAxNS45NTE3MDk3NDczMTQ0NTMsIC00NTEzLjM5MjA4OTg0Mzc1KQogICAgICAgICAgICAgICAgICAgIGVsc2VpZiBNeUxldmVsID49IDExMjUgYW5kIE15TGV2ZWwgPD0gMTE3NCBvciBTZWxlY3RNb25zdGVyID09ICJIb3JuZWQgV2FycmlvciIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBNb24gPSAiSG9ybmVkIFdhcnJpb3IiCiAgICAgICAgICAgICAgICAgICAgICAgIExldmVsUXVlc3QgPSAyCiAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJJY2VTaWRlUXVlc3QiCiAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVNb24gPSAiSG9ybmVkIFdhcnJpb3IiCiAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygtNjA2NC4wNjg4NSwgMTUuMjQyMjg1NywgLTQ5MDIuOTc4NTIsIDAuNDUzOTcyNTc4LCAtMCwgLTAuODkxMDE1NjQ5LCAtMCwgMSwgLTAsIDAuODkxMDE1NjQ5LCAtMCwgMC40NTM5NzI1NzgpCiAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoLTYzNDEuMzY2Njk5MjE4NzUsIDE1Ljk1MTc3MDc4MjQ3MDcwMywgLTU3MjMuMTYyMTA5Mzc1KQogICAgICAgICAgICAgICAgICAgIGVsc2VpZiAoTXlMZXZlbCA8IDExNzUgb3IgTXlMZXZlbCA+IDExOTkpIGFuZCBTZWxlY3RNb25zdGVyIH49ICJNYWdtYSBOaW5qYSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoTXlMZXZlbCA8IDEyMDAgb3IgTXlMZXZlbCA+IDEyNDkpIGFuZCBTZWxlY3RNb25zdGVyIH49ICJMYXZhIFBpcmF0ZSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgTXlMZXZlbCA+PSAxMjUwIGFuZCBNeUxldmVsIDw9IDEyNzQgb3IgU2VsZWN0TW9uc3RlciA9PSAiU2hpcCBEZWNraGFuZCIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJTaGlwIERlY2toYW5kIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExldmVsUXVlc3QgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZVF1ZXN0ID0gIlNoaXBRdWVzdDEiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJTaGlwIERlY2toYW5kIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygxMDM3LjgwMTI3LCAxMjUuMDkyMTcxLCAzMjkxMS42MDE2KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoMTIxMi4wMTExMDgzOTg0Mzc1LCAxNTAuNzkyMDUzMjIyNjU2MjUsIDMzMDU5LjI0NjA5Mzc1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIF9HLkF1dG9GYXJtIGFuZCAoQ0ZyYW1lUXVlc3QuUG9zaXRpb24gLSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLk1hZ25pdHVkZSA+IDEwMDAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigicmVxdWVzdEVudHJhbmNlIiwgVmVjdG9yMy5uZXcoOTIzLjIxMjUyNDQxNDA2LCAxMjYuOTc2MDA1NTU0MiwgMzI4NTIuODMyMDMxMjUpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIChNeUxldmVsIDwgMTI3NSBvciBNeUxldmVsID4gMTI5OSkgYW5kIFNlbGVjdE1vbnN0ZXIgfj0gIlNoaXAgRW5naW5lZXIiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBNeUxldmVsID49IDEzMDAgYW5kIE15TGV2ZWwgPD0gMTMyNCBvciBTZWxlY3RNb25zdGVyID09ICJTaGlwIFN0ZXdhcmQiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9uID0gIlNoaXAgU3Rld2FyZCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZVF1ZXN0ID0gIlNoaXBRdWVzdDIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVNb24gPSAiU2hpcCBTdGV3YXJkIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVRdWVzdCA9IENGcmFtZS5uZXcoOTY4LjgwOTU3LCAxMjUuMDkyMTcxLCAzMzI0NC4xMjUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoOTE5LjQzODUzNzU5NzY1NjIsIDEyOS41NTU5OTk3NTU4NTkzOCwgMzM0MzYuMDM1MTU2MjUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIF9HLkF1dG9GYXJtIGFuZCAoQ0ZyYW1lUXVlc3QuUG9zaXRpb24gLSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLk1hZ25pdHVkZSA+IDEwMDAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoInJlcXVlc3RFbnRyYW5jZSIsIFZlY3RvcjMubmV3KDkyMy4yMTI1MjQ0MTQwNiwgMTI2Ljk3NjAwNTU1NDIsIDMyODUyLjgzMjAzMTI1KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIChNeUxldmVsIDwgMTMyNSBvciBNeUxldmVsID4gMTM0OSkgYW5kIFNlbGVjdE1vbnN0ZXIgfj0gIlNoaXAgT2ZmaWNlciIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTXlMZXZlbCA8IDEzNTAgb3IgTXlMZXZlbCA+IDEzNzQpIGFuZCBTZWxlY3RNb25zdGVyIH49ICJBcmN0aWMgV2FycmlvciIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgTXlMZXZlbCA+PSAxMzc1IGFuZCBNeUxldmVsIDw9IDE0MjQgb3IgU2VsZWN0TW9uc3RlciA9PSAiU25vdyBMdXJrZXIiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb24gPSAiU25vdyBMdXJrZXIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiRnJvc3RRdWVzdCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lTW9uID0gIlNub3cgTHVya2VyIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldyg1NjY3LjY1ODIsIDI2Ljc5OTc4MTgsIC02NDg2LjA4OTg0LCAtMC45MzM1ODc5MDksIC0wLCAtMC4zNTgzNDk1MDIsIC0wLCAxLCAtMCwgMC4zNTgzNDk1MDIsIC0wLCAtMC45MzM1ODc5MDkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lTW9uID0gQ0ZyYW1lLm5ldyg1NDA3LjA3MzczMDQ2ODc1LCA2OS4xOTQzNzQwODQ0NzI2NiwgLTY4ODAuODgwMzcxMDkzNzUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKE15TGV2ZWwgPCAxNDI1IG9yIE15TGV2ZWwgPiAxNDQ5KSBhbmQgU2VsZWN0TW9uc3RlciB+PSAiU2VhIFNvbGRpZXIiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBNeUxldmVsID49IDE0NTAgb3IgU2VsZWN0TW9uc3RlciA9PSAiV2F0ZXIgRmlnaHRlciIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb24gPSAiV2F0ZXIgRmlnaHRlciIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZVF1ZXN0ID0gIkZvcmdvdHRlblF1ZXN0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lTW9uID0gIldhdGVyIEZpZ2h0ZXIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygtMzA1NC40NDQ1OCwgMjM1LjU0NDI4MSwgLTEwMTQyLjgxOTMsIDAuOTkwMjcwMzc2LCAtMCwgLTAuMTM5MTU2NjQsIC0wLCAxLCAtMCwgMC4xMzkxNTY2NCwgLTAsIDAuOTkwMjcwMzc2KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KC0zMzUyLjkwMTM2NzE4NzUsIDI4NS4wMTU1NjM5NjQ4NDM3NSwgLTEwNTM0Ljg0MTc5Njg3NSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb24gPSAiU2VhIFNvbGRpZXIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiRm9yZ290dGVuUXVlc3QiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJTZWEgU29sZGllciIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVRdWVzdCA9IENGcmFtZS5uZXcoLTMwNTQuNDQ0NTgsIDIzNS41NDQyODEsIC0xMDE0Mi44MTkzLCAwLjk5MDI3MDM3NiwgLTAsIC0wLjEzOTE1NjY0LCAtMCwgMSwgLTAsIDAuMTM5MTU2NjQsIC0wLCAwLjk5MDI3MDM3NikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KC0zMDI4LjIyMzYzMjgxMjUsIDY0LjY3NDUxNDc3MDUwNzgxLCAtOTc3NS40MjY3NTc4MTI1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJBcmN0aWMgV2FycmlvciIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExldmVsUXVlc3QgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiRnJvc3RRdWVzdCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVNb24gPSAiQXJjdGljIFdhcnJpb3IiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVRdWVzdCA9IENGcmFtZS5uZXcoNTY2Ny42NTgyLCAyNi43OTk3ODE4LCAtNjQ4Ni4wODk4NCwgLTAuOTMzNTg3OTA5LCAtMCwgLTAuMzU4MzQ5NTAyLCAtMCwgMSwgLTAsIDAuMzU4MzQ5NTAyLCAtMCwgLTAuOTMzNTg3OTA5KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lTW9uID0gQ0ZyYW1lLm5ldyg1OTY2LjI0NjA5Mzc1LCA2Mi45NzAwMjAyOTQxODk0NSwgLTYxNzkuMzgyODEyNSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIF9HLkF1dG9GYXJtIGFuZCAoQ0ZyYW1lUXVlc3QuUG9zaXRpb24gLSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLk1hZ25pdHVkZSA+IDEwMDAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJyZXF1ZXN0RW50cmFuY2UiLCBWZWN0b3IzLm5ldygtNjUwOC41NTgxMDU0Njg4LCA1MDAwLjAzNDk5NjAzMjcxNSwgLTEzMi44Mzk1Mzg1NzQyMikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb24gPSAiU2hpcCBPZmZpY2VyIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMZXZlbFF1ZXN0ID0gMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiU2hpcFF1ZXN0MiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJTaGlwIE9mZmljZXIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldyg5NjguODA5NTcsIDEyNS4wOTIxNzEsIDMzMjQ0LjEyNSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lTW9uID0gQ0ZyYW1lLm5ldygxMDM2LjAxNzk0NDMzNTkzNzUsIDE4MS40MzkwNDExMzc2OTUzLCAzMzMxNS43MjY1NjI1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBfRy5BdXRvRmFybSBhbmQgKENGcmFtZVF1ZXN0LlBvc2l0aW9uIC0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKS5NYWduaXR1ZGUgPiAxMDAwMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJyZXF1ZXN0RW50cmFuY2UiLCBWZWN0b3IzLm5ldyg5MjMuMjEyNTI0NDE0MDYsIDEyNi45NzYwMDU1NTQyLCAzMjg1Mi44MzIwMzEyNSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbiA9ICJTaGlwIEVuZ2luZWVyIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExldmVsUXVlc3QgPSAyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZVF1ZXN0ID0gIlNoaXBRdWVzdDEiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJTaGlwIEVuZ2luZWVyIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygxMDM3LjgwMTI3LCAxMjUuMDkyMTcxLCAzMjkxMS42MDE2KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoOTE5LjQ3ODYzNzY5NTMxMjUsIDQzLjU0NDAxMzk3NzA1MDc4LCAzMjc3OS45Njg3NSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBfRy5BdXRvRmFybSBhbmQgKENGcmFtZVF1ZXN0LlBvc2l0aW9uIC0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKS5NYWduaXR1ZGUgPiAxMDAwMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoInJlcXVlc3RFbnRyYW5jZSIsIFZlY3RvcjMubmV3KDkyMy4yMTI1MjQ0MTQwNiwgMTI2Ljk3NjAwNTU1NDIsIDMyODUyLjgzMjAzMTI1KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb24gPSAiTGF2YSBQaXJhdGUiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMZXZlbFF1ZXN0ID0gMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZVF1ZXN0ID0gIkZpcmVTaWRlUXVlc3QiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lTW9uID0gIkxhdmEgUGlyYXRlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lUXVlc3QgPSBDRnJhbWUubmV3KC01NDI4LjAzMTc0LCAxNS4wNjIyOTIxLCAtNTI5OS40MzQ1NywgLTAuODgyOTUyMjEzLCAtMCwgMC40Njk0NjM1NTcsIC0wLCAxLCAtMCwgLTAuNDY5NDYzNTU3LCAtMCwgLTAuODgyOTUyMjEzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lTW9uID0gQ0ZyYW1lLm5ldygtNTIxMy4zMzE1NDI5Njg3NSwgNDkuNzM3ODgwNzA2Nzg3MTEsIC00NzAxLjQ1MTE3MTg3NSkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICBNb24gPSAiTWFnbWEgTmluamEiCiAgICAgICAgICAgICAgICAgICAgICAgIExldmVsUXVlc3QgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJGaXJlU2lkZVF1ZXN0IgogICAgICAgICAgICAgICAgICAgICAgICBOYW1lTW9uID0gIk1hZ21hIE5pbmphIgogICAgICAgICAgICAgICAgICAgICAgICBDRnJhbWVRdWVzdCA9IENGcmFtZS5uZXcoLTU0MjguMDMxNzQsIDE1LjA2MjI5MjEsIC01Mjk5LjQzNDU3LCAtMC44ODI5NTIyMTMsIC0wLCAwLjQ2OTQ2MzU1NywgLTAsIDEsIC0wLCAtMC40Njk0NjM1NTcsIC0wLCAtMC44ODI5NTIyMTMpCiAgICAgICAgICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoLTU0NDkuNjcyODUxNTYyNSwgNzYuNjU4NzQ0ODEyMDExNzIsIC01ODA4LjIwMDY4MzU5Mzc1KQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIE1vbiA9ICJTbm93IFRyb29wZXIiCiAgICAgICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDEKICAgICAgICAgICAgICAgICAgICBOYW1lUXVlc3QgPSAiU25vd01vdW50YWluUXVlc3QiCiAgICAgICAgICAgICAgICAgICAgTmFtZU1vbiA9ICJTbm93IFRyb29wZXIiCiAgICAgICAgICAgICAgICAgICAgQ0ZyYW1lUXVlc3QgPSBDRnJhbWUubmV3KDYwOS44NTg4MjYsIDQwMC4xMTk5MDQsIC01MzcyLjI1OTI4LCAtMC4zNzQ2MDQxMDYsIC0wLCAwLjkyNzE4NDg4LCAtMCwgMSwgLTAsIC0wLjkyNzE4NDg4LCAtMCwgLTAuMzc0NjA0MTA2KQogICAgICAgICAgICAgICAgICAgIENGcmFtZU1vbiA9IENGcmFtZS5uZXcoNTQ5LjE0NzMzODg2NzE4NzUsIDQyNy4zODcwNTQ0NDMzNTk0LCAtNTU2My42OTg3MzA0Njg3NSkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBNb24gPSAiWm9tYmllIgogICAgICAgICAgICAgICAgTGV2ZWxRdWVzdCA9IDEKICAgICAgICAgICAgICAgIE5hbWVRdWVzdCA9ICJab21iaWVRdWVzdCIKICAgICAgICAgICAgICAgIE5hbWVNb24gPSAiWm9tYmllIgogICAgICAgICAgICAgICAgQ0ZyYW1lUXVlc3QgPSBDRnJhbWUubmV3KC01NDk3LjA2MTUyLCA0Ny41OTIzMDA0LCAtNzk1LjIzNzA2MSwgLTAuMjkyNDIxNDYsIC0wLCAtMC45NTYyODk1MywgLTAsIDEsIC0wLCAwLjk1NjI4OTUzLCAtMCwgLTAuMjkyNDIxNDYpCiAgICAgICAgICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KC01NjU3Ljc3Njg1NTQ2ODc1LCA3OC45Njk3MzQxOTE4OTQ1MywgLTkyOC42ODcwMTE3MTg3NSkKICAgICAgICAgICAgZW5kCiAgICAgICAgZWxzZQogICAgICAgICAgICBNb24gPSAiRmFjdG9yeSBTdGFmZiIKICAgICAgICAgICAgTmFtZVF1ZXN0ID0gIkFyZWEyUXVlc3QiCiAgICAgICAgICAgIExldmVsUXVlc3QgPSAyCiAgICAgICAgICAgIE5hbWVNb24gPSAiRmFjdG9yeSBTdGFmZiIKICAgICAgICAgICAgQ0ZyYW1lUXVlc3QgPSBDRnJhbWUubmV3KDYzMi42OTg2MDgsIDczLjEwNTU5MDgsIDkxOC42NjYzMjEsIC0wLjAzMTk3MjIzNjksIDguOTYwNzQ4ODFFLTEwLCAtMC45OTk0ODg3NzEsIDEuMzYzMjY1MzNFLTEwLCAxLCA4LjkyMTcyMzM2RS0xMCwgMC45OTk0ODg3NzEsIC0xLjA3NzMyMDg3RS0xMCwgLTAuMDMxOTcyMjM2OSkKICAgICAgICAgICAgQ0ZyYW1lTW9uID0gQ0ZyYW1lLm5ldyg3My4wNzg2NzQzMTY0MDYyNSwgODEuODYzNDQxNDY3Mjg1MTYsIC0yNy40NzA2NzI2MDc0MjE4NzUpCiAgICAgICAgZW5kCiAgICBlbHNlCiAgICAgICAgTW9uID0gIlJhaWRlciIKICAgICAgICBMZXZlbFF1ZXN0ID0gMQogICAgICAgIE5hbWVRdWVzdCA9ICJBcmVhMVF1ZXN0IgogICAgICAgIE5hbWVNb24gPSAiUmFpZGVyIgogICAgICAgIENGcmFtZVF1ZXN0ID0gQ0ZyYW1lLm5ldygtNDI5LjU0MzUxOCwgNzEuNzY5OTk2NiwgMTgzNi4xODE4OCwgLTAuMjI0OTU5ODUsIC0wLCAtMC45NzQzNjgwOTUsIC0wLCAxLCAtMCwgMC45NzQzNjgwOTUsIC0wLCAtMC4yMjQ5NTk4NSkKICAgICAgICBDRnJhbWVNb24gPSBDRnJhbWUubmV3KC03MjguMzI2NzIxMTkxNDA2MiwgNTIuNzc5MzE5NzYzMTgzNTk0LCAyMzQ1Ljc3MDUwNzgxMjUpCiAgICBlbmQKZW5kCmZ1bmN0aW9uIEhvcCgpCiAgICBsb2NhbCB2YXJfaGU0Y3ZxID0gZ2FtZS5QbGFjZUlkCiAgICBsb2NhbCB2YXJfZHd3YXVuID0ge30KICAgIGxvY2FsIHZhcl9mNGpvcmUgPSAiIgogICAgbG9jYWwgdmFyX2xmZGN4MyA9IG9zLmRhdGUoIiEqdCIpLmhvdXIKICAgIGxvY2FsIHZhcl8wbjIzdzEgPSBmYWxzZQogICAgZnVuY3Rpb24gVFBSZXR1cm5lcigpCiAgICAgICAgbG9jYWwgdmFyX3RxbzB5bwogICAgICAgIGlmIHYyIH49ICIiIHRoZW4KICAgICAgICAgICAgdjUgPSBnYW1lLkh0dHBTZXJ2aWNlOkpTT05EZWNvZGUoZ2FtZTpIdHRwR2V0KCJodHRwczovL2dhbWVzLnJvYmxveC5jb20vdjEvZ2FtZXMvIiAuLiBsX1BsYWNlSWRfMCAuLiAiL3NlcnZlcnMvUHVibGljP3NvcnRPcmRlcj1Bc2MmbGltaXQ9MTAwJmN1cnNvcj0iIC4uIHYyKSkKICAgICAgICBlbHNlCiAgICAgICAgICAgIHY1ID0gZ2FtZS5IdHRwU2VydmljZTpKU09ORGVjb2RlKGdhbWU6SHR0cEdldCgiaHR0cHM6Ly9nYW1lcy5yb2Jsb3guY29tL3YxL2dhbWVzLyIgLi4gbF9QbGFjZUlkXzAgLi4gIi9zZXJ2ZXJzL1B1YmxpYz9zb3J0T3JkZXI9QXNjJmxpbWl0PTEwMCIpKQogICAgICAgIGVuZAogICAgICAgIGxvY2FsIHZhcl8zYnN0N3MgPSAiIgogICAgICAgIGlmIHY1Lm5leHRQYWdlQ3Vyc29yIGFuZCB2NS5uZXh0UGFnZUN1cnNvciB+PSAibnVsbCIgYW5kIHY1Lm5leHRQYWdlQ3Vyc29yIH49ICJudWxsIiB0aGVuCiAgICAgICAgICAgIHYyID0gdjUubmV4dFBhZ2VDdXJzb3IKICAgICAgICBlbmQKICAgICAgICBsb2NhbCB2YXJfY3gwbG1nID0gMAogICAgICAgIGZvciBfLCB2OSBpbiBwYWlycyh2NS5kYXRhKSBkbwogICAgICAgICAgICBsb2NhbCB2YXJfaXRtZDV2ID0gdHJ1ZQogICAgICAgICAgICB2NiA9IHRvc3RyaW5nKHY5LmlkKQogICAgICAgICAgICBpZiB0b251bWJlcih2OS5tYXhQbGF5ZXJzKSA+IHRvbnVtYmVyKHY5LnBsYXlpbmcpIHRoZW4KICAgICAgICAgICAgICAgIGZvciBfLCB2MTIgaW4gcGFpcnModjEpIGRvCiAgICAgICAgICAgICAgICAgICAgaWYgdjcgfj0gMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHY2ID09IHRvc3RyaW5nKHYxMikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjEwID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZWxzZWlmIHRvbnVtYmVyKGxfaG91cl8wKSB+PSB0b251bWJlcih2MTIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX2NxNG9mayA9IHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxID0ge30KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLmluc2VydCh2MSwgbF9ob3VyXzApCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICB2NyA9IHY3ICsgMQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBpZiB2MTAgPT0gdHJ1ZSB0aGVuCiAgICAgICAgICAgICAgICAgICAgdGFibGUuaW5zZXJ0KHYxLCB2NikKICAgICAgICAgICAgICAgICAgICB3YWl0KDAuMSkKICAgICAgICAgICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlRlbGVwb3J0U2VydmljZSIpOlRlbGVwb3J0VG9QbGFjZUluc3RhbmNlKGxfUGxhY2VJZF8wLCB2NiwgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyKQogICAgICAgICAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgICAgICAgICB3YWl0KDAuMSkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAogICAgZnVuY3Rpb24gVGVsZXBvcnQoKQogICAgICAgIHdoaWxlIHdhaXQoMC4xKSBkbwogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBUUFJldHVybmVyKCkKICAgICAgICAgICAgICAgIGlmIHYyIH49ICIiIHRoZW4KICAgICAgICAgICAgICAgICAgICBUUFJldHVybmVyKCkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKICAgIFRlbGVwb3J0KCkKZW5kCmZ1bmN0aW9uIENoZWNrSXRlbSh2MTQpCiAgICBmb3IgXywgdjE2IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoImdldEludmVudG9yeSIpKSBkbwogICAgICAgIGlmIHYxNi5OYW1lID09IHYxNCB0aGVuCiAgICAgICAgICAgIHJldHVybiB2MTYKICAgICAgICBlbmQKICAgIGVuZAplbmQKZnVuY3Rpb24gVXBkYXRlSXNsYW5kRVNQKCkKICAgIGZvciBfLCB2MTggaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5fV29ybGRPcmlnaW4uTG9jYXRpb25zOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgZG8KICAgICAgICAgICAgbG9jYWwgdmFyXzJ2OXE2NCA9IHYxOAogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBJc2xhbmRFU1AgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIGxfdjE4XzAuTmFtZSB+PSAiU2VhIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCBsX3YxOF8wOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyXzZoeTQ5ZyA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIiwgbF92MThfMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyMC5OYW1lID0gIk5hbWVFc3AiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjAuRXh0ZW50c09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjAuU2l6ZSA9IFVEaW0yLm5ldygxLCAyMDAsIDEsIDMwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjIwLkFkb3JuZWUgPSBsX3YxOF8wCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjAuQWx3YXlzT25Ub3AgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfc21zOHA4ID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCB2MjApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjEuRm9udCA9ICJHb3RoYW1TZW1pYm9sZCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyMS5Gb250U2l6ZSA9ICJTaXplMTQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjEuVGV4dFdyYXBwZWQgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjEuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjIxLlRleHRZQWxpZ25tZW50ID0gIlRvcCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyMS5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjIxLlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyMS5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbF92MThfMC5OYW1lRXNwLlRleHRMYWJlbC5UZXh0ID0gbF92MThfMC5OYW1lIC4uICIgICBcbiIgLi4gcm91bmQoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gbF92MThfMC5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBEaXN0YW5jZSIKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbHNlaWYgbF92MThfMDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICBsX3YxOF8wOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIik6RGVzdHJveSgpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCmVuZApmdW5jdGlvbiBpc25pbCh2MjIpCiAgICBsb2NhbCB2YXJfcWN6OGtrID0gbmlsCiAgICBpZiB2MjIgfj0gdjIzIHRoZW4KICAgICAgICBsb2NhbCB2YXJfeXMybWFnID0gZmFsc2UKICAgIGVuZAogICAgcmV0dXJuIHRydWUKZW5kCmxvY2FsIHZhcl9veTJlaDUgdjI2KHYyNSkKICAgIHJldHVybiBtYXRoLmZsb29yKHRvbnVtYmVyKHYyNSkgKyAwLjUpCmVuZApOdW1iZXIgPSBtYXRoLnJhbmRvbSgxLCAxMDAwMDAwKQpmdW5jdGlvbiBVcGRhdGVQbGF5ZXJDaGFtcygpCiAgICBmb3IgXywgdjI4IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgZG8KICAgICAgICAgICAgbG9jYWwgdmFyX2t0ZDdzbiA9IHYyOAogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBub3QgaXNuaWwobF92MjhfMC5DaGFyYWN0ZXIpIHRoZW4KICAgICAgICAgICAgICAgICAgICBpZiBub3QgRVNQUGxheWVyIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgaWYgbF92MjhfMC5DaGFyYWN0ZXIuSGVhZDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX3YyOF8wLkNoYXJhY3Rlci5IZWFkOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpOkRlc3Ryb3koKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbHNlaWYgbm90IGlzbmlsKGxfdjI4XzAuQ2hhcmFjdGVyLkhlYWQpIGFuZCBub3QgbF92MjhfMC5DaGFyYWN0ZXIuSGVhZDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl80aDl1NnUgPSBJbnN0YW5jZS5uZXcoIkJpbGxib2FyZEd1aSIsIGxfdjI4XzAuQ2hhcmFjdGVyLkhlYWQpCiAgICAgICAgICAgICAgICAgICAgICAgIHYzMC5OYW1lID0gIk5hbWVFc3AiIC4uIE51bWJlcgogICAgICAgICAgICAgICAgICAgICAgICB2MzAuRXh0ZW50c09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgIHYzMC5TaXplID0gVURpbTIubmV3KDEsIDIwMCwgMSwgMzApCiAgICAgICAgICAgICAgICAgICAgICAgIHYzMC5BZG9ybmVlID0gbF92MjhfMC5DaGFyYWN0ZXIuSGVhZAogICAgICAgICAgICAgICAgICAgICAgICB2MzAuQWx3YXlzT25Ub3AgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9qcjl4emwgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIHYzMCkKICAgICAgICAgICAgICAgICAgICAgICAgdjMxLkZvbnQgPSBFbnVtLkZvbnQuR290aGFtU2VtaWJvbGQKICAgICAgICAgICAgICAgICAgICAgICAgdjMxLkZvbnRTaXplID0gIlNpemUxNCIKICAgICAgICAgICAgICAgICAgICAgICAgdjMxLlRleHRXcmFwcGVkID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICB2MzEuVGV4dCA9IGxfdjI4XzAuTmFtZSAuLiAiIFxuIiAuLiB2MjYoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gbF92MjhfMC5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBEaXN0YW5jZSIKICAgICAgICAgICAgICAgICAgICAgICAgdjMxLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgdjMxLlRleHRZQWxpZ25tZW50ID0gIlRvcCIKICAgICAgICAgICAgICAgICAgICAgICAgdjMxLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgIHYzMS5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC41CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxfdjI4XzAuVGVhbSA9PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuVGVhbSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MzEuVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMCwgMjU1LCAwKQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MzEuVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMjU1LCAwLCAwKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIGxfdjI4XzAuQ2hhcmFjdGVyLkhlYWRbIk5hbWVFc3AiIC4uIE51bWJlcl0uVGV4dExhYmVsLlRleHQgPSBsX3YyOF8wLk5hbWUgLi4gIiB8ICIgLi4gdjI2KChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIGxfdjI4XzAuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2VcbkhlYWx0aCA6ICIgLi4gdjI2KGxfdjI4XzAuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCAqIDEwMCAvIGxfdjI4XzAuQ2hhcmFjdGVyLkh1bWFub2lkLk1heEhlYWx0aCkgLi4gIiUiCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCmVuZApmdW5jdGlvbiBVcGRhdGVDaGVzdEVTUCgpCiAgICBmb3IgXywgdjMzIGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiQ29sbGVjdGlvblNlcnZpY2UiKTpHZXRUYWdnZWQoIl9DaGVzdFRhZ2dlZCIpKSBkbwogICAgICAgIGRvCiAgICAgICAgICAgIGxvY2FsIHZhcl93bzUzMm4gPSB2MzMKICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgaWYgX0cuQ2hlc3RFU1AgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBsX3YzM18wOkdldEF0dHJpYnV0ZSgiSXNEaXNhYmxlZCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgaWYgbm90IGxfdjMzXzA6RmluZEZpcnN0Q2hpbGQoIkNoZXN0RXNwIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX3JiZ2g4MSA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIiwgbF92MzNfMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYzNS5OYW1lID0gIkNoZXN0RXNwIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjM1LkV4dGVudHNPZmZzZXQgPSBWZWN0b3IzLm5ldygwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjM1LlNpemUgPSBVRGltMi5uZXcoMSwgMjAwLCAxLCAzMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYzNS5BZG9ybmVlID0gbF92MzNfMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjM1LkFsd2F5c09uVG9wID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX2E5ZXg2eSA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgdjM1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjM2LkZvbnQgPSAiQ29kZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYzNi5Gb250U2l6ZSA9ICJTaXplMTQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MzYuVGV4dFdyYXBwZWQgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MzYuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjM2LlRleHRZQWxpZ25tZW50ID0gIlRvcCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYzNi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjM2LlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYzNi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyMTUsIDApCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl90djNiZXcgPSB2MjYoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gbF92MzNfMDpHZXRQaXZvdCgpLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbF92MzNfMC5DaGVzdEVzcC5UZXh0TGFiZWwuVGV4dCA9ICJDaGVzdFxuIiAuLiB2MzcgLi4gIiBNIgogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVsc2VpZiBsX3YzM18wOkZpbmRGaXJzdENoaWxkKCJDaGVzdEVzcCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICBsX3YzM18wOkZpbmRGaXJzdENoaWxkKCJDaGVzdEVzcCIpOkRlc3Ryb3koKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbmQKICAgIGVuZAplbmQKZnVuY3Rpb24gdjI2KHYzOCkKICAgIHJldHVybiBtYXRoLmZsb29yKHYzOCArIDAuNSkKZW5kCmZ1bmN0aW9uIFVwZGF0ZURldmlsQ2hhbXMoKQogICAgZm9yIF8sIHY0MCBpbiBwYWlycyhnYW1lLldvcmtzcGFjZTpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgIGRvCiAgICAgICAgICAgIGxvY2FsIHZhcl9yMzkydGwgPSB2NDAKICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgaWYgRGV2aWxGcnVpdEVTUCB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgc3RyaW5nLmZpbmQobF92NDBfMC5OYW1lLCAiRnJ1aXQiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCBsX3Y0MF8wLkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfdjNnM29vID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiLCBsX3Y0MF8wLkhhbmRsZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY0Mi5OYW1lID0gIk5hbWVFc3AiIC4uIE51bWJlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjQyLkV4dGVudHNPZmZzZXQgPSBWZWN0b3IzLm5ldygwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjQyLlNpemUgPSBVRGltMi5uZXcoMSwgMjAwLCAxLCAzMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY0Mi5BZG9ybmVlID0gbF92NDBfMC5IYW5kbGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY0Mi5BbHdheXNPblRvcCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl95YWc3c3EgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIHY0MikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY0My5Gb250ID0gRW51bS5Gb250LkdvdGhhbVNlbWlib2xkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NDMuRm9udFNpemUgPSAiU2l6ZTE0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjQzLlRleHRXcmFwcGVkID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjQzLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY0My5UZXh0WUFsaWdubWVudCA9ICJUb3AiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NDMuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY0My5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC41CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NDMuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NDMuVGV4dCA9IGxfdjQwXzAuTmFtZSAuLiAiIFxuIiAuLiB2MjYoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gbF92NDBfMC5IYW5kbGUuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxfdjQwXzAuSGFuZGxlWyJOYW1lRXNwIiAuLiBOdW1iZXJdLlRleHRMYWJlbC5UZXh0ID0gbF92NDBfMC5OYW1lIC4uICIgICBcbiIgLi4gdjI2KChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIGxfdjQwXzAuSGFuZGxlLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVsc2VpZiBsX3Y0MF8wLkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgbF92NDBfMC5IYW5kbGU6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiIC4uIE51bWJlcik6RGVzdHJveSgpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCmVuZApmdW5jdGlvbiBVcGRhdGVGbG93ZXJDaGFtcygpCiAgICBmb3IgXywgdjQ1IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgZG8KICAgICAgICAgICAgbG9jYWwgdmFyXzNjZ2d1eCA9IHY0NQogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBsX3Y0NV8wLk5hbWUgPT0gIkZsb3dlcjIiIG9yIGxfdjQ1XzAuTmFtZSA9PSAiRmxvd2VyMSIgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIEZsb3dlckVTUCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxfdjQ1XzA6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiIC4uIE51bWJlcikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbF92NDVfMFsiTmFtZUVzcCIgLi4gTnVtYmVyXS5UZXh0TGFiZWwuVGV4dCA9IGxfdjQ1XzAuTmFtZSAuLiAiICAgXG4iIC4uIHYyNigoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSBsX3Y0NV8wLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfNjdwZTQzID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiLCBsX3Y0NV8wKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjQ3Lk5hbWUgPSAiTmFtZUVzcCIgLi4gTnVtYmVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NDcuRXh0ZW50c09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NDcuU2l6ZSA9IFVEaW0yLm5ldygxLCAyMDAsIDEsIDMwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjQ3LkFkb3JuZWUgPSBsX3Y0NV8wCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NDcuQWx3YXlzT25Ub3AgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfNXFtZ29kID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCB2NDcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NDguRm9udCA9IEVudW0uRm9udC5Hb3RoYW1TZW1pYm9sZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjQ4LkZvbnRTaXplID0gIlNpemUxNCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY0OC5UZXh0V3JhcHBlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY0OC5TaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NDguVGV4dFlBbGlnbm1lbnQgPSAiVG9wIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjQ4LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NDguVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjQ4LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDAsIDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBsX3Y0NV8wLk5hbWUgPT0gIkZsb3dlcjEiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NDguVGV4dCA9ICJCbHVlIEZsb3dlciIgLi4gIiBcbiIgLi4gdjI2KChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIGxfdjQ1XzAuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjQ4LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAyNTUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxfdjQ1XzAuTmFtZSA9PSAiRmxvd2VyMiIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY0OC5UZXh0ID0gIlJlZCBGbG93ZXIiIC4uICIgXG4iIC4uIHYyNigoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSBsX3Y0NV8wLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY0OC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAwLCAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVsc2VpZiBsX3Y0NV8wOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgbF92NDVfMDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKTpEZXN0cm95KCkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kCmZ1bmN0aW9uIFVwZGF0ZVJlYWxGcnVpdENoYW1zKCkKICAgIGZvciBfLCB2NTAgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2UuQXBwbGVTcGF3bmVyOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgaWYgdjUwOklzQSgiVG9vbCIpIHRoZW4KICAgICAgICAgICAgaWYgbm90IFJlYWxGcnVpdEVTUCB0aGVuCiAgICAgICAgICAgICAgICBpZiB2NTAuSGFuZGxlOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpIHRoZW4KICAgICAgICAgICAgICAgICAgICB2NTAuSGFuZGxlOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpOkRlc3Ryb3koKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVsc2VpZiB2NTAuSGFuZGxlOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpIHRoZW4KICAgICAgICAgICAgICAgIHY1MC5IYW5kbGVbIk5hbWVFc3AiIC4uIE51bWJlcl0uVGV4dExhYmVsLlRleHQgPSB2NTAuTmFtZSAuLiAiICIgLi4gdjI2KChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIHY1MC5IYW5kbGUuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGxvY2FsIHZhcl94bTV5cHMgPSBJbnN0YW5jZS5uZXcoIkJpbGxib2FyZEd1aSIsIHY1MC5IYW5kbGUpCiAgICAgICAgICAgICAgICB2NTEuTmFtZSA9ICJOYW1lRXNwIiAuLiBOdW1iZXIKICAgICAgICAgICAgICAgIHY1MS5FeHRlbnRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMSwgMCkKICAgICAgICAgICAgICAgIHY1MS5TaXplID0gVURpbTIubmV3KDEsIDIwMCwgMSwgMzApCiAgICAgICAgICAgICAgICB2NTEuQWRvcm5lZSA9IHY1MC5IYW5kbGUKICAgICAgICAgICAgICAgIHY1MS5BbHdheXNPblRvcCA9IHRydWUKICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9hZnY4NmwgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIHY1MSkKICAgICAgICAgICAgICAgIHY1Mi5Gb250ID0gRW51bS5Gb250LkdvdGhhbVNlbWlib2xkCiAgICAgICAgICAgICAgICB2NTIuRm9udFNpemUgPSAiU2l6ZTE0IgogICAgICAgICAgICAgICAgdjUyLlRleHRXcmFwcGVkID0gdHJ1ZQogICAgICAgICAgICAgICAgdjUyLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgIHY1Mi5UZXh0WUFsaWdubWVudCA9ICJUb3AiCiAgICAgICAgICAgICAgICB2NTIuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgIHY1Mi5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC41CiAgICAgICAgICAgICAgICB2NTIuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkKICAgICAgICAgICAgICAgIHY1Mi5UZXh0ID0gdjUwLk5hbWUgLi4gIiBcbiIgLi4gdjI2KChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIHY1MC5IYW5kbGUuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCiAgICBmb3IgXywgdjU0IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlLlBpbmVhcHBsZVNwYXduZXI6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICBpZiB2NTQ6SXNBKCJUb29sIikgdGhlbgogICAgICAgICAgICBpZiBSZWFsRnJ1aXRFU1AgdGhlbgogICAgICAgICAgICAgICAgaWYgdjU0LkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgdjU0LkhhbmRsZVsiTmFtZUVzcCIgLi4gTnVtYmVyXS5UZXh0TGFiZWwuVGV4dCA9IHY1NC5OYW1lIC4uICIgIiAuLiB2MjYoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gdjU0LkhhbmRsZS5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBEaXN0YW5jZSIKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfaTNud3FhID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiLCB2NTQuSGFuZGxlKQogICAgICAgICAgICAgICAgICAgIHY1NS5OYW1lID0gIk5hbWVFc3AiIC4uIE51bWJlcgogICAgICAgICAgICAgICAgICAgIHY1NS5FeHRlbnRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICB2NTUuU2l6ZSA9IFVEaW0yLm5ldygxLCAyMDAsIDEsIDMwKQogICAgICAgICAgICAgICAgICAgIHY1NS5BZG9ybmVlID0gdjU0LkhhbmRsZQogICAgICAgICAgICAgICAgICAgIHY1NS5BbHdheXNPblRvcCA9IHRydWUKICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfOTN2N28zID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCB2NTUpCiAgICAgICAgICAgICAgICAgICAgdjU2LkZvbnQgPSBFbnVtLkZvbnQuR290aGFtU2VtaWJvbGQKICAgICAgICAgICAgICAgICAgICB2NTYuRm9udFNpemUgPSAiU2l6ZTE0IgogICAgICAgICAgICAgICAgICAgIHY1Ni5UZXh0V3JhcHBlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICB2NTYuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgIHY1Ni5UZXh0WUFsaWdubWVudCA9ICJUb3AiCiAgICAgICAgICAgICAgICAgICAgdjU2LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgdjU2LlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjUKICAgICAgICAgICAgICAgICAgICB2NTYuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMTc0LCAwKQogICAgICAgICAgICAgICAgICAgIHY1Ni5UZXh0ID0gdjU0Lk5hbWUgLi4gIiBcbiIgLi4gdjI2KChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIHY1NC5IYW5kbGUuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZWxzZWlmIHY1NC5IYW5kbGU6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiIC4uIE51bWJlcikgdGhlbgogICAgICAgICAgICAgICAgdjU0LkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKTpEZXN0cm95KCkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKICAgIGZvciBfLCB2NTggaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2UuQmFuYW5hU3Bhd25lcjpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgIGlmIHY1ODpJc0EoIlRvb2wiKSB0aGVuCiAgICAgICAgICAgIGlmIFJlYWxGcnVpdEVTUCB0aGVuCiAgICAgICAgICAgICAgICBpZiBub3QgdjU4LkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX3dzM2N5cCA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIiwgdjU4LkhhbmRsZSkKICAgICAgICAgICAgICAgICAgICB2NTkuTmFtZSA9ICJOYW1lRXNwIiAuLiBOdW1iZXIKICAgICAgICAgICAgICAgICAgICB2NTkuRXh0ZW50c09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgdjU5LlNpemUgPSBVRGltMi5uZXcoMSwgMjAwLCAxLCAzMCkKICAgICAgICAgICAgICAgICAgICB2NTkuQWRvcm5lZSA9IHY1OC5IYW5kbGUKICAgICAgICAgICAgICAgICAgICB2NTkuQWx3YXlzT25Ub3AgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX3h0bmEyZCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgdjU5KQogICAgICAgICAgICAgICAgICAgIHY2MC5Gb250ID0gRW51bS5Gb250LkdvdGhhbVNlbWlib2xkCiAgICAgICAgICAgICAgICAgICAgdjYwLkZvbnRTaXplID0gIlNpemUxNCIKICAgICAgICAgICAgICAgICAgICB2NjAuVGV4dFdyYXBwZWQgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgdjYwLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICB2NjAuVGV4dFlBbGlnbm1lbnQgPSAiVG9wIgogICAgICAgICAgICAgICAgICAgIHY2MC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgICAgIHY2MC5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC41CiAgICAgICAgICAgICAgICAgICAgdjYwLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1NSwgMCkKICAgICAgICAgICAgICAgICAgICB2NjAuVGV4dCA9IHY1OC5OYW1lIC4uICIgXG4iIC4uIHYyNigoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSB2NTguSGFuZGxlLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIHY1OC5IYW5kbGVbIk5hbWVFc3AiIC4uIE51bWJlcl0uVGV4dExhYmVsLlRleHQgPSB2NTguTmFtZSAuLiAiICIgLi4gdjI2KChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIHY1OC5IYW5kbGUuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZWxzZWlmIHY1OC5IYW5kbGU6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiIC4uIE51bWJlcikgdGhlbgogICAgICAgICAgICAgICAgdjU4LkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKTpEZXN0cm95KCkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKZW5kCmZ1bmN0aW9uIFVwZGF0ZUlzbGFuZEVTUCgpCiAgICBmb3IgXywgdjYyIGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuX1dvcmxkT3JpZ2luLkxvY2F0aW9uczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgIGRvCiAgICAgICAgICAgIGxvY2FsIHZhcl85d2JzaXYgPSB2NjIKICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgaWYgSXNsYW5kRVNQIHRoZW4KICAgICAgICAgICAgICAgICAgICBpZiBsX3Y2Ml8wLk5hbWUgfj0gIlNlYSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBpZiBub3QgbF92NjJfMDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl95cHduZGIgPSBJbnN0YW5jZS5uZXcoIkJpbGxib2FyZEd1aSIsIGxfdjYyXzApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NjQuTmFtZSA9ICJOYW1lRXNwIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjY0LkV4dGVudHNPZmZzZXQgPSBWZWN0b3IzLm5ldygwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjY0LlNpemUgPSBVRGltMi5uZXcoMSwgMjAwLCAxLCAzMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY2NC5BZG9ybmVlID0gbF92NjJfMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjY0LkFsd2F5c09uVG9wID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX2FqdWliZyA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgdjY0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjY1LkZvbnQgPSAiR290aGFtU2VtaWJvbGQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NjUuRm9udFNpemUgPSAiU2l6ZTE0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjY1LlRleHRXcmFwcGVkID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjY1LlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY2NS5UZXh0WUFsaWdubWVudCA9ICJUb3AiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NjUuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY2NS5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC41CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NjUuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDgsIDI0NywgMjU1KQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX3Y2Ml8wLk5hbWVFc3AuVGV4dExhYmVsLlRleHQgPSBsX3Y2Ml8wLk5hbWUgLi4gIiAgIFxuIiAuLiB2MjYoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gbF92NjJfMC5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBEaXN0YW5jZSIKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbHNlaWYgbF92NjJfMDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICBsX3Y2Ml8wOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIik6RGVzdHJveSgpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCmVuZApmdW5jdGlvbiBpc25pbCh2NjYpCiAgICBsb2NhbCB2YXJfY2thdXZuID0gbmlsCiAgICBpZiB2NjYgfj0gdjY3IHRoZW4KICAgICAgICBsb2NhbCB2YXJfNHF3bHB4ID0gZmFsc2UKICAgIGVuZAogICAgcmV0dXJuIHRydWUKZW5kCmxvY2FsIHZhcl9qcWNnbTQgdjcwKHY2OSkKICAgIHJldHVybiBtYXRoLmZsb29yKHRvbnVtYmVyKHY2OSkgKyAwLjUpCmVuZApOdW1iZXIgPSBtYXRoLnJhbmRvbSgxLCAxMDAwMDAwKQpmdW5jdGlvbiBVcGRhdGVQbGF5ZXJDaGFtcygpCiAgICBmb3IgXywgdjcyIGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgZG8KICAgICAgICAgICAgbG9jYWwgdmFyX2h5bjE3byA9IHY3MgogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBub3QgaXNuaWwobF92NzJfMC5DaGFyYWN0ZXIpIHRoZW4KICAgICAgICAgICAgICAgICAgICBpZiBFU1BQbGF5ZXIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBpZiBub3QgaXNuaWwobF92NzJfMC5DaGFyYWN0ZXIuSGVhZCkgYW5kIG5vdCBsX3Y3Ml8wLkNoYXJhY3Rlci5IZWFkOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl80ODBhOGYgPSBJbnN0YW5jZS5uZXcoIkJpbGxib2FyZEd1aSIsIGxfdjcyXzAuQ2hhcmFjdGVyLkhlYWQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NzQuTmFtZSA9ICJOYW1lRXNwIiAuLiBOdW1iZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY3NC5FeHRlbnRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY3NC5TaXplID0gVURpbTIubmV3KDEsIDIwMCwgMSwgMzApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NzQuQWRvcm5lZSA9IGxfdjcyXzAuQ2hhcmFjdGVyLkhlYWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY3NC5BbHdheXNPblRvcCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9janI3emUgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIHY3NCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY3NS5Gb250ID0gRW51bS5Gb250LkdvdGhhbVNlbWlib2xkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NzUuRm9udFNpemUgPSAiU2l6ZTE0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjc1LlRleHRXcmFwcGVkID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjc1LlRleHQgPSBsX3Y3Ml8wLk5hbWUgLi4gIiBcbiIgLi4gdjcwKChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIGxfdjcyXzAuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NzUuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjc1LlRleHRZQWxpZ25tZW50ID0gIlRvcCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY3NS5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjc1LlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxfdjcyXzAuVGVhbSA9PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuVGVhbSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjc1LlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDAsIDI1NSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NzUuVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMjU1LCAwLCAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxfdjcyXzAuQ2hhcmFjdGVyLkhlYWRbIk5hbWVFc3AiIC4uIE51bWJlcl0uVGV4dExhYmVsLlRleHQgPSBsX3Y3Ml8wLk5hbWUgLi4gIiB8ICIgLi4gdjcwKChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIGxfdjcyXzAuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2VcbkhlYWx0aCA6ICIgLi4gdjcwKGxfdjcyXzAuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCAqIDEwMCAvIGxfdjcyXzAuQ2hhcmFjdGVyLkh1bWFub2lkLk1heEhlYWx0aCkgLi4gIiUiCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVsc2VpZiBsX3Y3Ml8wLkNoYXJhY3Rlci5IZWFkOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgbF92NzJfMC5DaGFyYWN0ZXIuSGVhZDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKTpEZXN0cm95KCkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kCmZ1bmN0aW9uIFVwZGF0ZUNoZXN0RVNQKCkKICAgIGZvciBfLCB2NzcgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJDb2xsZWN0aW9uU2VydmljZSIpOkdldFRhZ2dlZCgiX0NoZXN0VGFnZ2VkIikpIGRvCiAgICAgICAgZG8KICAgICAgICAgICAgbG9jYWwgdmFyXzF4M2h4cSA9IHY3NwogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBfRy5DaGVzdEVTUCB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgbm90IGxfdjc3XzA6R2V0QXR0cmlidXRlKCJJc0Rpc2FibGVkIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBpZiBsX3Y3N18wOkZpbmRGaXJzdENoaWxkKCJDaGVzdEVzcCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl95dWZ2OTYgPSB2NzAoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gbF92NzdfMDpHZXRQaXZvdCgpLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbF92NzdfMC5DaGVzdEVzcC5UZXh0TGFiZWwuVGV4dCA9ICJDaGVzdFxuIiAuLiB2NzkgLi4gIiBNIgogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfNndkZ2p4ID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiLCBsX3Y3N18wKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjgwLk5hbWUgPSAiQ2hlc3RFc3AiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ODAuRXh0ZW50c09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ODAuU2l6ZSA9IFVEaW0yLm5ldygxLCAyMDAsIDEsIDMwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjgwLkFkb3JuZWUgPSBsX3Y3N18wCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ODAuQWx3YXlzT25Ub3AgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfeXExbWhoID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCB2ODApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ODEuRm9udCA9ICJDb2RlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjgxLkZvbnRTaXplID0gIlNpemUxNCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY4MS5UZXh0V3JhcHBlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY4MS5TaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ODEuVGV4dFlBbGlnbm1lbnQgPSAiVG9wIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjgxLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ODEuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjgxLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDIxNSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbHNlaWYgbF92NzdfMDpGaW5kRmlyc3RDaGlsZCgiQ2hlc3RFc3AiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgbF92NzdfMDpGaW5kRmlyc3RDaGlsZCgiQ2hlc3RFc3AiKTpEZXN0cm95KCkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kCmZ1bmN0aW9uIHY3MCh2ODIpCiAgICByZXR1cm4gbWF0aC5mbG9vcih2ODIgKyAwLjUpCmVuZApmdW5jdGlvbiBVcGRhdGVEZXZpbENoYW1zKCkKICAgIGZvciBfLCB2ODQgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2U6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICBkbwogICAgICAgICAgICBsb2NhbCB2YXJfaHQyMmFmID0gdjg0CiAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGlmIG5vdCBEZXZpbEZydWl0RVNQIHRoZW4KICAgICAgICAgICAgICAgICAgICBpZiBsX3Y4NF8wLkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGxfdjg0XzAuSGFuZGxlOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpOkRlc3Ryb3koKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZWxzZWlmIHN0cmluZy5maW5kKGxfdjg0XzAuTmFtZSwgIkZydWl0IikgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIGxfdjg0XzAuSGFuZGxlOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgbF92ODRfMC5IYW5kbGVbIk5hbWVFc3AiIC4uIE51bWJlcl0uVGV4dExhYmVsLlRleHQgPSBsX3Y4NF8wLk5hbWUgLi4gIiAgIFxuIiAuLiB2NzAoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gbF92ODRfMC5IYW5kbGUuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfbHkwM29lID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiLCBsX3Y4NF8wLkhhbmRsZSkKICAgICAgICAgICAgICAgICAgICAgICAgdjg2Lk5hbWUgPSAiTmFtZUVzcCIgLi4gTnVtYmVyCiAgICAgICAgICAgICAgICAgICAgICAgIHY4Ni5FeHRlbnRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgdjg2LlNpemUgPSBVRGltMi5uZXcoMSwgMjAwLCAxLCAzMCkKICAgICAgICAgICAgICAgICAgICAgICAgdjg2LkFkb3JuZWUgPSBsX3Y4NF8wLkhhbmRsZQogICAgICAgICAgICAgICAgICAgICAgICB2ODYuQWx3YXlzT25Ub3AgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9odmFsd2MgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIHY4NikKICAgICAgICAgICAgICAgICAgICAgICAgdjg3LkZvbnQgPSBFbnVtLkZvbnQuR290aGFtU2VtaWJvbGQKICAgICAgICAgICAgICAgICAgICAgICAgdjg3LkZvbnRTaXplID0gIlNpemUxNCIKICAgICAgICAgICAgICAgICAgICAgICAgdjg3LlRleHRXcmFwcGVkID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICB2ODcuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgICAgICB2ODcuVGV4dFlBbGlnbm1lbnQgPSAiVG9wIgogICAgICAgICAgICAgICAgICAgICAgICB2ODcuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgdjg3LlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjUKICAgICAgICAgICAgICAgICAgICAgICAgdjg3LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQogICAgICAgICAgICAgICAgICAgICAgICB2ODcuVGV4dCA9IGxfdjg0XzAuTmFtZSAuLiAiIFxuIiAuLiB2NzAoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gbF92ODRfMC5IYW5kbGUuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCmVuZApmdW5jdGlvbiBVcGRhdGVGbG93ZXJDaGFtcygpCiAgICBmb3IgXywgdjg5IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgZG8KICAgICAgICAgICAgbG9jYWwgdmFyXzB4MjE2ZiA9IHY4OQogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBsX3Y4OV8wLk5hbWUgPT0gIkZsb3dlcjIiIG9yIGxfdjg5XzAuTmFtZSA9PSAiRmxvd2VyMSIgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBGbG93ZXJFU1AgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBpZiBsX3Y4OV8wOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxfdjg5XzA6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiIC4uIE51bWJlcik6RGVzdHJveSgpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVsc2VpZiBsX3Y4OV8wOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgbF92ODlfMFsiTmFtZUVzcCIgLi4gTnVtYmVyXS5UZXh0TGFiZWwuVGV4dCA9IGxfdjg5XzAuTmFtZSAuLiAiICAgXG4iIC4uIHY3MCgoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSBsX3Y4OV8wLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX29iZjloMSA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIiwgbF92ODlfMCkKICAgICAgICAgICAgICAgICAgICAgICAgdjkxLk5hbWUgPSAiTmFtZUVzcCIgLi4gTnVtYmVyCiAgICAgICAgICAgICAgICAgICAgICAgIHY5MS5FeHRlbnRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgdjkxLlNpemUgPSBVRGltMi5uZXcoMSwgMjAwLCAxLCAzMCkKICAgICAgICAgICAgICAgICAgICAgICAgdjkxLkFkb3JuZWUgPSBsX3Y4OV8wCiAgICAgICAgICAgICAgICAgICAgICAgIHY5MS5BbHdheXNPblRvcCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX2lha2VjYyA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgdjkxKQogICAgICAgICAgICAgICAgICAgICAgICB2OTIuRm9udCA9IEVudW0uRm9udC5Hb3RoYW1TZW1pYm9sZAogICAgICAgICAgICAgICAgICAgICAgICB2OTIuRm9udFNpemUgPSAiU2l6ZTE0IgogICAgICAgICAgICAgICAgICAgICAgICB2OTIuVGV4dFdyYXBwZWQgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIHY5Mi5TaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgIHY5Mi5UZXh0WUFsaWdubWVudCA9ICJUb3AiCiAgICAgICAgICAgICAgICAgICAgICAgIHY5Mi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgICAgICAgICB2OTIuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgICAgICAgICB2OTIuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgbF92ODlfMC5OYW1lID09ICJGbG93ZXIxIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2OTIuVGV4dCA9ICJCbHVlIEZsb3dlciIgLi4gIiBcbiIgLi4gdjcwKChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIGxfdjg5XzAuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2OTIuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDI1NSkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxfdjg5XzAuTmFtZSA9PSAiRmxvd2VyMiIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjkyLlRleHQgPSAiUmVkIEZsb3dlciIgLi4gIiBcbiIgLi4gdjcwKChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIGxfdjg5XzAuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2OTIuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCmVuZApmdW5jdGlvbiBVcGRhdGVSZWFsRnJ1aXRDaGFtcygpCiAgICBmb3IgXywgdjk0IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlLkFwcGxlU3Bhd25lcjpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgIGlmIHY5NDpJc0EoIlRvb2wiKSB0aGVuCiAgICAgICAgICAgIGlmIG5vdCBSZWFsRnJ1aXRFU1AgdGhlbgogICAgICAgICAgICAgICAgaWYgdjk0LkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgdjk0LkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKTpEZXN0cm95KCkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbHNlaWYgdjk0LkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICB2OTQuSGFuZGxlWyJOYW1lRXNwIiAuLiBOdW1iZXJdLlRleHRMYWJlbC5UZXh0ID0gdjk0Lk5hbWUgLi4gIiAiIC4uIHY3MCgoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSB2OTQuSGFuZGxlLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBsb2NhbCB2YXJfbGFoMDEwID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiLCB2OTQuSGFuZGxlKQogICAgICAgICAgICAgICAgdjk1Lk5hbWUgPSAiTmFtZUVzcCIgLi4gTnVtYmVyCiAgICAgICAgICAgICAgICB2OTUuRXh0ZW50c09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDEsIDApCiAgICAgICAgICAgICAgICB2OTUuU2l6ZSA9IFVEaW0yLm5ldygxLCAyMDAsIDEsIDMwKQogICAgICAgICAgICAgICAgdjk1LkFkb3JuZWUgPSB2OTQuSGFuZGxlCiAgICAgICAgICAgICAgICB2OTUuQWx3YXlzT25Ub3AgPSB0cnVlCiAgICAgICAgICAgICAgICBsb2NhbCB2YXJfbWN6dDRtID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCB2OTUpCiAgICAgICAgICAgICAgICB2OTYuRm9udCA9IEVudW0uRm9udC5Hb3RoYW1TZW1pYm9sZAogICAgICAgICAgICAgICAgdjk2LkZvbnRTaXplID0gIlNpemUxNCIKICAgICAgICAgICAgICAgIHY5Ni5UZXh0V3JhcHBlZCA9IHRydWUKICAgICAgICAgICAgICAgIHY5Ni5TaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApCiAgICAgICAgICAgICAgICB2OTYuVGV4dFlBbGlnbm1lbnQgPSAiVG9wIgogICAgICAgICAgICAgICAgdjk2LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICB2OTYuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgdjk2LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDAsIDApCiAgICAgICAgICAgICAgICB2OTYuVGV4dCA9IHY5NC5OYW1lIC4uICIgXG4iIC4uIHY3MCgoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSB2OTQuSGFuZGxlLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAogICAgZm9yIF8sIHY5OCBpbiBwYWlycyhnYW1lLldvcmtzcGFjZS5QaW5lYXBwbGVTcGF3bmVyOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgaWYgdjk4OklzQSgiVG9vbCIpIHRoZW4KICAgICAgICAgICAgaWYgUmVhbEZydWl0RVNQIHRoZW4KICAgICAgICAgICAgICAgIGlmIG5vdCB2OTguSGFuZGxlOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpIHRoZW4KICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfa2hpZ3A1ID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiLCB2OTguSGFuZGxlKQogICAgICAgICAgICAgICAgICAgIHY5OS5OYW1lID0gIk5hbWVFc3AiIC4uIE51bWJlcgogICAgICAgICAgICAgICAgICAgIHY5OS5FeHRlbnRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICB2OTkuU2l6ZSA9IFVEaW0yLm5ldygxLCAyMDAsIDEsIDMwKQogICAgICAgICAgICAgICAgICAgIHY5OS5BZG9ybmVlID0gdjk4LkhhbmRsZQogICAgICAgICAgICAgICAgICAgIHY5OS5BbHdheXNPblRvcCA9IHRydWUKICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfczRocHI5ID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCB2OTkpCiAgICAgICAgICAgICAgICAgICAgdjEwMC5Gb250ID0gRW51bS5Gb250LkdvdGhhbVNlbWlib2xkCiAgICAgICAgICAgICAgICAgICAgdjEwMC5Gb250U2l6ZSA9ICJTaXplMTQiCiAgICAgICAgICAgICAgICAgICAgdjEwMC5UZXh0V3JhcHBlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICB2MTAwLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICB2MTAwLlRleHRZQWxpZ25tZW50ID0gIlRvcCIKICAgICAgICAgICAgICAgICAgICB2MTAwLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgdjEwMC5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC41CiAgICAgICAgICAgICAgICAgICAgdjEwMC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAxNzQsIDApCiAgICAgICAgICAgICAgICAgICAgdjEwMC5UZXh0ID0gdjk4Lk5hbWUgLi4gIiBcbiIgLi4gdjcwKChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIHY5OC5IYW5kbGUuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgdjk4LkhhbmRsZVsiTmFtZUVzcCIgLi4gTnVtYmVyXS5UZXh0TGFiZWwuVGV4dCA9IHY5OC5OYW1lIC4uICIgIiAuLiB2NzAoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gdjk4LkhhbmRsZS5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBEaXN0YW5jZSIKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbHNlaWYgdjk4LkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICB2OTguSGFuZGxlOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpOkRlc3Ryb3koKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAogICAgZm9yIF8sIHYxMDIgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2UuQmFuYW5hU3Bhd25lcjpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgIGlmIHYxMDI6SXNBKCJUb29sIikgdGhlbgogICAgICAgICAgICBpZiBub3QgUmVhbEZydWl0RVNQIHRoZW4KICAgICAgICAgICAgICAgIGlmIHYxMDIuSGFuZGxlOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpIHRoZW4KICAgICAgICAgICAgICAgICAgICB2MTAyLkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKTpEZXN0cm95KCkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbHNlaWYgbm90IHYxMDIuSGFuZGxlOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpIHRoZW4KICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9rdWd4NWggPSBJbnN0YW5jZS5uZXcoIkJpbGxib2FyZEd1aSIsIHYxMDIuSGFuZGxlKQogICAgICAgICAgICAgICAgdjEwMy5OYW1lID0gIk5hbWVFc3AiIC4uIE51bWJlcgogICAgICAgICAgICAgICAgdjEwMy5FeHRlbnRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMSwgMCkKICAgICAgICAgICAgICAgIHYxMDMuU2l6ZSA9IFVEaW0yLm5ldygxLCAyMDAsIDEsIDMwKQogICAgICAgICAgICAgICAgdjEwMy5BZG9ybmVlID0gdjEwMi5IYW5kbGUKICAgICAgICAgICAgICAgIHYxMDMuQWx3YXlzT25Ub3AgPSB0cnVlCiAgICAgICAgICAgICAgICBsb2NhbCB2YXJfcHBwbzZmID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCB2MTAzKQogICAgICAgICAgICAgICAgdjEwNC5Gb250ID0gRW51bS5Gb250LkdvdGhhbVNlbWlib2xkCiAgICAgICAgICAgICAgICB2MTA0LkZvbnRTaXplID0gIlNpemUxNCIKICAgICAgICAgICAgICAgIHYxMDQuVGV4dFdyYXBwZWQgPSB0cnVlCiAgICAgICAgICAgICAgICB2MTA0LlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgIHYxMDQuVGV4dFlBbGlnbm1lbnQgPSAiVG9wIgogICAgICAgICAgICAgICAgdjEwNC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgdjEwNC5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC41CiAgICAgICAgICAgICAgICB2MTA0LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1NSwgMCkKICAgICAgICAgICAgICAgIHYxMDQuVGV4dCA9IHYxMDIuTmFtZSAuLiAiIFxuIiAuLiB2NzAoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gdjEwMi5IYW5kbGUuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHYxMDIuSGFuZGxlWyJOYW1lRXNwIiAuLiBOdW1iZXJdLlRleHRMYWJlbC5UZXh0ID0gdjEwMi5OYW1lIC4uICIgIiAuLiB2NzAoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gdjEwMi5IYW5kbGUuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCmVuZApmdW5jdGlvbiBVcGRhdGVJc2xhbmRFU1AoKQogICAgZm9yIF8sIHYxMDYgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5fV29ybGRPcmlnaW4uTG9jYXRpb25zOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgZG8KICAgICAgICAgICAgbG9jYWwgdmFyX3k0dTBxbSA9IHYxMDYKICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgaWYgbm90IElzbGFuZEVTUCB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgbF92MTA2XzA6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGxfdjEwNl8wOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIik6RGVzdHJveSgpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbHNlaWYgbF92MTA2XzAuTmFtZSB+PSAiU2VhIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgbF92MTA2XzA6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGxfdjEwNl8wLk5hbWVFc3AuVGV4dExhYmVsLlRleHQgPSBsX3YxMDZfMC5OYW1lIC4uICIgICBcbiIgLi4gdjcwKChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIGxfdjEwNl8wLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyXzlkeXh3NyA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIiwgbF92MTA2XzApCiAgICAgICAgICAgICAgICAgICAgICAgIHYxMDguTmFtZSA9ICJOYW1lRXNwIgogICAgICAgICAgICAgICAgICAgICAgICB2MTA4LkV4dGVudHNPZmZzZXQgPSBWZWN0b3IzLm5ldygwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgICAgICB2MTA4LlNpemUgPSBVRGltMi5uZXcoMSwgMjAwLCAxLCAzMCkKICAgICAgICAgICAgICAgICAgICAgICAgdjEwOC5BZG9ybmVlID0gbF92MTA2XzAKICAgICAgICAgICAgICAgICAgICAgICAgdjEwOC5BbHdheXNPblRvcCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX24zeHQydCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgdjEwOCkKICAgICAgICAgICAgICAgICAgICAgICAgdjEwOS5Gb250ID0gIkdvdGhhbVNlbWlib2xkIgogICAgICAgICAgICAgICAgICAgICAgICB2MTA5LkZvbnRTaXplID0gIlNpemUxNCIKICAgICAgICAgICAgICAgICAgICAgICAgdjEwOS5UZXh0V3JhcHBlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgdjEwOS5TaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgIHYxMDkuVGV4dFlBbGlnbm1lbnQgPSAiVG9wIgogICAgICAgICAgICAgICAgICAgICAgICB2MTA5LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgIHYxMDkuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgICAgICAgICB2MTA5LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig4LCAyNDcsIDI1NSkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kCmZ1bmN0aW9uIGlzbmlsKHYxMTApCiAgICBsb2NhbCB2YXJfMXozaWtoID0gbmlsCiAgICBpZiB2MTEwIH49IHYxMTEgdGhlbgogICAgICAgIGxvY2FsIHZhcl9mN2R4ZzIgPSBmYWxzZQogICAgZW5kCiAgICByZXR1cm4gdHJ1ZQplbmQKbG9jYWwgdmFyX2J6ZHI4YSB2MTE0KHYxMTMpCiAgICByZXR1cm4gbWF0aC5mbG9vcih0b251bWJlcih2MTEzKSArIDAuNSkKZW5kCk51bWJlciA9IG1hdGgucmFuZG9tKDEsIDEwMDAwMDApCmZ1bmN0aW9uIFVwZGF0ZVBsYXllckNoYW1zKCkKICAgIGZvciBfLCB2MTE2IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgZG8KICAgICAgICAgICAgbG9jYWwgdmFyX3Q0NDNnbSA9IHYxMTYKICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgaWYgbm90IGlzbmlsKGxfdjExNl8wLkNoYXJhY3RlcikgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIEVTUFBsYXllciB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGlzbmlsKGxfdjExNl8wLkNoYXJhY3Rlci5IZWFkKSBvciBsX3YxMTZfMC5DaGFyYWN0ZXIuSGVhZDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX3YxMTZfMC5DaGFyYWN0ZXIuSGVhZFsiTmFtZUVzcCIgLi4gTnVtYmVyXS5UZXh0TGFiZWwuVGV4dCA9IGxfdjExNl8wLk5hbWUgLi4gIiB8ICIgLi4gdjExNCgoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSBsX3YxMTZfMC5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBEaXN0YW5jZVxuSGVhbHRoIDogIiAuLiB2MTE0KGxfdjExNl8wLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggKiAxMDAgLyBsX3YxMTZfMC5DaGFyYWN0ZXIuSHVtYW5vaWQuTWF4SGVhbHRoKSAuLiAiJSIKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX2tyMzRubyA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIiwgbF92MTE2XzAuQ2hhcmFjdGVyLkhlYWQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTE4Lk5hbWUgPSAiTmFtZUVzcCIgLi4gTnVtYmVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTE4LkV4dGVudHNPZmZzZXQgPSBWZWN0b3IzLm5ldygwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjExOC5TaXplID0gVURpbTIubmV3KDEsIDIwMCwgMSwgMzApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTE4LkFkb3JuZWUgPSBsX3YxMTZfMC5DaGFyYWN0ZXIuSGVhZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjExOC5BbHdheXNPblRvcCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl96MTRiczcgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIHYxMTgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTE5LkZvbnQgPSBFbnVtLkZvbnQuR290aGFtU2VtaWJvbGQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMTkuRm9udFNpemUgPSAiU2l6ZTE0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjExOS5UZXh0V3JhcHBlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMTkuVGV4dCA9IGxfdjExNl8wLk5hbWUgLi4gIiBcbiIgLi4gdjExNCgoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSBsX3YxMTZfMC5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBEaXN0YW5jZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMTkuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjExOS5UZXh0WUFsaWdubWVudCA9ICJUb3AiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTE5LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTE5LlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxfdjExNl8wLlRlYW0gfj0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLlRlYW0gdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMTkuVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMjU1LCAwLCAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMTkuVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMCwgMjU1LCAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVsc2VpZiBsX3YxMTZfMC5DaGFyYWN0ZXIuSGVhZDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGxfdjExNl8wLkNoYXJhY3Rlci5IZWFkOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpOkRlc3Ryb3koKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbmQKICAgIGVuZAplbmQKZnVuY3Rpb24gVXBkYXRlQ2hlc3RFU1AoKQogICAgZm9yIF8sIHYxMjEgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJDb2xsZWN0aW9uU2VydmljZSIpOkdldFRhZ2dlZCgiX0NoZXN0VGFnZ2VkIikpIGRvCiAgICAgICAgZG8KICAgICAgICAgICAgbG9jYWwgdmFyX3N3OHFuMSA9IHYxMjEKICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgaWYgX0cuQ2hlc3RFU1AgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBsX3YxMjFfMDpHZXRBdHRyaWJ1dGUoIklzRGlzYWJsZWQiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxfdjEyMV8wOkZpbmRGaXJzdENoaWxkKCJDaGVzdEVzcCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl82eWtuOTkgPSB2MTE0KChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIGxfdjEyMV8wOkdldFBpdm90KCkuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX3YxMjFfMC5DaGVzdEVzcC5UZXh0TGFiZWwuVGV4dCA9ICJDaGVzdFxuIiAuLiB2MTIzIC4uICIgTSIKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX2VpeHVmaiA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIiwgbF92MTIxXzApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTI0Lk5hbWUgPSAiQ2hlc3RFc3AiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTI0LkV4dGVudHNPZmZzZXQgPSBWZWN0b3IzLm5ldygwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjEyNC5TaXplID0gVURpbTIubmV3KDEsIDIwMCwgMSwgMzApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTI0LkFkb3JuZWUgPSBsX3YxMjFfMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjEyNC5BbHdheXNPblRvcCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9rcnJiM2sgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIHYxMjQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTI1LkZvbnQgPSAiQ29kZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMjUuRm9udFNpemUgPSAiU2l6ZTE0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjEyNS5UZXh0V3JhcHBlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMjUuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjEyNS5UZXh0WUFsaWdubWVudCA9ICJUb3AiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTI1LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTI1LlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMjUuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjE1LCAwKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVsc2VpZiBsX3YxMjFfMDpGaW5kRmlyc3RDaGlsZCgiQ2hlc3RFc3AiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgbF92MTIxXzA6RmluZEZpcnN0Q2hpbGQoIkNoZXN0RXNwIik6RGVzdHJveSgpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCmVuZApmdW5jdGlvbiB2MTE0KHYxMjYpCiAgICByZXR1cm4gbWF0aC5mbG9vcih2MTI2ICsgMC41KQplbmQKZnVuY3Rpb24gVXBkYXRlRGV2aWxDaGFtcygpCiAgICBmb3IgXywgdjEyOCBpbiBwYWlycyhnYW1lLldvcmtzcGFjZTpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgIGRvCiAgICAgICAgICAgIGxvY2FsIHZhcl85cWQxM3MgPSB2MTI4CiAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGlmIG5vdCBEZXZpbEZydWl0RVNQIHRoZW4KICAgICAgICAgICAgICAgICAgICBpZiBsX3YxMjhfMC5IYW5kbGU6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiIC4uIE51bWJlcikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBsX3YxMjhfMC5IYW5kbGU6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiIC4uIE51bWJlcik6RGVzdHJveSgpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbHNlaWYgc3RyaW5nLmZpbmQobF92MTI4XzAuTmFtZSwgIkZydWl0IikgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIGxfdjEyOF8wLkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGxfdjEyOF8wLkhhbmRsZVsiTmFtZUVzcCIgLi4gTnVtYmVyXS5UZXh0TGFiZWwuVGV4dCA9IGxfdjEyOF8wLk5hbWUgLi4gIiAgIFxuIiAuLiB2MTE0KChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIGxfdjEyOF8wLkhhbmRsZS5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBEaXN0YW5jZSIKICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl90NmxsMjkgPSBJbnN0YW5jZS5uZXcoIkJpbGxib2FyZEd1aSIsIGxfdjEyOF8wLkhhbmRsZSkKICAgICAgICAgICAgICAgICAgICAgICAgdjEzMC5OYW1lID0gIk5hbWVFc3AiIC4uIE51bWJlcgogICAgICAgICAgICAgICAgICAgICAgICB2MTMwLkV4dGVudHNPZmZzZXQgPSBWZWN0b3IzLm5ldygwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgICAgICB2MTMwLlNpemUgPSBVRGltMi5uZXcoMSwgMjAwLCAxLCAzMCkKICAgICAgICAgICAgICAgICAgICAgICAgdjEzMC5BZG9ybmVlID0gbF92MTI4XzAuSGFuZGxlCiAgICAgICAgICAgICAgICAgICAgICAgIHYxMzAuQWx3YXlzT25Ub3AgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9lZTRsaDIgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIHYxMzApCiAgICAgICAgICAgICAgICAgICAgICAgIHYxMzEuRm9udCA9IEVudW0uRm9udC5Hb3RoYW1TZW1pYm9sZAogICAgICAgICAgICAgICAgICAgICAgICB2MTMxLkZvbnRTaXplID0gIlNpemUxNCIKICAgICAgICAgICAgICAgICAgICAgICAgdjEzMS5UZXh0V3JhcHBlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgdjEzMS5TaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgIHYxMzEuVGV4dFlBbGlnbm1lbnQgPSAiVG9wIgogICAgICAgICAgICAgICAgICAgICAgICB2MTMxLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgIHYxMzEuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgICAgICAgICB2MTMxLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQogICAgICAgICAgICAgICAgICAgICAgICB2MTMxLlRleHQgPSBsX3YxMjhfMC5OYW1lIC4uICIgXG4iIC4uIHYxMTQoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gbF92MTI4XzAuSGFuZGxlLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbmQKICAgIGVuZAplbmQKZnVuY3Rpb24gVXBkYXRlRmxvd2VyQ2hhbXMoKQogICAgZm9yIF8sIHYxMzMgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2U6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICBkbwogICAgICAgICAgICBsb2NhbCB2YXJfODI2bWZpID0gdjEzMwogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBsX3YxMzNfMC5OYW1lID09ICJGbG93ZXIyIiBvciBsX3YxMzNfMC5OYW1lID09ICJGbG93ZXIxIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgRmxvd2VyRVNQIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgaWYgbF92MTMzXzA6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiIC4uIE51bWJlcikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbF92MTMzXzBbIk5hbWVFc3AiIC4uIE51bWJlcl0uVGV4dExhYmVsLlRleHQgPSBsX3YxMzNfMC5OYW1lIC4uICIgICBcbiIgLi4gdjExNCgoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSBsX3YxMzNfMC5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBEaXN0YW5jZSIKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyXzVsMWp1NiA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIiwgbF92MTMzXzApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTM1Lk5hbWUgPSAiTmFtZUVzcCIgLi4gTnVtYmVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTM1LkV4dGVudHNPZmZzZXQgPSBWZWN0b3IzLm5ldygwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjEzNS5TaXplID0gVURpbTIubmV3KDEsIDIwMCwgMSwgMzApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTM1LkFkb3JuZWUgPSBsX3YxMzNfMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjEzNS5BbHdheXNPblRvcCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9hYnF2MnEgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIHYxMzUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTM2LkZvbnQgPSBFbnVtLkZvbnQuR290aGFtU2VtaWJvbGQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMzYuRm9udFNpemUgPSAiU2l6ZTE0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjEzNi5UZXh0V3JhcHBlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMzYuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjEzNi5UZXh0WUFsaWdubWVudCA9ICJUb3AiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTM2LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTM2LlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMzYuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxfdjEzM18wLk5hbWUgPT0gIkZsb3dlcjEiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTM2LlRleHQgPSAiQmx1ZSBGbG93ZXIiIC4uICIgXG4iIC4uIHYxMTQoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gbF92MTMzXzAuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjEzNi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMjU1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBsX3YxMzNfMC5OYW1lID09ICJGbG93ZXIyIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjEzNi5UZXh0ID0gIlJlZCBGbG93ZXIiIC4uICIgXG4iIC4uIHYxMTQoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gbF92MTMzXzAuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjEzNi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAwLCAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVsc2VpZiBsX3YxMzNfMDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGxfdjEzM18wOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpOkRlc3Ryb3koKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbmQKICAgIGVuZAplbmQKZnVuY3Rpb24gVXBkYXRlUmVhbEZydWl0Q2hhbXMoKQogICAgZm9yIF8sIHYxMzggaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2UuQXBwbGVTcGF3bmVyOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgaWYgdjEzODpJc0EoIlRvb2wiKSB0aGVuCiAgICAgICAgICAgIGlmIFJlYWxGcnVpdEVTUCB0aGVuCiAgICAgICAgICAgICAgICBpZiB2MTM4LkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgdjEzOC5IYW5kbGVbIk5hbWVFc3AiIC4uIE51bWJlcl0uVGV4dExhYmVsLlRleHQgPSB2MTM4Lk5hbWUgLi4gIiAiIC4uIHYxMTQoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gdjEzOC5IYW5kbGUuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyXzlsNXE3cCA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIiwgdjEzOC5IYW5kbGUpCiAgICAgICAgICAgICAgICAgICAgdjEzOS5OYW1lID0gIk5hbWVFc3AiIC4uIE51bWJlcgogICAgICAgICAgICAgICAgICAgIHYxMzkuRXh0ZW50c09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgdjEzOS5TaXplID0gVURpbTIubmV3KDEsIDIwMCwgMSwgMzApCiAgICAgICAgICAgICAgICAgICAgdjEzOS5BZG9ybmVlID0gdjEzOC5IYW5kbGUKICAgICAgICAgICAgICAgICAgICB2MTM5LkFsd2F5c09uVG9wID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl8xb2QzZ2cgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIHYxMzkpCiAgICAgICAgICAgICAgICAgICAgdjE0MC5Gb250ID0gRW51bS5Gb250LkdvdGhhbVNlbWlib2xkCiAgICAgICAgICAgICAgICAgICAgdjE0MC5Gb250U2l6ZSA9ICJTaXplMTQiCiAgICAgICAgICAgICAgICAgICAgdjE0MC5UZXh0V3JhcHBlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICB2MTQwLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICB2MTQwLlRleHRZQWxpZ25tZW50ID0gIlRvcCIKICAgICAgICAgICAgICAgICAgICB2MTQwLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgdjE0MC5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC41CiAgICAgICAgICAgICAgICAgICAgdjE0MC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAwLCAwKQogICAgICAgICAgICAgICAgICAgIHYxNDAuVGV4dCA9IHYxMzguTmFtZSAuLiAiIFxuIiAuLiB2MTE0KChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIHYxMzguSGFuZGxlLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVsc2VpZiB2MTM4LkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICB2MTM4LkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKTpEZXN0cm95KCkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKICAgIGZvciBfLCB2MTQyIGluIHBhaXJzKGdhbWUuV29ya3NwYWNlLlBpbmVhcHBsZVNwYXduZXI6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICBpZiB2MTQyOklzQSgiVG9vbCIpIHRoZW4KICAgICAgICAgICAgaWYgUmVhbEZydWl0RVNQIHRoZW4KICAgICAgICAgICAgICAgIGlmIHYxNDIuSGFuZGxlOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpIHRoZW4KICAgICAgICAgICAgICAgICAgICB2MTQyLkhhbmRsZVsiTmFtZUVzcCIgLi4gTnVtYmVyXS5UZXh0TGFiZWwuVGV4dCA9IHYxNDIuTmFtZSAuLiAiICIgLi4gdjExNCgoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSB2MTQyLkhhbmRsZS5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBEaXN0YW5jZSIKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfd3o2bXA2ID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiLCB2MTQyLkhhbmRsZSkKICAgICAgICAgICAgICAgICAgICB2MTQzLk5hbWUgPSAiTmFtZUVzcCIgLi4gTnVtYmVyCiAgICAgICAgICAgICAgICAgICAgdjE0My5FeHRlbnRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICB2MTQzLlNpemUgPSBVRGltMi5uZXcoMSwgMjAwLCAxLCAzMCkKICAgICAgICAgICAgICAgICAgICB2MTQzLkFkb3JuZWUgPSB2MTQyLkhhbmRsZQogICAgICAgICAgICAgICAgICAgIHYxNDMuQWx3YXlzT25Ub3AgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX2l6ZnV1ZyA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgdjE0MykKICAgICAgICAgICAgICAgICAgICB2MTQ0LkZvbnQgPSBFbnVtLkZvbnQuR290aGFtU2VtaWJvbGQKICAgICAgICAgICAgICAgICAgICB2MTQ0LkZvbnRTaXplID0gIlNpemUxNCIKICAgICAgICAgICAgICAgICAgICB2MTQ0LlRleHRXcmFwcGVkID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIHYxNDQuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgIHYxNDQuVGV4dFlBbGlnbm1lbnQgPSAiVG9wIgogICAgICAgICAgICAgICAgICAgIHYxNDQuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgICAgICB2MTQ0LlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjUKICAgICAgICAgICAgICAgICAgICB2MTQ0LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDE3NCwgMCkKICAgICAgICAgICAgICAgICAgICB2MTQ0LlRleHQgPSB2MTQyLk5hbWUgLi4gIiBcbiIgLi4gdjExNCgoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSB2MTQyLkhhbmRsZS5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBEaXN0YW5jZSIKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbHNlaWYgdjE0Mi5IYW5kbGU6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiIC4uIE51bWJlcikgdGhlbgogICAgICAgICAgICAgICAgdjE0Mi5IYW5kbGU6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiIC4uIE51bWJlcik6RGVzdHJveSgpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCiAgICBmb3IgXywgdjE0NiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZS5CYW5hbmFTcGF3bmVyOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgaWYgdjE0NjpJc0EoIlRvb2wiKSB0aGVuCiAgICAgICAgICAgIGlmIG5vdCBSZWFsRnJ1aXRFU1AgdGhlbgogICAgICAgICAgICAgICAgaWYgdjE0Ni5IYW5kbGU6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiIC4uIE51bWJlcikgdGhlbgogICAgICAgICAgICAgICAgICAgIHYxNDYuSGFuZGxlOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpOkRlc3Ryb3koKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVsc2VpZiBub3QgdjE0Ni5IYW5kbGU6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiIC4uIE51bWJlcikgdGhlbgogICAgICAgICAgICAgICAgbG9jYWwgdmFyX2hnZWx6dCA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIiwgdjE0Ni5IYW5kbGUpCiAgICAgICAgICAgICAgICB2MTQ3Lk5hbWUgPSAiTmFtZUVzcCIgLi4gTnVtYmVyCiAgICAgICAgICAgICAgICB2MTQ3LkV4dGVudHNPZmZzZXQgPSBWZWN0b3IzLm5ldygwLCAxLCAwKQogICAgICAgICAgICAgICAgdjE0Ny5TaXplID0gVURpbTIubmV3KDEsIDIwMCwgMSwgMzApCiAgICAgICAgICAgICAgICB2MTQ3LkFkb3JuZWUgPSB2MTQ2LkhhbmRsZQogICAgICAgICAgICAgICAgdjE0Ny5BbHdheXNPblRvcCA9IHRydWUKICAgICAgICAgICAgICAgIGxvY2FsIHZhcl94ZjQyMGEgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIHYxNDcpCiAgICAgICAgICAgICAgICB2MTQ4LkZvbnQgPSBFbnVtLkZvbnQuR290aGFtU2VtaWJvbGQKICAgICAgICAgICAgICAgIHYxNDguRm9udFNpemUgPSAiU2l6ZTE0IgogICAgICAgICAgICAgICAgdjE0OC5UZXh0V3JhcHBlZCA9IHRydWUKICAgICAgICAgICAgICAgIHYxNDguU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQogICAgICAgICAgICAgICAgdjE0OC5UZXh0WUFsaWdubWVudCA9ICJUb3AiCiAgICAgICAgICAgICAgICB2MTQ4LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICB2MTQ4LlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjUKICAgICAgICAgICAgICAgIHYxNDguVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjU1LCAwKQogICAgICAgICAgICAgICAgdjE0OC5UZXh0ID0gdjE0Ni5OYW1lIC4uICIgXG4iIC4uIHYxMTQoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gdjE0Ni5IYW5kbGUuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHYxNDYuSGFuZGxlWyJOYW1lRXNwIiAuLiBOdW1iZXJdLlRleHRMYWJlbC5UZXh0ID0gdjE0Ni5OYW1lIC4uICIgIiAuLiB2MTE0KChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIHYxNDYuSGFuZGxlLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAplbmQKZnVuY3Rpb24gVXBkYXRlSXNsYW5kRVNQKCkKICAgIGZvciBfLCB2MTUwIGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuX1dvcmxkT3JpZ2luLkxvY2F0aW9uczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgIGRvCiAgICAgICAgICAgIGxvY2FsIHZhcl9yMHlwdWcgPSB2MTUwCiAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGlmIElzbGFuZEVTUCB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgbF92MTUwXzAuTmFtZSB+PSAiU2VhIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxfdjE1MF8wOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbF92MTUwXzAuTmFtZUVzcC5UZXh0TGFiZWwuVGV4dCA9IGxfdjE1MF8wLk5hbWUgLi4gIiAgIFxuIiAuLiB2MTE0KChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIGxfdjE1MF8wLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfa2pubXZ0ID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiLCBsX3YxNTBfMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxNTIuTmFtZSA9ICJOYW1lRXNwIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE1Mi5FeHRlbnRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxNTIuU2l6ZSA9IFVEaW0yLm5ldygxLCAyMDAsIDEsIDMwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE1Mi5BZG9ybmVlID0gbF92MTUwXzAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxNTIuQWx3YXlzT25Ub3AgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfOW02dnVhID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCB2MTUyKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE1My5Gb250ID0gIkdvdGhhbVNlbWlib2xkIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE1My5Gb250U2l6ZSA9ICJTaXplMTQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTUzLlRleHRXcmFwcGVkID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE1My5TaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTUzLlRleHRZQWxpZ25tZW50ID0gIlRvcCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxNTMuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxNTMuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE1My5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbHNlaWYgbF92MTUwXzA6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgbF92MTUwXzA6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiKTpEZXN0cm95KCkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kCmZ1bmN0aW9uIGlzbmlsKHYxNTQpCiAgICBsb2NhbCB2YXJfMjBleXdiID0gbmlsCiAgICBpZiB2MTU0IH49IHYxNTUgdGhlbgogICAgICAgIGxvY2FsIHZhcl80bGZ2emcgPSBmYWxzZQogICAgZW5kCiAgICByZXR1cm4gdHJ1ZQplbmQKbG9jYWwgdmFyXzliYzA5eiB2MTU4KHYxNTcpCiAgICByZXR1cm4gbWF0aC5mbG9vcih0b251bWJlcih2MTU3KSArIDAuNSkKZW5kCk51bWJlciA9IG1hdGgucmFuZG9tKDEsIDEwMDAwMDApCmZ1bmN0aW9uIFVwZGF0ZVBsYXllckNoYW1zKCkKICAgIGZvciBfLCB2MTYwIGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgZG8KICAgICAgICAgICAgbG9jYWwgdmFyX2k0OGwzZCA9IHYxNjAKICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgaWYgbm90IGlzbmlsKGxfdjE2MF8wLkNoYXJhY3RlcikgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBFU1BQbGF5ZXIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBpZiBsX3YxNjBfMC5DaGFyYWN0ZXIuSGVhZDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX3YxNjBfMC5DaGFyYWN0ZXIuSGVhZDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKTpEZXN0cm95KCkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZWxzZWlmIGlzbmlsKGxfdjE2MF8wLkNoYXJhY3Rlci5IZWFkKSBvciBsX3YxNjBfMC5DaGFyYWN0ZXIuSGVhZDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGxfdjE2MF8wLkNoYXJhY3Rlci5IZWFkWyJOYW1lRXNwIiAuLiBOdW1iZXJdLlRleHRMYWJlbC5UZXh0ID0gbF92MTYwXzAuTmFtZSAuLiAiIHwgIiAuLiB2MTU4KChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIGxfdjE2MF8wLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlXG5IZWFsdGggOiAiIC4uIHYxNTgobF92MTYwXzAuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCAqIDEwMCAvIGxfdjE2MF8wLkNoYXJhY3Rlci5IdW1hbm9pZC5NYXhIZWFsdGgpIC4uICIlIgogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyXzJmMjd0MCA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIiwgbF92MTYwXzAuQ2hhcmFjdGVyLkhlYWQpCiAgICAgICAgICAgICAgICAgICAgICAgIHYxNjIuTmFtZSA9ICJOYW1lRXNwIiAuLiBOdW1iZXIKICAgICAgICAgICAgICAgICAgICAgICAgdjE2Mi5FeHRlbnRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgdjE2Mi5TaXplID0gVURpbTIubmV3KDEsIDIwMCwgMSwgMzApCiAgICAgICAgICAgICAgICAgICAgICAgIHYxNjIuQWRvcm5lZSA9IGxfdjE2MF8wLkNoYXJhY3Rlci5IZWFkCiAgICAgICAgICAgICAgICAgICAgICAgIHYxNjIuQWx3YXlzT25Ub3AgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9najZ6MXcgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIHYxNjIpCiAgICAgICAgICAgICAgICAgICAgICAgIHYxNjMuRm9udCA9IEVudW0uRm9udC5Hb3RoYW1TZW1pYm9sZAogICAgICAgICAgICAgICAgICAgICAgICB2MTYzLkZvbnRTaXplID0gIlNpemUxNCIKICAgICAgICAgICAgICAgICAgICAgICAgdjE2My5UZXh0V3JhcHBlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgdjE2My5UZXh0ID0gbF92MTYwXzAuTmFtZSAuLiAiIFxuIiAuLiB2MTU4KChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIGxfdjE2MF8wLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICAgICAgICAgICAgICB2MTYzLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgdjE2My5UZXh0WUFsaWdubWVudCA9ICJUb3AiCiAgICAgICAgICAgICAgICAgICAgICAgIHYxNjMuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgdjE2My5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC41CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxfdjE2MF8wLlRlYW0gPT0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLlRlYW0gdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE2My5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygwLCAyNTUsIDApCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxNjMuVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMjU1LCAwLCAwKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kCmZ1bmN0aW9uIFVwZGF0ZUNoZXN0RVNQKCkKICAgIGZvciBfLCB2MTY1IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiQ29sbGVjdGlvblNlcnZpY2UiKTpHZXRUYWdnZWQoIl9DaGVzdFRhZ2dlZCIpKSBkbwogICAgICAgIGRvCiAgICAgICAgICAgIGxvY2FsIHZhcl9jN25sOWggPSB2MTY1CiAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGlmIF9HLkNoZXN0RVNQIHRoZW4KICAgICAgICAgICAgICAgICAgICBpZiBub3QgbF92MTY1XzA6R2V0QXR0cmlidXRlKCJJc0Rpc2FibGVkIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBpZiBsX3YxNjVfMDpGaW5kRmlyc3RDaGlsZCgiQ2hlc3RFc3AiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfejR6MHA5ID0gdjE1OCgoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSBsX3YxNjVfMDpHZXRQaXZvdCgpLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbF92MTY1XzAuQ2hlc3RFc3AuVGV4dExhYmVsLlRleHQgPSAiQ2hlc3RcbiIgLi4gdjE2NyAuLiAiIE0iCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl96Y2l4bGUgPSBJbnN0YW5jZS5uZXcoIkJpbGxib2FyZEd1aSIsIGxfdjE2NV8wKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE2OC5OYW1lID0gIkNoZXN0RXNwIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE2OC5FeHRlbnRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxNjguU2l6ZSA9IFVEaW0yLm5ldygxLCAyMDAsIDEsIDMwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE2OC5BZG9ybmVlID0gbF92MTY1XzAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxNjguQWx3YXlzT25Ub3AgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfamd0bmVjID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCB2MTY4KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE2OS5Gb250ID0gIkNvZGUiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTY5LkZvbnRTaXplID0gIlNpemUxNCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxNjkuVGV4dFdyYXBwZWQgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTY5LlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxNjkuVGV4dFlBbGlnbm1lbnQgPSAiVG9wIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE2OS5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE2OS5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC41CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTY5LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDIxNSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbHNlaWYgbF92MTY1XzA6RmluZEZpcnN0Q2hpbGQoIkNoZXN0RXNwIikgdGhlbgogICAgICAgICAgICAgICAgICAgIGxfdjE2NV8wOkZpbmRGaXJzdENoaWxkKCJDaGVzdEVzcCIpOkRlc3Ryb3koKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbmQKICAgIGVuZAplbmQKZnVuY3Rpb24gdjE1OCh2MTcwKQogICAgcmV0dXJuIG1hdGguZmxvb3IodjE3MCArIDAuNSkKZW5kCmZ1bmN0aW9uIFVwZGF0ZURldmlsQ2hhbXMoKQogICAgZm9yIF8sIHYxNzIgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2U6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICBkbwogICAgICAgICAgICBsb2NhbCB2YXJfbTMycGZiID0gdjE3MgogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBEZXZpbEZydWl0RVNQIHRoZW4KICAgICAgICAgICAgICAgICAgICBpZiBzdHJpbmcuZmluZChsX3YxNzJfMC5OYW1lLCAiRnJ1aXQiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxfdjE3Ml8wLkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX3YxNzJfMC5IYW5kbGVbIk5hbWVFc3AiIC4uIE51bWJlcl0uVGV4dExhYmVsLlRleHQgPSBsX3YxNzJfMC5OYW1lIC4uICIgICBcbiIgLi4gdjE1OCgoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSBsX3YxNzJfMC5IYW5kbGUuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl93cGpuejggPSBJbnN0YW5jZS5uZXcoIkJpbGxib2FyZEd1aSIsIGxfdjE3Ml8wLkhhbmRsZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxNzQuTmFtZSA9ICJOYW1lRXNwIiAuLiBOdW1iZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxNzQuRXh0ZW50c09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTc0LlNpemUgPSBVRGltMi5uZXcoMSwgMjAwLCAxLCAzMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxNzQuQWRvcm5lZSA9IGxfdjE3Ml8wLkhhbmRsZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE3NC5BbHdheXNPblRvcCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl81OTFxdXMgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIHYxNzQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTc1LkZvbnQgPSBFbnVtLkZvbnQuR290aGFtU2VtaWJvbGQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxNzUuRm9udFNpemUgPSAiU2l6ZTE0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE3NS5UZXh0V3JhcHBlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxNzUuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjE3NS5UZXh0WUFsaWdubWVudCA9ICJUb3AiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTc1LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTc1LlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxNzUuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTc1LlRleHQgPSBsX3YxNzJfMC5OYW1lIC4uICIgXG4iIC4uIHYxNTgoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gbF92MTcyXzAuSGFuZGxlLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVsc2VpZiBsX3YxNzJfMC5IYW5kbGU6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiIC4uIE51bWJlcikgdGhlbgogICAgICAgICAgICAgICAgICAgIGxfdjE3Ml8wLkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKTpEZXN0cm95KCkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kCmZ1bmN0aW9uIFVwZGF0ZUZsb3dlckNoYW1zKCkKICAgIGZvciBfLCB2MTc3IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgZG8KICAgICAgICAgICAgbG9jYWwgdmFyX2NndWc4bSA9IHYxNzcKICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgaWYgbF92MTc3XzAuTmFtZSA9PSAiRmxvd2VyMiIgb3IgbF92MTc3XzAuTmFtZSA9PSAiRmxvd2VyMSIgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBGbG93ZXJFU1AgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBpZiBsX3YxNzdfMDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX3YxNzdfMDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKTpEZXN0cm95KCkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZWxzZWlmIGxfdjE3N18wOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgbF92MTc3XzBbIk5hbWVFc3AiIC4uIE51bWJlcl0uVGV4dExhYmVsLlRleHQgPSBsX3YxNzdfMC5OYW1lIC4uICIgICBcbiIgLi4gdjE1OCgoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSBsX3YxNzdfMC5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBEaXN0YW5jZSIKICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9hemlycTAgPSBJbnN0YW5jZS5uZXcoIkJpbGxib2FyZEd1aSIsIGxfdjE3N18wKQogICAgICAgICAgICAgICAgICAgICAgICB2MTc5Lk5hbWUgPSAiTmFtZUVzcCIgLi4gTnVtYmVyCiAgICAgICAgICAgICAgICAgICAgICAgIHYxNzkuRXh0ZW50c09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgIHYxNzkuU2l6ZSA9IFVEaW0yLm5ldygxLCAyMDAsIDEsIDMwKQogICAgICAgICAgICAgICAgICAgICAgICB2MTc5LkFkb3JuZWUgPSBsX3YxNzdfMAogICAgICAgICAgICAgICAgICAgICAgICB2MTc5LkFsd2F5c09uVG9wID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfa3pkYW9zID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCB2MTc5KQogICAgICAgICAgICAgICAgICAgICAgICB2MTgwLkZvbnQgPSBFbnVtLkZvbnQuR290aGFtU2VtaWJvbGQKICAgICAgICAgICAgICAgICAgICAgICAgdjE4MC5Gb250U2l6ZSA9ICJTaXplMTQiCiAgICAgICAgICAgICAgICAgICAgICAgIHYxODAuVGV4dFdyYXBwZWQgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIHYxODAuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgICAgICB2MTgwLlRleHRZQWxpZ25tZW50ID0gIlRvcCIKICAgICAgICAgICAgICAgICAgICAgICAgdjE4MC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgICAgICAgICB2MTgwLlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjUKICAgICAgICAgICAgICAgICAgICAgICAgdjE4MC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAwLCAwKQogICAgICAgICAgICAgICAgICAgICAgICBpZiBsX3YxNzdfMC5OYW1lID09ICJGbG93ZXIxIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTgwLlRleHQgPSAiQmx1ZSBGbG93ZXIiIC4uICIgXG4iIC4uIHYxNTgoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gbF92MTc3XzAuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTgwLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAyNTUpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBpZiBsX3YxNzdfMC5OYW1lID09ICJGbG93ZXIyIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTgwLlRleHQgPSAiUmVkIEZsb3dlciIgLi4gIiBcbiIgLi4gdjE1OCgoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSBsX3YxNzdfMC5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBEaXN0YW5jZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxODAuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCmVuZApmdW5jdGlvbiBVcGRhdGVSZWFsRnJ1aXRDaGFtcygpCiAgICBmb3IgXywgdjE4MiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZS5BcHBsZVNwYXduZXI6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICBpZiB2MTgyOklzQSgiVG9vbCIpIHRoZW4KICAgICAgICAgICAgaWYgUmVhbEZydWl0RVNQIHRoZW4KICAgICAgICAgICAgICAgIGlmIHYxODIuSGFuZGxlOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpIHRoZW4KICAgICAgICAgICAgICAgICAgICB2MTgyLkhhbmRsZVsiTmFtZUVzcCIgLi4gTnVtYmVyXS5UZXh0TGFiZWwuVGV4dCA9IHYxODIuTmFtZSAuLiAiICIgLi4gdjE1OCgoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSB2MTgyLkhhbmRsZS5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBEaXN0YW5jZSIKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfMmFnbnhzID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiLCB2MTgyLkhhbmRsZSkKICAgICAgICAgICAgICAgICAgICB2MTgzLk5hbWUgPSAiTmFtZUVzcCIgLi4gTnVtYmVyCiAgICAgICAgICAgICAgICAgICAgdjE4My5FeHRlbnRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICB2MTgzLlNpemUgPSBVRGltMi5uZXcoMSwgMjAwLCAxLCAzMCkKICAgICAgICAgICAgICAgICAgICB2MTgzLkFkb3JuZWUgPSB2MTgyLkhhbmRsZQogICAgICAgICAgICAgICAgICAgIHYxODMuQWx3YXlzT25Ub3AgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX2M4ZGNtciA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgdjE4MykKICAgICAgICAgICAgICAgICAgICB2MTg0LkZvbnQgPSBFbnVtLkZvbnQuR290aGFtU2VtaWJvbGQKICAgICAgICAgICAgICAgICAgICB2MTg0LkZvbnRTaXplID0gIlNpemUxNCIKICAgICAgICAgICAgICAgICAgICB2MTg0LlRleHRXcmFwcGVkID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIHYxODQuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgIHYxODQuVGV4dFlBbGlnbm1lbnQgPSAiVG9wIgogICAgICAgICAgICAgICAgICAgIHYxODQuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgICAgICB2MTg0LlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjUKICAgICAgICAgICAgICAgICAgICB2MTg0LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDAsIDApCiAgICAgICAgICAgICAgICAgICAgdjE4NC5UZXh0ID0gdjE4Mi5OYW1lIC4uICIgXG4iIC4uIHYxNTgoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gdjE4Mi5IYW5kbGUuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZWxzZWlmIHYxODIuSGFuZGxlOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpIHRoZW4KICAgICAgICAgICAgICAgIHYxODIuSGFuZGxlOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpOkRlc3Ryb3koKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAogICAgZm9yIF8sIHYxODYgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2UuUGluZWFwcGxlU3Bhd25lcjpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgIGlmIHYxODY6SXNBKCJUb29sIikgdGhlbgogICAgICAgICAgICBpZiBSZWFsRnJ1aXRFU1AgdGhlbgogICAgICAgICAgICAgICAgaWYgbm90IHYxODYuSGFuZGxlOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpIHRoZW4KICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfMDI0cGlvID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiLCB2MTg2LkhhbmRsZSkKICAgICAgICAgICAgICAgICAgICB2MTg3Lk5hbWUgPSAiTmFtZUVzcCIgLi4gTnVtYmVyCiAgICAgICAgICAgICAgICAgICAgdjE4Ny5FeHRlbnRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICB2MTg3LlNpemUgPSBVRGltMi5uZXcoMSwgMjAwLCAxLCAzMCkKICAgICAgICAgICAgICAgICAgICB2MTg3LkFkb3JuZWUgPSB2MTg2LkhhbmRsZQogICAgICAgICAgICAgICAgICAgIHYxODcuQWx3YXlzT25Ub3AgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX3g0Zm5lNiA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgdjE4NykKICAgICAgICAgICAgICAgICAgICB2MTg4LkZvbnQgPSBFbnVtLkZvbnQuR290aGFtU2VtaWJvbGQKICAgICAgICAgICAgICAgICAgICB2MTg4LkZvbnRTaXplID0gIlNpemUxNCIKICAgICAgICAgICAgICAgICAgICB2MTg4LlRleHRXcmFwcGVkID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIHYxODguU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgIHYxODguVGV4dFlBbGlnbm1lbnQgPSAiVG9wIgogICAgICAgICAgICAgICAgICAgIHYxODguQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgICAgICB2MTg4LlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjUKICAgICAgICAgICAgICAgICAgICB2MTg4LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDE3NCwgMCkKICAgICAgICAgICAgICAgICAgICB2MTg4LlRleHQgPSB2MTg2Lk5hbWUgLi4gIiBcbiIgLi4gdjE1OCgoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSB2MTg2LkhhbmRsZS5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBEaXN0YW5jZSIKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICB2MTg2LkhhbmRsZVsiTmFtZUVzcCIgLi4gTnVtYmVyXS5UZXh0TGFiZWwuVGV4dCA9IHYxODYuTmFtZSAuLiAiICIgLi4gdjE1OCgoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSB2MTg2LkhhbmRsZS5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBEaXN0YW5jZSIKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbHNlaWYgdjE4Ni5IYW5kbGU6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiIC4uIE51bWJlcikgdGhlbgogICAgICAgICAgICAgICAgdjE4Ni5IYW5kbGU6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiIC4uIE51bWJlcik6RGVzdHJveSgpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCiAgICBmb3IgXywgdjE5MCBpbiBwYWlycyhnYW1lLldvcmtzcGFjZS5CYW5hbmFTcGF3bmVyOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgaWYgdjE5MDpJc0EoIlRvb2wiKSB0aGVuCiAgICAgICAgICAgIGlmIFJlYWxGcnVpdEVTUCB0aGVuCiAgICAgICAgICAgICAgICBpZiB2MTkwLkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgdjE5MC5IYW5kbGVbIk5hbWVFc3AiIC4uIE51bWJlcl0uVGV4dExhYmVsLlRleHQgPSB2MTkwLk5hbWUgLi4gIiAiIC4uIHYxNTgoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gdjE5MC5IYW5kbGUuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX3E2OTRnbCA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIiwgdjE5MC5IYW5kbGUpCiAgICAgICAgICAgICAgICAgICAgdjE5MS5OYW1lID0gIk5hbWVFc3AiIC4uIE51bWJlcgogICAgICAgICAgICAgICAgICAgIHYxOTEuRXh0ZW50c09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgdjE5MS5TaXplID0gVURpbTIubmV3KDEsIDIwMCwgMSwgMzApCiAgICAgICAgICAgICAgICAgICAgdjE5MS5BZG9ybmVlID0gdjE5MC5IYW5kbGUKICAgICAgICAgICAgICAgICAgICB2MTkxLkFsd2F5c09uVG9wID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl96a2Izd2wgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIHYxOTEpCiAgICAgICAgICAgICAgICAgICAgdjE5Mi5Gb250ID0gRW51bS5Gb250LkdvdGhhbVNlbWlib2xkCiAgICAgICAgICAgICAgICAgICAgdjE5Mi5Gb250U2l6ZSA9ICJTaXplMTQiCiAgICAgICAgICAgICAgICAgICAgdjE5Mi5UZXh0V3JhcHBlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICB2MTkyLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICB2MTkyLlRleHRZQWxpZ25tZW50ID0gIlRvcCIKICAgICAgICAgICAgICAgICAgICB2MTkyLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgdjE5Mi5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC41CiAgICAgICAgICAgICAgICAgICAgdjE5Mi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUxLCAyNTUsIDApCiAgICAgICAgICAgICAgICAgICAgdjE5Mi5UZXh0ID0gdjE5MC5OYW1lIC4uICIgXG4iIC4uIHYxNTgoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gdjE5MC5IYW5kbGUuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZWxzZWlmIHYxOTAuSGFuZGxlOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpIHRoZW4KICAgICAgICAgICAgICAgIHYxOTAuSGFuZGxlOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpOkRlc3Ryb3koKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAplbmQKZnVuY3Rpb24gVXBkYXRlSXNsYW5kRVNQKCkKICAgIGZvciBfLCB2MTk0IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuX1dvcmxkT3JpZ2luLkxvY2F0aW9uczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgIGRvCiAgICAgICAgICAgIGxvY2FsIHZhcl92a3FrenggPSB2MTk0CiAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGlmIG5vdCBJc2xhbmRFU1AgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIGxfdjE5NF8wOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBsX3YxOTRfMDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIpOkRlc3Ryb3koKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZWxzZWlmIGxfdjE5NF8wLk5hbWUgfj0gIlNlYSIgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIGxfdjE5NF8wOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBsX3YxOTRfMC5OYW1lRXNwLlRleHRMYWJlbC5UZXh0ID0gbF92MTk0XzAuTmFtZSAuLiAiICAgXG4iIC4uIHYxNTgoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gbF92MTk0XzAuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfeWtwZTI3ID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiLCBsX3YxOTRfMCkKICAgICAgICAgICAgICAgICAgICAgICAgdjE5Ni5OYW1lID0gIk5hbWVFc3AiCiAgICAgICAgICAgICAgICAgICAgICAgIHYxOTYuRXh0ZW50c09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgIHYxOTYuU2l6ZSA9IFVEaW0yLm5ldygxLCAyMDAsIDEsIDMwKQogICAgICAgICAgICAgICAgICAgICAgICB2MTk2LkFkb3JuZWUgPSBsX3YxOTRfMAogICAgICAgICAgICAgICAgICAgICAgICB2MTk2LkFsd2F5c09uVG9wID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfOW4zdnN3ID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCB2MTk2KQogICAgICAgICAgICAgICAgICAgICAgICB2MTk3LkZvbnQgPSAiR290aGFtU2VtaWJvbGQiCiAgICAgICAgICAgICAgICAgICAgICAgIHYxOTcuRm9udFNpemUgPSAiU2l6ZTE0IgogICAgICAgICAgICAgICAgICAgICAgICB2MTk3LlRleHRXcmFwcGVkID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICB2MTk3LlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgdjE5Ny5UZXh0WUFsaWdubWVudCA9ICJUb3AiCiAgICAgICAgICAgICAgICAgICAgICAgIHYxOTcuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgdjE5Ny5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC41CiAgICAgICAgICAgICAgICAgICAgICAgIHYxOTcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDgsIDI0NywgMjU1KQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbmQKICAgIGVuZAplbmQKZnVuY3Rpb24gaXNuaWwodjE5OCkKICAgIGxvY2FsIHZhcl96ZDhxdzkgPSBuaWwKICAgIGlmIHYxOTggfj0gdjE5OSB0aGVuCiAgICAgICAgbG9jYWwgdmFyXzgxZXQxNSA9IGZhbHNlCiAgICBlbmQKICAgIHJldHVybiB0cnVlCmVuZApsb2NhbCB2YXJfbjJtNTd0IHYyMDIodjIwMSkKICAgIHJldHVybiBtYXRoLmZsb29yKHRvbnVtYmVyKHYyMDEpICsgMC41KQplbmQKTnVtYmVyID0gbWF0aC5yYW5kb20oMSwgMTAwMDAwMCkKZnVuY3Rpb24gVXBkYXRlUGxheWVyQ2hhbXMoKQogICAgZm9yIF8sIHYyMDQgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIik6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICBkbwogICAgICAgICAgICBsb2NhbCB2YXJfcnowZGJyID0gdjIwNAogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBub3QgaXNuaWwobF92MjA0XzAuQ2hhcmFjdGVyKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgRVNQUGxheWVyIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgaWYgaXNuaWwobF92MjA0XzAuQ2hhcmFjdGVyLkhlYWQpIG9yIGxfdjIwNF8wLkNoYXJhY3Rlci5IZWFkOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxfdjIwNF8wLkNoYXJhY3Rlci5IZWFkWyJOYW1lRXNwIiAuLiBOdW1iZXJdLlRleHRMYWJlbC5UZXh0ID0gbF92MjA0XzAuTmFtZSAuLiAiIHwgIiAuLiB2MjAyKChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIGxfdjIwNF8wLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlXG5IZWFsdGggOiAiIC4uIHYyMDIobF92MjA0XzAuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCAqIDEwMCAvIGxfdjIwNF8wLkNoYXJhY3Rlci5IdW1hbm9pZC5NYXhIZWFsdGgpIC4uICIlIgogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfMWh3OWZ0ID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiLCBsX3YyMDRfMC5DaGFyYWN0ZXIuSGVhZCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyMDYuTmFtZSA9ICJOYW1lRXNwIiAuLiBOdW1iZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyMDYuRXh0ZW50c09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjA2LlNpemUgPSBVRGltMi5uZXcoMSwgMjAwLCAxLCAzMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyMDYuQWRvcm5lZSA9IGxfdjIwNF8wLkNoYXJhY3Rlci5IZWFkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjA2LkFsd2F5c09uVG9wID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX2tvNGY4cSA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgdjIwNikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyMDcuRm9udCA9IEVudW0uRm9udC5Hb3RoYW1TZW1pYm9sZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjIwNy5Gb250U2l6ZSA9ICJTaXplMTQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjA3LlRleHRXcmFwcGVkID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjIwNy5UZXh0ID0gbF92MjA0XzAuTmFtZSAuLiAiIFxuIiAuLiB2MjAyKChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIGxfdjIwNF8wLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjIwNy5TaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjA3LlRleHRZQWxpZ25tZW50ID0gIlRvcCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyMDcuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyMDcuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbF92MjA0XzAuVGVhbSB+PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuVGVhbSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjIwNy5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygyNTUsIDAsIDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjIwNy5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygwLCAyNTUsIDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZWxzZWlmIGxfdjIwNF8wLkNoYXJhY3Rlci5IZWFkOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgbF92MjA0XzAuQ2hhcmFjdGVyLkhlYWQ6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiIC4uIE51bWJlcik6RGVzdHJveSgpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCmVuZApmdW5jdGlvbiBVcGRhdGVDaGVzdEVTUCgpCiAgICBmb3IgXywgdjIwOSBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIkNvbGxlY3Rpb25TZXJ2aWNlIik6R2V0VGFnZ2VkKCJfQ2hlc3RUYWdnZWQiKSkgZG8KICAgICAgICBkbwogICAgICAgICAgICBsb2NhbCB2YXJfMHg3bXcyID0gdjIwOQogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBfRy5DaGVzdEVTUCB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgbm90IGxfdjIwOV8wOkdldEF0dHJpYnV0ZSgiSXNEaXNhYmxlZCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgaWYgbm90IGxfdjIwOV8wOkZpbmRGaXJzdENoaWxkKCJDaGVzdEVzcCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9kZjB0YW4gPSBJbnN0YW5jZS5uZXcoIkJpbGxib2FyZEd1aSIsIGxfdjIwOV8wKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjIxMS5OYW1lID0gIkNoZXN0RXNwIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjIxMS5FeHRlbnRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyMTEuU2l6ZSA9IFVEaW0yLm5ldygxLCAyMDAsIDEsIDMwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjIxMS5BZG9ybmVlID0gbF92MjA5XzAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyMTEuQWx3YXlzT25Ub3AgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfdXBuYmxqID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCB2MjExKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjIxMi5Gb250ID0gIkNvZGUiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjEyLkZvbnRTaXplID0gIlNpemUxNCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyMTIuVGV4dFdyYXBwZWQgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjEyLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyMTIuVGV4dFlBbGlnbm1lbnQgPSAiVG9wIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjIxMi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjIxMi5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC41CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjEyLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDIxNSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX2xwcWxzeSA9IHYyMDIoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gbF92MjA5XzA6R2V0UGl2b3QoKS5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxfdjIwOV8wLkNoZXN0RXNwLlRleHRMYWJlbC5UZXh0ID0gIkNoZXN0XG4iIC4uIHYyMTMgLi4gIiBNIgogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVsc2VpZiBsX3YyMDlfMDpGaW5kRmlyc3RDaGlsZCgiQ2hlc3RFc3AiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgbF92MjA5XzA6RmluZEZpcnN0Q2hpbGQoIkNoZXN0RXNwIik6RGVzdHJveSgpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCmVuZApmdW5jdGlvbiB2MjAyKHYyMTQpCiAgICByZXR1cm4gbWF0aC5mbG9vcih2MjE0ICsgMC41KQplbmQKZnVuY3Rpb24gVXBkYXRlRGV2aWxDaGFtcygpCiAgICBmb3IgXywgdjIxNiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZTpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgIGRvCiAgICAgICAgICAgIGxvY2FsIHZhcl93azNiYXIgPSB2MjE2CiAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGlmIG5vdCBEZXZpbEZydWl0RVNQIHRoZW4KICAgICAgICAgICAgICAgICAgICBpZiBsX3YyMTZfMC5IYW5kbGU6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiIC4uIE51bWJlcikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBsX3YyMTZfMC5IYW5kbGU6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiIC4uIE51bWJlcik6RGVzdHJveSgpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbHNlaWYgc3RyaW5nLmZpbmQobF92MjE2XzAuTmFtZSwgIkZydWl0IikgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIGxfdjIxNl8wLkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGxfdjIxNl8wLkhhbmRsZVsiTmFtZUVzcCIgLi4gTnVtYmVyXS5UZXh0TGFiZWwuVGV4dCA9IGxfdjIxNl8wLk5hbWUgLi4gIiAgIFxuIiAuLiB2MjAyKChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIGxfdjIxNl8wLkhhbmRsZS5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBEaXN0YW5jZSIKICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9xdGY1MzIgPSBJbnN0YW5jZS5uZXcoIkJpbGxib2FyZEd1aSIsIGxfdjIxNl8wLkhhbmRsZSkKICAgICAgICAgICAgICAgICAgICAgICAgdjIxOC5OYW1lID0gIk5hbWVFc3AiIC4uIE51bWJlcgogICAgICAgICAgICAgICAgICAgICAgICB2MjE4LkV4dGVudHNPZmZzZXQgPSBWZWN0b3IzLm5ldygwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgICAgICB2MjE4LlNpemUgPSBVRGltMi5uZXcoMSwgMjAwLCAxLCAzMCkKICAgICAgICAgICAgICAgICAgICAgICAgdjIxOC5BZG9ybmVlID0gbF92MjE2XzAuSGFuZGxlCiAgICAgICAgICAgICAgICAgICAgICAgIHYyMTguQWx3YXlzT25Ub3AgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl8zeWl5b2sgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIHYyMTgpCiAgICAgICAgICAgICAgICAgICAgICAgIHYyMTkuRm9udCA9IEVudW0uRm9udC5Hb3RoYW1TZW1pYm9sZAogICAgICAgICAgICAgICAgICAgICAgICB2MjE5LkZvbnRTaXplID0gIlNpemUxNCIKICAgICAgICAgICAgICAgICAgICAgICAgdjIxOS5UZXh0V3JhcHBlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgdjIxOS5TaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgIHYyMTkuVGV4dFlBbGlnbm1lbnQgPSAiVG9wIgogICAgICAgICAgICAgICAgICAgICAgICB2MjE5LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgIHYyMTkuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgICAgICAgICB2MjE5LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQogICAgICAgICAgICAgICAgICAgICAgICB2MjE5LlRleHQgPSBsX3YyMTZfMC5OYW1lIC4uICIgXG4iIC4uIHYyMDIoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gbF92MjE2XzAuSGFuZGxlLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbmQKICAgIGVuZAplbmQKZnVuY3Rpb24gVXBkYXRlRmxvd2VyQ2hhbXMoKQogICAgZm9yIF8sIHYyMjEgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2U6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICBkbwogICAgICAgICAgICBsb2NhbCB2YXJfbDVjcnQ0ID0gdjIyMQogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBsX3YyMjFfMC5OYW1lID09ICJGbG93ZXIyIiBvciBsX3YyMjFfMC5OYW1lID09ICJGbG93ZXIxIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgbm90IEZsb3dlckVTUCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxfdjIyMV8wOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxfdjIyMV8wOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpOkRlc3Ryb3koKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbHNlaWYgbF92MjIxXzA6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiIC4uIE51bWJlcikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBsX3YyMjFfMFsiTmFtZUVzcCIgLi4gTnVtYmVyXS5UZXh0TGFiZWwuVGV4dCA9IGxfdjIyMV8wLk5hbWUgLi4gIiAgIFxuIiAuLiB2MjAyKChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIGxfdjIyMV8wLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX3E0b2ZxZCA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIiwgbF92MjIxXzApCiAgICAgICAgICAgICAgICAgICAgICAgIHYyMjMuTmFtZSA9ICJOYW1lRXNwIiAuLiBOdW1iZXIKICAgICAgICAgICAgICAgICAgICAgICAgdjIyMy5FeHRlbnRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgdjIyMy5TaXplID0gVURpbTIubmV3KDEsIDIwMCwgMSwgMzApCiAgICAgICAgICAgICAgICAgICAgICAgIHYyMjMuQWRvcm5lZSA9IGxfdjIyMV8wCiAgICAgICAgICAgICAgICAgICAgICAgIHYyMjMuQWx3YXlzT25Ub3AgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9icHR5OHUgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIHYyMjMpCiAgICAgICAgICAgICAgICAgICAgICAgIHYyMjQuRm9udCA9IEVudW0uRm9udC5Hb3RoYW1TZW1pYm9sZAogICAgICAgICAgICAgICAgICAgICAgICB2MjI0LkZvbnRTaXplID0gIlNpemUxNCIKICAgICAgICAgICAgICAgICAgICAgICAgdjIyNC5UZXh0V3JhcHBlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgdjIyNC5TaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgIHYyMjQuVGV4dFlBbGlnbm1lbnQgPSAiVG9wIgogICAgICAgICAgICAgICAgICAgICAgICB2MjI0LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgIHYyMjQuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgICAgICAgICB2MjI0LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDAsIDApCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxfdjIyMV8wLk5hbWUgPT0gIkZsb3dlcjEiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyMjQuVGV4dCA9ICJCbHVlIEZsb3dlciIgLi4gIiBcbiIgLi4gdjIwMigoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSBsX3YyMjFfMC5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBEaXN0YW5jZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyMjQuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDI1NSkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxfdjIyMV8wLk5hbWUgPT0gIkZsb3dlcjIiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyMjQuVGV4dCA9ICJSZWQgRmxvd2VyIiAuLiAiIFxuIiAuLiB2MjAyKChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIGxfdjIyMV8wLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjIyNC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAwLCAwKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kCmZ1bmN0aW9uIFVwZGF0ZVJlYWxGcnVpdENoYW1zKCkKICAgIGZvciBfLCB2MjI2IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlLkFwcGxlU3Bhd25lcjpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgIGlmIHYyMjY6SXNBKCJUb29sIikgdGhlbgogICAgICAgICAgICBpZiBub3QgUmVhbEZydWl0RVNQIHRoZW4KICAgICAgICAgICAgICAgIGlmIHYyMjYuSGFuZGxlOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpIHRoZW4KICAgICAgICAgICAgICAgICAgICB2MjI2LkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKTpEZXN0cm95KCkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbHNlaWYgdjIyNi5IYW5kbGU6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiIC4uIE51bWJlcikgdGhlbgogICAgICAgICAgICAgICAgdjIyNi5IYW5kbGVbIk5hbWVFc3AiIC4uIE51bWJlcl0uVGV4dExhYmVsLlRleHQgPSB2MjI2Lk5hbWUgLi4gIiAiIC4uIHYyMDIoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gdjIyNi5IYW5kbGUuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9veXppaWQgPSBJbnN0YW5jZS5uZXcoIkJpbGxib2FyZEd1aSIsIHYyMjYuSGFuZGxlKQogICAgICAgICAgICAgICAgdjIyNy5OYW1lID0gIk5hbWVFc3AiIC4uIE51bWJlcgogICAgICAgICAgICAgICAgdjIyNy5FeHRlbnRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMSwgMCkKICAgICAgICAgICAgICAgIHYyMjcuU2l6ZSA9IFVEaW0yLm5ldygxLCAyMDAsIDEsIDMwKQogICAgICAgICAgICAgICAgdjIyNy5BZG9ybmVlID0gdjIyNi5IYW5kbGUKICAgICAgICAgICAgICAgIHYyMjcuQWx3YXlzT25Ub3AgPSB0cnVlCiAgICAgICAgICAgICAgICBsb2NhbCB2YXJfOWp1dmQ3ID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCB2MjI3KQogICAgICAgICAgICAgICAgdjIyOC5Gb250ID0gRW51bS5Gb250LkdvdGhhbVNlbWlib2xkCiAgICAgICAgICAgICAgICB2MjI4LkZvbnRTaXplID0gIlNpemUxNCIKICAgICAgICAgICAgICAgIHYyMjguVGV4dFdyYXBwZWQgPSB0cnVlCiAgICAgICAgICAgICAgICB2MjI4LlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgIHYyMjguVGV4dFlBbGlnbm1lbnQgPSAiVG9wIgogICAgICAgICAgICAgICAgdjIyOC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgdjIyOC5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC41CiAgICAgICAgICAgICAgICB2MjI4LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDAsIDApCiAgICAgICAgICAgICAgICB2MjI4LlRleHQgPSB2MjI2Lk5hbWUgLi4gIiBcbiIgLi4gdjIwMigoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSB2MjI2LkhhbmRsZS5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBEaXN0YW5jZSIKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKICAgIGZvciBfLCB2MjMwIGluIHBhaXJzKGdhbWUuV29ya3NwYWNlLlBpbmVhcHBsZVNwYXduZXI6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICBpZiB2MjMwOklzQSgiVG9vbCIpIHRoZW4KICAgICAgICAgICAgaWYgUmVhbEZydWl0RVNQIHRoZW4KICAgICAgICAgICAgICAgIGlmIHYyMzAuSGFuZGxlOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpIHRoZW4KICAgICAgICAgICAgICAgICAgICB2MjMwLkhhbmRsZVsiTmFtZUVzcCIgLi4gTnVtYmVyXS5UZXh0TGFiZWwuVGV4dCA9IHYyMzAuTmFtZSAuLiAiICIgLi4gdjIwMigoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSB2MjMwLkhhbmRsZS5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBEaXN0YW5jZSIKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfbXptdWNhID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiLCB2MjMwLkhhbmRsZSkKICAgICAgICAgICAgICAgICAgICB2MjMxLk5hbWUgPSAiTmFtZUVzcCIgLi4gTnVtYmVyCiAgICAgICAgICAgICAgICAgICAgdjIzMS5FeHRlbnRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICB2MjMxLlNpemUgPSBVRGltMi5uZXcoMSwgMjAwLCAxLCAzMCkKICAgICAgICAgICAgICAgICAgICB2MjMxLkFkb3JuZWUgPSB2MjMwLkhhbmRsZQogICAgICAgICAgICAgICAgICAgIHYyMzEuQWx3YXlzT25Ub3AgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX3JuYnVsZSA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgdjIzMSkKICAgICAgICAgICAgICAgICAgICB2MjMyLkZvbnQgPSBFbnVtLkZvbnQuR290aGFtU2VtaWJvbGQKICAgICAgICAgICAgICAgICAgICB2MjMyLkZvbnRTaXplID0gIlNpemUxNCIKICAgICAgICAgICAgICAgICAgICB2MjMyLlRleHRXcmFwcGVkID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIHYyMzIuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgIHYyMzIuVGV4dFlBbGlnbm1lbnQgPSAiVG9wIgogICAgICAgICAgICAgICAgICAgIHYyMzIuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgICAgICB2MjMyLlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjUKICAgICAgICAgICAgICAgICAgICB2MjMyLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDE3NCwgMCkKICAgICAgICAgICAgICAgICAgICB2MjMyLlRleHQgPSB2MjMwLk5hbWUgLi4gIiBcbiIgLi4gdjIwMigoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSB2MjMwLkhhbmRsZS5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBEaXN0YW5jZSIKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbHNlaWYgdjIzMC5IYW5kbGU6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiIC4uIE51bWJlcikgdGhlbgogICAgICAgICAgICAgICAgdjIzMC5IYW5kbGU6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiIC4uIE51bWJlcik6RGVzdHJveSgpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCiAgICBmb3IgXywgdjIzNCBpbiBwYWlycyhnYW1lLldvcmtzcGFjZS5CYW5hbmFTcGF3bmVyOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgaWYgdjIzNDpJc0EoIlRvb2wiKSB0aGVuCiAgICAgICAgICAgIGlmIFJlYWxGcnVpdEVTUCB0aGVuCiAgICAgICAgICAgICAgICBpZiBub3QgdjIzNC5IYW5kbGU6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiIC4uIE51bWJlcikgdGhlbgogICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9ubm5iYXQgPSBJbnN0YW5jZS5uZXcoIkJpbGxib2FyZEd1aSIsIHYyMzQuSGFuZGxlKQogICAgICAgICAgICAgICAgICAgIHYyMzUuTmFtZSA9ICJOYW1lRXNwIiAuLiBOdW1iZXIKICAgICAgICAgICAgICAgICAgICB2MjM1LkV4dGVudHNPZmZzZXQgPSBWZWN0b3IzLm5ldygwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgIHYyMzUuU2l6ZSA9IFVEaW0yLm5ldygxLCAyMDAsIDEsIDMwKQogICAgICAgICAgICAgICAgICAgIHYyMzUuQWRvcm5lZSA9IHYyMzQuSGFuZGxlCiAgICAgICAgICAgICAgICAgICAgdjIzNS5BbHdheXNPblRvcCA9IHRydWUKICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfMGY5OXdxID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCB2MjM1KQogICAgICAgICAgICAgICAgICAgIHYyMzYuRm9udCA9IEVudW0uRm9udC5Hb3RoYW1TZW1pYm9sZAogICAgICAgICAgICAgICAgICAgIHYyMzYuRm9udFNpemUgPSAiU2l6ZTE0IgogICAgICAgICAgICAgICAgICAgIHYyMzYuVGV4dFdyYXBwZWQgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgdjIzNi5TaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgdjIzNi5UZXh0WUFsaWdubWVudCA9ICJUb3AiCiAgICAgICAgICAgICAgICAgICAgdjIzNi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgICAgIHYyMzYuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgICAgIHYyMzYuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjU1LCAwKQogICAgICAgICAgICAgICAgICAgIHYyMzYuVGV4dCA9IHYyMzQuTmFtZSAuLiAiIFxuIiAuLiB2MjAyKChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIHYyMzQuSGFuZGxlLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIHYyMzQuSGFuZGxlWyJOYW1lRXNwIiAuLiBOdW1iZXJdLlRleHRMYWJlbC5UZXh0ID0gdjIzNC5OYW1lIC4uICIgIiAuLiB2MjAyKChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIHYyMzQuSGFuZGxlLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVsc2VpZiB2MjM0LkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICB2MjM0LkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKTpEZXN0cm95KCkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKZW5kCmZ1bmN0aW9uIFVwZGF0ZUlzbGFuZEVTUCgpCiAgICBmb3IgXywgdjIzOCBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLl9Xb3JsZE9yaWdpbi5Mb2NhdGlvbnM6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICBkbwogICAgICAgICAgICBsb2NhbCB2YXJfMWFqbzdtID0gdjIzOAogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBJc2xhbmRFU1AgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIGxfdjIzOF8wLk5hbWUgfj0gIlNlYSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBpZiBsX3YyMzhfMDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxfdjIzOF8wLk5hbWVFc3AuVGV4dExhYmVsLlRleHQgPSBsX3YyMzhfMC5OYW1lIC4uICIgICBcbiIgLi4gdjIwMigoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSBsX3YyMzhfMC5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBEaXN0YW5jZSIKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyXzkxYWY4aSA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIiwgbF92MjM4XzApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjQwLk5hbWUgPSAiTmFtZUVzcCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyNDAuRXh0ZW50c09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjQwLlNpemUgPSBVRGltMi5uZXcoMSwgMjAwLCAxLCAzMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyNDAuQWRvcm5lZSA9IGxfdjIzOF8wCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjQwLkFsd2F5c09uVG9wID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX25qaGF2NCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgdjI0MCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyNDEuRm9udCA9ICJHb3RoYW1TZW1pYm9sZCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyNDEuRm9udFNpemUgPSAiU2l6ZTE0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjI0MS5UZXh0V3JhcHBlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyNDEuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjI0MS5UZXh0WUFsaWdubWVudCA9ICJUb3AiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjQxLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjQxLlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyNDEuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDgsIDI0NywgMjU1KQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVsc2VpZiBsX3YyMzhfMDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICBsX3YyMzhfMDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIpOkRlc3Ryb3koKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbmQKICAgIGVuZAplbmQKZnVuY3Rpb24gaXNuaWwodjI0MikKICAgIGxvY2FsIHZhcl81YW1iemUgPSBuaWwKICAgIGlmIHYyNDIgfj0gdjI0MyB0aGVuCiAgICAgICAgbG9jYWwgdmFyX2ZuazljeiA9IGZhbHNlCiAgICBlbmQKICAgIHJldHVybiB0cnVlCmVuZApsb2NhbCB2YXJfenhxMmJrIHYyNDYodjI0NSkKICAgIHJldHVybiBtYXRoLmZsb29yKHRvbnVtYmVyKHYyNDUpICsgMC41KQplbmQKTnVtYmVyID0gbWF0aC5yYW5kb20oMSwgMTAwMDAwMCkKZnVuY3Rpb24gVXBkYXRlUGxheWVyQ2hhbXMoKQogICAgZm9yIF8sIHYyNDggaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIik6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICBkbwogICAgICAgICAgICBsb2NhbCB2YXJfYTFua3g1ID0gdjI0OAogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBub3QgaXNuaWwobF92MjQ4XzAuQ2hhcmFjdGVyKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgRVNQUGxheWVyIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgaWYgbm90IGlzbmlsKGxfdjI0OF8wLkNoYXJhY3Rlci5IZWFkKSBhbmQgbm90IGxfdjI0OF8wLkNoYXJhY3Rlci5IZWFkOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl81ajYyMHEgPSBJbnN0YW5jZS5uZXcoIkJpbGxib2FyZEd1aSIsIGxfdjI0OF8wLkNoYXJhY3Rlci5IZWFkKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjI1MC5OYW1lID0gIk5hbWVFc3AiIC4uIE51bWJlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjI1MC5FeHRlbnRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyNTAuU2l6ZSA9IFVEaW0yLm5ldygxLCAyMDAsIDEsIDMwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjI1MC5BZG9ybmVlID0gbF92MjQ4XzAuQ2hhcmFjdGVyLkhlYWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyNTAuQWx3YXlzT25Ub3AgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfYTB1aHlkID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCB2MjUwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjI1MS5Gb250ID0gRW51bS5Gb250LkdvdGhhbVNlbWlib2xkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjUxLkZvbnRTaXplID0gIlNpemUxNCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyNTEuVGV4dFdyYXBwZWQgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjUxLlRleHQgPSBsX3YyNDhfMC5OYW1lIC4uICIgXG4iIC4uIHYyNDYoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gbF92MjQ4XzAuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjUxLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyNTEuVGV4dFlBbGlnbm1lbnQgPSAiVG9wIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjI1MS5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjI1MS5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC41CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBsX3YyNDhfMC5UZWFtIH49IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5UZWFtIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjUxLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDI1NSwgMCwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjUxLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDAsIDI1NSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX3YyNDhfMC5DaGFyYWN0ZXIuSGVhZFsiTmFtZUVzcCIgLi4gTnVtYmVyXS5UZXh0TGFiZWwuVGV4dCA9IGxfdjI0OF8wLk5hbWUgLi4gIiB8ICIgLi4gdjI0NigoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSBsX3YyNDhfMC5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBEaXN0YW5jZVxuSGVhbHRoIDogIiAuLiB2MjQ2KGxfdjI0OF8wLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggKiAxMDAgLyBsX3YyNDhfMC5DaGFyYWN0ZXIuSHVtYW5vaWQuTWF4SGVhbHRoKSAuLiAiJSIKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZWxzZWlmIGxfdjI0OF8wLkNoYXJhY3Rlci5IZWFkOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgbF92MjQ4XzAuQ2hhcmFjdGVyLkhlYWQ6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiIC4uIE51bWJlcik6RGVzdHJveSgpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCmVuZApmdW5jdGlvbiBVcGRhdGVDaGVzdEVTUCgpCiAgICBmb3IgXywgdjI1MyBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIkNvbGxlY3Rpb25TZXJ2aWNlIik6R2V0VGFnZ2VkKCJfQ2hlc3RUYWdnZWQiKSkgZG8KICAgICAgICBkbwogICAgICAgICAgICBsb2NhbCB2YXJfb29xdnM4ID0gdjI1MwogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBfRy5DaGVzdEVTUCB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgbm90IGxfdjI1M18wOkdldEF0dHJpYnV0ZSgiSXNEaXNhYmxlZCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgaWYgbF92MjUzXzA6RmluZEZpcnN0Q2hpbGQoIkNoZXN0RXNwIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX3Nucml0NyA9IHYyNDYoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gbF92MjUzXzA6R2V0UGl2b3QoKS5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxfdjI1M18wLkNoZXN0RXNwLlRleHRMYWJlbC5UZXh0ID0gIkNoZXN0XG4iIC4uIHYyNTUgLi4gIiBNIgogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfZTZqMXRzID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiLCBsX3YyNTNfMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyNTYuTmFtZSA9ICJDaGVzdEVzcCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyNTYuRXh0ZW50c09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjU2LlNpemUgPSBVRGltMi5uZXcoMSwgMjAwLCAxLCAzMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyNTYuQWRvcm5lZSA9IGxfdjI1M18wCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjU2LkFsd2F5c09uVG9wID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX3lvbDZvcCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgdjI1NikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyNTcuRm9udCA9ICJDb2RlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjI1Ny5Gb250U2l6ZSA9ICJTaXplMTQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjU3LlRleHRXcmFwcGVkID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjI1Ny5TaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjU3LlRleHRZQWxpZ25tZW50ID0gIlRvcCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyNTcuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyNTcuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjI1Ny5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyMTUsIDApCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZWxzZWlmIGxfdjI1M18wOkZpbmRGaXJzdENoaWxkKCJDaGVzdEVzcCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICBsX3YyNTNfMDpGaW5kRmlyc3RDaGlsZCgiQ2hlc3RFc3AiKTpEZXN0cm95KCkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kCmZ1bmN0aW9uIHYyNDYodjI1OCkKICAgIHJldHVybiBtYXRoLmZsb29yKHYyNTggKyAwLjUpCmVuZApmdW5jdGlvbiBVcGRhdGVEZXZpbENoYW1zKCkKICAgIGZvciBfLCB2MjYwIGluIHBhaXJzKGdhbWUuV29ya3NwYWNlOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgZG8KICAgICAgICAgICAgbG9jYWwgdmFyX3ppaDc1ZSA9IHYyNjAKICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgaWYgbm90IERldmlsRnJ1aXRFU1AgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIGxfdjI2MF8wLkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGxfdjI2MF8wLkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKTpEZXN0cm95KCkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVsc2VpZiBzdHJpbmcuZmluZChsX3YyNjBfMC5OYW1lLCAiRnJ1aXQiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgbF92MjYwXzAuSGFuZGxlOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgbF92MjYwXzAuSGFuZGxlWyJOYW1lRXNwIiAuLiBOdW1iZXJdLlRleHRMYWJlbC5UZXh0ID0gbF92MjYwXzAuTmFtZSAuLiAiICAgXG4iIC4uIHYyNDYoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gbF92MjYwXzAuSGFuZGxlLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX2V1NW1wNSA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIiwgbF92MjYwXzAuSGFuZGxlKQogICAgICAgICAgICAgICAgICAgICAgICB2MjYyLk5hbWUgPSAiTmFtZUVzcCIgLi4gTnVtYmVyCiAgICAgICAgICAgICAgICAgICAgICAgIHYyNjIuRXh0ZW50c09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgIHYyNjIuU2l6ZSA9IFVEaW0yLm5ldygxLCAyMDAsIDEsIDMwKQogICAgICAgICAgICAgICAgICAgICAgICB2MjYyLkFkb3JuZWUgPSBsX3YyNjBfMC5IYW5kbGUKICAgICAgICAgICAgICAgICAgICAgICAgdjI2Mi5BbHdheXNPblRvcCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX3NtZWw0biA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgdjI2MikKICAgICAgICAgICAgICAgICAgICAgICAgdjI2My5Gb250ID0gRW51bS5Gb250LkdvdGhhbVNlbWlib2xkCiAgICAgICAgICAgICAgICAgICAgICAgIHYyNjMuRm9udFNpemUgPSAiU2l6ZTE0IgogICAgICAgICAgICAgICAgICAgICAgICB2MjYzLlRleHRXcmFwcGVkID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICB2MjYzLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgdjI2My5UZXh0WUFsaWdubWVudCA9ICJUb3AiCiAgICAgICAgICAgICAgICAgICAgICAgIHYyNjMuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgdjI2My5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC41CiAgICAgICAgICAgICAgICAgICAgICAgIHYyNjMuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCiAgICAgICAgICAgICAgICAgICAgICAgIHYyNjMuVGV4dCA9IGxfdjI2MF8wLk5hbWUgLi4gIiBcbiIgLi4gdjI0NigoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSBsX3YyNjBfMC5IYW5kbGUuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCmVuZApmdW5jdGlvbiBVcGRhdGVGbG93ZXJDaGFtcygpCiAgICBmb3IgXywgdjI2NSBpbiBwYWlycyhnYW1lLldvcmtzcGFjZTpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgIGRvCiAgICAgICAgICAgIGxvY2FsIHZhcl9icDVkNHkgPSB2MjY1CiAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGlmIGxfdjI2NV8wLk5hbWUgPT0gIkZsb3dlcjIiIG9yIGxfdjI2NV8wLk5hbWUgPT0gIkZsb3dlcjEiIHRoZW4KICAgICAgICAgICAgICAgICAgICBpZiBGbG93ZXJFU1AgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBpZiBsX3YyNjVfMDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX3YyNjVfMFsiTmFtZUVzcCIgLi4gTnVtYmVyXS5UZXh0TGFiZWwuVGV4dCA9IGxfdjI2NV8wLk5hbWUgLi4gIiAgIFxuIiAuLiB2MjQ2KChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIGxfdjI2NV8wLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfZjhoaXMxID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiLCBsX3YyNjVfMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyNjcuTmFtZSA9ICJOYW1lRXNwIiAuLiBOdW1iZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyNjcuRXh0ZW50c09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjY3LlNpemUgPSBVRGltMi5uZXcoMSwgMjAwLCAxLCAzMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyNjcuQWRvcm5lZSA9IGxfdjI2NV8wCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjY3LkFsd2F5c09uVG9wID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyXzJodWMydSA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgdjI2NykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyNjguRm9udCA9IEVudW0uRm9udC5Hb3RoYW1TZW1pYm9sZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjI2OC5Gb250U2l6ZSA9ICJTaXplMTQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjY4LlRleHRXcmFwcGVkID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjI2OC5TaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjY4LlRleHRZQWxpZ25tZW50ID0gIlRvcCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyNjguQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyNjguVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjI2OC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAwLCAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbF92MjY1XzAuTmFtZSA9PSAiRmxvd2VyMSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYyNjguVGV4dCA9ICJCbHVlIEZsb3dlciIgLi4gIiBcbiIgLi4gdjI0NigoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSBsX3YyNjVfMC5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBEaXN0YW5jZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjY4LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAyNTUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxfdjI2NV8wLk5hbWUgPT0gIkZsb3dlcjIiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjY4LlRleHQgPSAiUmVkIEZsb3dlciIgLi4gIiBcbiIgLi4gdjI0NigoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSBsX3YyNjVfMC5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBEaXN0YW5jZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MjY4LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDAsIDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZWxzZWlmIGxfdjI2NV8wOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIiAuLiBOdW1iZXIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgbF92MjY1XzA6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiIC4uIE51bWJlcik6RGVzdHJveSgpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCmVuZApmdW5jdGlvbiBVcGRhdGVSZWFsRnJ1aXRDaGFtcygpCiAgICBmb3IgXywgdjI3MCBpbiBwYWlycyhnYW1lLldvcmtzcGFjZS5BcHBsZVNwYXduZXI6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICBpZiB2MjcwOklzQSgiVG9vbCIpIHRoZW4KICAgICAgICAgICAgaWYgUmVhbEZydWl0RVNQIHRoZW4KICAgICAgICAgICAgICAgIGlmIG5vdCB2MjcwLkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX21uN3FjMSA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIiwgdjI3MC5IYW5kbGUpCiAgICAgICAgICAgICAgICAgICAgdjI3MS5OYW1lID0gIk5hbWVFc3AiIC4uIE51bWJlcgogICAgICAgICAgICAgICAgICAgIHYyNzEuRXh0ZW50c09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgdjI3MS5TaXplID0gVURpbTIubmV3KDEsIDIwMCwgMSwgMzApCiAgICAgICAgICAgICAgICAgICAgdjI3MS5BZG9ybmVlID0gdjI3MC5IYW5kbGUKICAgICAgICAgICAgICAgICAgICB2MjcxLkFsd2F5c09uVG9wID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9sNGhhYXYgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIHYyNzEpCiAgICAgICAgICAgICAgICAgICAgdjI3Mi5Gb250ID0gRW51bS5Gb250LkdvdGhhbVNlbWlib2xkCiAgICAgICAgICAgICAgICAgICAgdjI3Mi5Gb250U2l6ZSA9ICJTaXplMTQiCiAgICAgICAgICAgICAgICAgICAgdjI3Mi5UZXh0V3JhcHBlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICB2MjcyLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICB2MjcyLlRleHRZQWxpZ25tZW50ID0gIlRvcCIKICAgICAgICAgICAgICAgICAgICB2MjcyLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgdjI3Mi5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC41CiAgICAgICAgICAgICAgICAgICAgdjI3Mi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAwLCAwKQogICAgICAgICAgICAgICAgICAgIHYyNzIuVGV4dCA9IHYyNzAuTmFtZSAuLiAiIFxuIiAuLiB2MjQ2KChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIHYyNzAuSGFuZGxlLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIHYyNzAuSGFuZGxlWyJOYW1lRXNwIiAuLiBOdW1iZXJdLlRleHRMYWJlbC5UZXh0ID0gdjI3MC5OYW1lIC4uICIgIiAuLiB2MjQ2KChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIHYyNzAuSGFuZGxlLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVsc2VpZiB2MjcwLkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICB2MjcwLkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKTpEZXN0cm95KCkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKICAgIGZvciBfLCB2Mjc0IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlLlBpbmVhcHBsZVNwYXduZXI6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICBpZiB2Mjc0OklzQSgiVG9vbCIpIHRoZW4KICAgICAgICAgICAgaWYgbm90IFJlYWxGcnVpdEVTUCB0aGVuCiAgICAgICAgICAgICAgICBpZiB2Mjc0LkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgdjI3NC5IYW5kbGU6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiIC4uIE51bWJlcik6RGVzdHJveSgpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZWxzZWlmIG5vdCB2Mjc0LkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICBsb2NhbCB2YXJfMnh4aWdsID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiLCB2Mjc0LkhhbmRsZSkKICAgICAgICAgICAgICAgIHYyNzUuTmFtZSA9ICJOYW1lRXNwIiAuLiBOdW1iZXIKICAgICAgICAgICAgICAgIHYyNzUuRXh0ZW50c09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDEsIDApCiAgICAgICAgICAgICAgICB2Mjc1LlNpemUgPSBVRGltMi5uZXcoMSwgMjAwLCAxLCAzMCkKICAgICAgICAgICAgICAgIHYyNzUuQWRvcm5lZSA9IHYyNzQuSGFuZGxlCiAgICAgICAgICAgICAgICB2Mjc1LkFsd2F5c09uVG9wID0gdHJ1ZQogICAgICAgICAgICAgICAgbG9jYWwgdmFyX293cjhjbCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgdjI3NSkKICAgICAgICAgICAgICAgIHYyNzYuRm9udCA9IEVudW0uRm9udC5Hb3RoYW1TZW1pYm9sZAogICAgICAgICAgICAgICAgdjI3Ni5Gb250U2l6ZSA9ICJTaXplMTQiCiAgICAgICAgICAgICAgICB2Mjc2LlRleHRXcmFwcGVkID0gdHJ1ZQogICAgICAgICAgICAgICAgdjI3Ni5TaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApCiAgICAgICAgICAgICAgICB2Mjc2LlRleHRZQWxpZ25tZW50ID0gIlRvcCIKICAgICAgICAgICAgICAgIHYyNzYuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgIHYyNzYuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgdjI3Ni5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAxNzQsIDApCiAgICAgICAgICAgICAgICB2Mjc2LlRleHQgPSB2Mjc0Lk5hbWUgLi4gIiBcbiIgLi4gdjI0NigoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSB2Mjc0LkhhbmRsZS5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBEaXN0YW5jZSIKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgdjI3NC5IYW5kbGVbIk5hbWVFc3AiIC4uIE51bWJlcl0uVGV4dExhYmVsLlRleHQgPSB2Mjc0Lk5hbWUgLi4gIiAiIC4uIHYyNDYoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gdjI3NC5IYW5kbGUuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCiAgICBmb3IgXywgdjI3OCBpbiBwYWlycyhnYW1lLldvcmtzcGFjZS5CYW5hbmFTcGF3bmVyOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgaWYgdjI3ODpJc0EoIlRvb2wiKSB0aGVuCiAgICAgICAgICAgIGlmIFJlYWxGcnVpdEVTUCB0aGVuCiAgICAgICAgICAgICAgICBpZiBub3QgdjI3OC5IYW5kbGU6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiIC4uIE51bWJlcikgdGhlbgogICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl8wazd4eDQgPSBJbnN0YW5jZS5uZXcoIkJpbGxib2FyZEd1aSIsIHYyNzguSGFuZGxlKQogICAgICAgICAgICAgICAgICAgIHYyNzkuTmFtZSA9ICJOYW1lRXNwIiAuLiBOdW1iZXIKICAgICAgICAgICAgICAgICAgICB2Mjc5LkV4dGVudHNPZmZzZXQgPSBWZWN0b3IzLm5ldygwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgIHYyNzkuU2l6ZSA9IFVEaW0yLm5ldygxLCAyMDAsIDEsIDMwKQogICAgICAgICAgICAgICAgICAgIHYyNzkuQWRvcm5lZSA9IHYyNzguSGFuZGxlCiAgICAgICAgICAgICAgICAgICAgdjI3OS5BbHdheXNPblRvcCA9IHRydWUKICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfN3hzZXlhID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCB2Mjc5KQogICAgICAgICAgICAgICAgICAgIHYyODAuRm9udCA9IEVudW0uRm9udC5Hb3RoYW1TZW1pYm9sZAogICAgICAgICAgICAgICAgICAgIHYyODAuRm9udFNpemUgPSAiU2l6ZTE0IgogICAgICAgICAgICAgICAgICAgIHYyODAuVGV4dFdyYXBwZWQgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgdjI4MC5TaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgdjI4MC5UZXh0WUFsaWdubWVudCA9ICJUb3AiCiAgICAgICAgICAgICAgICAgICAgdjI4MC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgICAgIHYyODAuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgICAgIHYyODAuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjU1LCAwKQogICAgICAgICAgICAgICAgICAgIHYyODAuVGV4dCA9IHYyNzguTmFtZSAuLiAiIFxuIiAuLiB2MjQ2KChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIHYyNzguSGFuZGxlLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIHYyNzguSGFuZGxlWyJOYW1lRXNwIiAuLiBOdW1iZXJdLlRleHRMYWJlbC5UZXh0ID0gdjI3OC5OYW1lIC4uICIgIiAuLiB2MjQ2KChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIHYyNzguSGFuZGxlLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVsc2VpZiB2Mjc4LkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKSB0aGVuCiAgICAgICAgICAgICAgICB2Mjc4LkhhbmRsZTpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIgLi4gTnVtYmVyKTpEZXN0cm95KCkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKZW5kCnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHdhaXQoKSBkbwogICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgaWYgTW9iRVNQIHRoZW4KICAgICAgICAgICAgICAgIGZvciBfLCB2MjgyIGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgIGlmIHYyODI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCB2MjgyOkZpbmRGaXJzdENoaWxkKCJNb2JFYXAiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfYzlvd3lnID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyXzFncG1weCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxfQmlsbGJvYXJkR3VpXzAuUGFyZW50ID0gdjI4MgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbF9CaWxsYm9hcmRHdWlfMC5aSW5kZXhCZWhhdmlvciA9IEVudW0uWkluZGV4QmVoYXZpb3IuU2libGluZwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbF9CaWxsYm9hcmRHdWlfMC5BY3RpdmUgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX0JpbGxib2FyZEd1aV8wLk5hbWUgPSAiTW9iRWFwIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbF9CaWxsYm9hcmRHdWlfMC5BbHdheXNPblRvcCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxfQmlsbGJvYXJkR3VpXzAuTGlnaHRJbmZsdWVuY2UgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX0JpbGxib2FyZEd1aV8wLlNpemUgPSBVRGltMi5uZXcoMCwgMjAwLCAwLCA1MCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxfQmlsbGJvYXJkR3VpXzAuU3R1ZHNPZmZzZXQgPSBWZWN0b3IzLm5ldygwLCAyLjUsIDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX1RleHRMYWJlbF8wLlBhcmVudCA9IGxfQmlsbGJvYXJkR3VpXzAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxfVGV4dExhYmVsXzAuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX1RleHRMYWJlbF8wLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX1RleHRMYWJlbF8wLlNpemUgPSBVRGltMi5uZXcoMCwgMjAwLCAwLCA1MCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxfVGV4dExhYmVsXzAuRm9udCA9IEVudW0uRm9udC5Hb3RoYW1Cb2xkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX1RleHRMYWJlbF8wLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig3LCAyMzYsIDI0MCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxfVGV4dExhYmVsXzAuVGV4dC5TaXplID0gMzUKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl83cHYzamEgPSBtYXRoLmZsb29yKChnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSB2MjgyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLk1hZ25pdHVkZSkKICAgICAgICAgICAgICAgICAgICAgICAgdjI4Mi5Nb2JFYXAuVGV4dExhYmVsLlRleHQgPSB2MjgyLk5hbWUgLi4gIiAtICIgLi4gdjI4NSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGZvciBfLCB2Mjg3IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgIGlmIHYyODc6RmluZEZpcnN0Q2hpbGQoIk1vYkVhcCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgdjI4Ny5Nb2JFYXA6RGVzdHJveSgpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKQogICAgZW5kCmVuZCkKc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICBpZiBub3QgU2VhRVNQIHRoZW4KICAgICAgICAgICAgICAgIGZvciBfLCB2Mjg5IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuU2VhQmVhc3RzOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgaWYgdjI4OTpGaW5kRmlyc3RDaGlsZCgiU2VhZXNwcyIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgdjI4OS5TZWFlc3BzOkRlc3Ryb3koKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGZvciBfLCB2MjkxIGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuU2VhQmVhc3RzOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgaWYgdjI5MTpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgaWYgbm90IHYyOTE6RmluZEZpcnN0Q2hpbGQoIlNlYWVzcHMiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfOWpxbTkxID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyXzRpNTUybSA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxfQmlsbGJvYXJkR3VpXzEuUGFyZW50ID0gdjI5MQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbF9CaWxsYm9hcmRHdWlfMS5aSW5kZXhCZWhhdmlvciA9IEVudW0uWkluZGV4QmVoYXZpb3IuU2libGluZwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbF9CaWxsYm9hcmRHdWlfMS5BY3RpdmUgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX0JpbGxib2FyZEd1aV8xLk5hbWUgPSAiU2VhZXNwcyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxfQmlsbGJvYXJkR3VpXzEuQWx3YXlzT25Ub3AgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX0JpbGxib2FyZEd1aV8xLkxpZ2h0SW5mbHVlbmNlID0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbF9CaWxsYm9hcmRHdWlfMS5TaXplID0gVURpbTIubmV3KDAsIDIwMCwgMCwgNTApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX0JpbGxib2FyZEd1aV8xLlN0dWRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMi41LCAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbF9UZXh0TGFiZWxfMS5QYXJlbnQgPSBsX0JpbGxib2FyZEd1aV8xCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX1RleHRMYWJlbF8xLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbF9UZXh0TGFiZWxfMS5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbF9UZXh0TGFiZWxfMS5TaXplID0gVURpbTIubmV3KDAsIDIwMCwgMCwgNTApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX1RleHRMYWJlbF8xLkZvbnQgPSBFbnVtLkZvbnQuR290aGFtQm9sZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbF9UZXh0TGFiZWxfMS5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoNywgMjM2LCAyNDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX1RleHRMYWJlbF8xLlRleHQuU2l6ZSA9IDM1CiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfa281bGdnID0gbWF0aC5mbG9vcigoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gdjI5MS5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKS5NYWduaXR1ZGUpCiAgICAgICAgICAgICAgICAgICAgICAgIHYyOTEuU2VhZXNwcy5UZXh0TGFiZWwuVGV4dCA9IHYyOTEuTmFtZSAuLiAiIC0gIiAuLiB2Mjk0IC4uICIgRGlzdGFuY2UiCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKQogICAgZW5kCmVuZCkKc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICBpZiBub3QgTnBjRVNQIHRoZW4KICAgICAgICAgICAgICAgIGZvciBfLCB2Mjk2IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuTlBDczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgIGlmIHYyOTY6RmluZEZpcnN0Q2hpbGQoIk5wY0VzcGVzIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICB2Mjk2Lk5wY0VzcGVzOkRlc3Ryb3koKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGZvciBfLCB2Mjk4IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuTlBDczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgIGlmIHYyOTg6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCB2Mjk4OkZpbmRGaXJzdENoaWxkKCJOcGNFc3BlcyIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9oeHptODQgPSBJbnN0YW5jZS5uZXcoIkJpbGxib2FyZEd1aSIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfZTNyYmxyID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbF9CaWxsYm9hcmRHdWlfMi5QYXJlbnQgPSB2Mjk4CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX0JpbGxib2FyZEd1aV8yLlpJbmRleEJlaGF2aW9yID0gRW51bS5aSW5kZXhCZWhhdmlvci5TaWJsaW5nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX0JpbGxib2FyZEd1aV8yLkFjdGl2ZSA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxfQmlsbGJvYXJkR3VpXzIuTmFtZSA9ICJOcGNFc3BlcyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxfQmlsbGJvYXJkR3VpXzIuQWx3YXlzT25Ub3AgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX0JpbGxib2FyZEd1aV8yLkxpZ2h0SW5mbHVlbmNlID0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbF9CaWxsYm9hcmRHdWlfMi5TaXplID0gVURpbTIubmV3KDAsIDIwMCwgMCwgNTApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX0JpbGxib2FyZEd1aV8yLlN0dWRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMi41LCAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbF9UZXh0TGFiZWxfMi5QYXJlbnQgPSBsX0JpbGxib2FyZEd1aV8yCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX1RleHRMYWJlbF8yLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbF9UZXh0TGFiZWxfMi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbF9UZXh0TGFiZWxfMi5TaXplID0gVURpbTIubmV3KDAsIDIwMCwgMCwgNTApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX1RleHRMYWJlbF8yLkZvbnQgPSBFbnVtLkZvbnQuR290aGFtQm9sZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbF9UZXh0TGFiZWxfMi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoNywgMjM2LCAyNDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX1RleHRMYWJlbF8yLlRleHQuU2l6ZSA9IDM1CiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfYzBxaWR4ID0gbWF0aC5mbG9vcigoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gdjI5OC5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKS5NYWduaXR1ZGUpCiAgICAgICAgICAgICAgICAgICAgICAgIHYyOTguTnBjRXNwZXMuVGV4dExhYmVsLlRleHQgPSB2Mjk4Lk5hbWUgLi4gIiAtICIgLi4gdjMwMSAuLiAiIERpc3RhbmNlIgogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZCkKICAgIGVuZAplbmQpCmZ1bmN0aW9uIGlzbmlsKHYzMDIpCiAgICBsb2NhbCB2YXJfdnI0OGRtID0gbmlsCiAgICBpZiB2MzAyIH49IHYzMDMgdGhlbgogICAgICAgIGxvY2FsIHZhcl9taXBwMncgPSBmYWxzZQogICAgZW5kCiAgICByZXR1cm4gdHJ1ZQplbmQKbG9jYWwgdmFyXzc2ZnBjYSB2MzA2KHYzMDUpCiAgICByZXR1cm4gbWF0aC5mbG9vcih0b251bWJlcih2MzA1KSArIDAuNSkKZW5kCk51bWJlciA9IG1hdGgucmFuZG9tKDEsIDEwMDAwMDApCmZ1bmN0aW9uIFVwZGF0ZUlzbGFuZE1pcmFnZUVTUCgpCiAgICBmb3IgXywgdjMwOCBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLl9Xb3JsZE9yaWdpbi5Mb2NhdGlvbnM6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICBkbwogICAgICAgICAgICBsb2NhbCB2YXJfdTU0dDNpID0gdjMwOAogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBub3QgTWlyYWdlSXNsYW5kRVNQIHRoZW4KICAgICAgICAgICAgICAgICAgICBpZiBsX3YzMDhfMDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgbF92MzA4XzA6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiKTpEZXN0cm95KCkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVsc2VpZiBsX3YzMDhfMC5OYW1lID09ICJNaXJhZ2UgSXNsYW5kIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgbF92MzA4XzA6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGxfdjMwOF8wLk5hbWVFc3AuVGV4dExhYmVsLlRleHQgPSBsX3YzMDhfMC5OYW1lIC4uICIgICBcbiIgLi4gdjMwNigoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSBsX3YzMDhfMC5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBNIgogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyXzVmMWRscyA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIiwgbF92MzA4XzApCiAgICAgICAgICAgICAgICAgICAgICAgIHYzMTAuTmFtZSA9ICJOYW1lRXNwIgogICAgICAgICAgICAgICAgICAgICAgICB2MzEwLkV4dGVudHNPZmZzZXQgPSBWZWN0b3IzLm5ldygwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgICAgICB2MzEwLlNpemUgPSBVRGltMi5uZXcoMSwgMjAwLCAxLCAzMCkKICAgICAgICAgICAgICAgICAgICAgICAgdjMxMC5BZG9ybmVlID0gbF92MzA4XzAKICAgICAgICAgICAgICAgICAgICAgICAgdjMxMC5BbHdheXNPblRvcCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX2kxbmp3dyA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgdjMxMCkKICAgICAgICAgICAgICAgICAgICAgICAgdjMxMS5Gb250ID0gIkNvZGUiCiAgICAgICAgICAgICAgICAgICAgICAgIHYzMTEuRm9udFNpemUgPSAiU2l6ZTE0IgogICAgICAgICAgICAgICAgICAgICAgICB2MzExLlRleHRXcmFwcGVkID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICB2MzExLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgdjMxMS5UZXh0WUFsaWdubWVudCA9ICJUb3AiCiAgICAgICAgICAgICAgICAgICAgICAgIHYzMTEuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgdjMxMS5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC41CiAgICAgICAgICAgICAgICAgICAgICAgIHYzMTEuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDgwLCAyNDUsIDI0NSkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kCmZ1bmN0aW9uIFVwZGF0ZVByZWhpc3RvcmljSXNsYW5kRVNQKCkKICAgIGZvciBfLCB2MzEzIGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuX1dvcmxkT3JpZ2luLkxvY2F0aW9uczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgIGRvCiAgICAgICAgICAgIGxvY2FsIHZhcl9uZXE0YzAgPSB2MzEzCiAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGlmIG5vdCBQcmVoaXN0b3JpY0lzbGFuZEVTUCB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgbF92MzEzXzA6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGxfdjMxM18wOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIik6RGVzdHJveSgpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbHNlaWYgbF92MzEzXzAuTmFtZSA9PSAiUHJlaGlzdG9yaWNJc2xhbmQiIHRoZW4KICAgICAgICAgICAgICAgICAgICBpZiBub3QgbF92MzEzXzA6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl92b3dnOHAgPSBJbnN0YW5jZS5uZXcoIkJpbGxib2FyZEd1aSIsIGxfdjMxM18wKQogICAgICAgICAgICAgICAgICAgICAgICB2MzE1Lk5hbWUgPSAiTmFtZUVzcCIKICAgICAgICAgICAgICAgICAgICAgICAgdjMxNS5FeHRlbnRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgdjMxNS5TaXplID0gVURpbTIubmV3KDEsIDIwMCwgMSwgMzApCiAgICAgICAgICAgICAgICAgICAgICAgIHYzMTUuQWRvcm5lZSA9IGxfdjMxM18wCiAgICAgICAgICAgICAgICAgICAgICAgIHYzMTUuQWx3YXlzT25Ub3AgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9nYnlsa2QgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIHYzMTUpCiAgICAgICAgICAgICAgICAgICAgICAgIHYzMTYuRm9udCA9ICJDb2RlIgogICAgICAgICAgICAgICAgICAgICAgICB2MzE2LkZvbnRTaXplID0gIlNpemUxNCIKICAgICAgICAgICAgICAgICAgICAgICAgdjMxNi5UZXh0V3JhcHBlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgdjMxNi5TaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgIHYzMTYuVGV4dFlBbGlnbm1lbnQgPSAiVG9wIgogICAgICAgICAgICAgICAgICAgICAgICB2MzE2LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgIHYzMTYuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgICAgICAgICB2MzE2LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig4MCwgMjQ1LCAyNDUpCiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICBsX3YzMTNfMC5OYW1lRXNwLlRleHRMYWJlbC5UZXh0ID0gbF92MzEzXzAuTmFtZSAuLiAiICAgXG4iIC4uIHYzMDYoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gbF92MzEzXzAuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgTSIKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kCmZ1bmN0aW9uIFVwZGF0ZUFmZEVTUCgpCiAgICBmb3IgXywgdjMxOCBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLk5QQ3M6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICBkbwogICAgICAgICAgICBsb2NhbCB2YXJfc2J3aW1tID0gdjMxOAogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBub3QgQWZkRVNQIHRoZW4KICAgICAgICAgICAgICAgICAgICBpZiBsX3YzMThfMDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgbF92MzE4XzA6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiKTpEZXN0cm95KCkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVsc2VpZiBsX3YzMThfMC5OYW1lID09ICJBZHZhbmNlZCBGcnVpdCBEZWFsZXIiIHRoZW4KICAgICAgICAgICAgICAgICAgICBpZiBsX3YzMThfMDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgbF92MzE4XzAuTmFtZUVzcC5UZXh0TGFiZWwuVGV4dCA9IGxfdjMxOF8wLk5hbWUgLi4gIiAgIFxuIiAuLiB2MzA2KChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIGxfdjMxOF8wLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIE0iCiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfZmR1emhrID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiLCBsX3YzMThfMCkKICAgICAgICAgICAgICAgICAgICAgICAgdjMyMC5OYW1lID0gIk5hbWVFc3AiCiAgICAgICAgICAgICAgICAgICAgICAgIHYzMjAuRXh0ZW50c09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgIHYzMjAuU2l6ZSA9IFVEaW0yLm5ldygxLCAyMDAsIDEsIDMwKQogICAgICAgICAgICAgICAgICAgICAgICB2MzIwLkFkb3JuZWUgPSBsX3YzMThfMAogICAgICAgICAgICAgICAgICAgICAgICB2MzIwLkFsd2F5c09uVG9wID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfMGRtZmFnID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCB2MzIwKQogICAgICAgICAgICAgICAgICAgICAgICB2MzIxLkZvbnQgPSAiQ29kZSIKICAgICAgICAgICAgICAgICAgICAgICAgdjMyMS5Gb250U2l6ZSA9ICJTaXplMTQiCiAgICAgICAgICAgICAgICAgICAgICAgIHYzMjEuVGV4dFdyYXBwZWQgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIHYzMjEuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgICAgICB2MzIxLlRleHRZQWxpZ25tZW50ID0gIlRvcCIKICAgICAgICAgICAgICAgICAgICAgICAgdjMyMS5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgICAgICAgICB2MzIxLlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjUKICAgICAgICAgICAgICAgICAgICAgICAgdjMyMS5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoODAsIDI0NSwgMjQ1KQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbmQKICAgIGVuZAplbmQKZnVuY3Rpb24gVXBkYXRlQXVyYUVTUCgpCiAgICBmb3IgXywgdjMyMyBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLk5QQ3M6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICBkbwogICAgICAgICAgICBsb2NhbCB2YXJfaXJyaXhpID0gdjMyMwogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBBdXJhRVNQIHRoZW4KICAgICAgICAgICAgICAgICAgICBpZiBsX3YzMjNfMC5OYW1lID09ICJNYXN0ZXIgb2YgRW5oYW5jZW1lbnQiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgaWYgbF92MzIzXzA6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX3YzMjNfMC5OYW1lRXNwLlRleHRMYWJlbC5UZXh0ID0gbF92MzIzXzAuTmFtZSAuLiAiICAgXG4iIC4uIHYzMDYoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gbF92MzIzXzAuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgTSIKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX3J5cGZjbiA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIiwgbF92MzIzXzApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MzI1Lk5hbWUgPSAiTmFtZUVzcCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYzMjUuRXh0ZW50c09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MzI1LlNpemUgPSBVRGltMi5uZXcoMSwgMjAwLCAxLCAzMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYzMjUuQWRvcm5lZSA9IGxfdjMyM18wCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MzI1LkFsd2F5c09uVG9wID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX3VqNTkzbSA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgdjMyNSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYzMjYuRm9udCA9ICJDb2RlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjMyNi5Gb250U2l6ZSA9ICJTaXplMTQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MzI2LlRleHRXcmFwcGVkID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjMyNi5TaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MzI2LlRleHRZQWxpZ25tZW50ID0gIlRvcCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYzMjYuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYzMjYuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjMyNi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoODAsIDI0NSwgMjQ1KQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVsc2VpZiBsX3YzMjNfMDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICBsX3YzMjNfMDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIpOkRlc3Ryb3koKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbmQKICAgIGVuZAplbmQKZnVuY3Rpb24gVXBkYXRlTFNERVNQKCkKICAgIGZvciBfLCB2MzI4IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuTlBDczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgIGRvCiAgICAgICAgICAgIGxvY2FsIHZhcl9qeXN4YXEgPSB2MzI4CiAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGlmIExBREVTUCB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgbF92MzI4XzAuTmFtZSA9PSAiTGVnZW5kYXJ5IFN3b3JkIERlYWxlciIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBpZiBsX3YzMjhfMDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxfdjMyOF8wLk5hbWVFc3AuVGV4dExhYmVsLlRleHQgPSBsX3YzMjhfMC5OYW1lIC4uICIgICBcbiIgLi4gdjMwNigoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24gLSBsX3YzMjhfMC5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMykgLi4gIiBNIgogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfY3Flam45ID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiLCBsX3YzMjhfMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYzMzAuTmFtZSA9ICJOYW1lRXNwIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjMzMC5FeHRlbnRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYzMzAuU2l6ZSA9IFVEaW0yLm5ldygxLCAyMDAsIDEsIDMwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjMzMC5BZG9ybmVlID0gbF92MzI4XzAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYzMzAuQWx3YXlzT25Ub3AgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfMGp0bjIxID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCB2MzMwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjMzMS5Gb250ID0gIkNvZGUiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MzMxLkZvbnRTaXplID0gIlNpemUxNCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYzMzEuVGV4dFdyYXBwZWQgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MzMxLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYzMzEuVGV4dFlBbGlnbm1lbnQgPSAiVG9wIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjMzMS5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjMzMS5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC41CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MzMxLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig4MCwgMjQ1LCAyNDUpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZWxzZWlmIGxfdjMyOF8wOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIikgdGhlbgogICAgICAgICAgICAgICAgICAgIGxfdjMyOF8wOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIik6RGVzdHJveSgpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCmVuZApzcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB3YWl0KCkgZG8KICAgICAgICBpZiBJbmZBYmlsaXR5IHRoZW4KICAgICAgICAgICAgSW5mQWIoKQogICAgICAgIGVuZAogICAgZW5kCmVuZCkKZnVuY3Rpb24gSW5mQWIoKQogICAgaWYgSW5mQWJpbGl0eSB0aGVuCiAgICAgICAgaWYgbm90IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkZpbmRGaXJzdENoaWxkKCJBZ2lsaXR5IikgdGhlbgogICAgICAgICAgICBsb2NhbCB2YXJfY2h5Z3AyID0gSW5zdGFuY2UubmV3KCJQYXJ0aWNsZUVtaXR0ZXIiKQogICAgICAgICAgICBsX1BhcnRpY2xlRW1pdHRlcl8wLkFjY2VsZXJhdGlvbiA9IFZlY3RvcjMubmV3KDAsIDAsIDApCiAgICAgICAgICAgIGxfUGFydGljbGVFbWl0dGVyXzAuQXJjaGl2YWJsZSA9IHRydWUKICAgICAgICAgICAgbF9QYXJ0aWNsZUVtaXR0ZXJfMC5EcmFnID0gMjAKICAgICAgICAgICAgbF9QYXJ0aWNsZUVtaXR0ZXJfMC5FbWlzc2lvbkRpcmVjdGlvbiA9IEVudW0uTm9ybWFsSWQuVG9wCiAgICAgICAgICAgIGxfUGFydGljbGVFbWl0dGVyXzAuRW5hYmxlZCA9IHRydWUKICAgICAgICAgICAgbF9QYXJ0aWNsZUVtaXR0ZXJfMC5MaWZldGltZSA9IE51bWJlclJhbmdlLm5ldygwLCAwKQogICAgICAgICAgICBsX1BhcnRpY2xlRW1pdHRlcl8wLkxpZ2h0SW5mbHVlbmNlID0gMAogICAgICAgICAgICBsX1BhcnRpY2xlRW1pdHRlcl8wLkxvY2tlZFRvUGFydCA9IHRydWUKICAgICAgICAgICAgbF9QYXJ0aWNsZUVtaXR0ZXJfMC5OYW1lID0gIkFnaWxpdHkiCiAgICAgICAgICAgIGxfUGFydGljbGVFbWl0dGVyXzAuUmF0ZSA9IDUwMAogICAgICAgICAgICBsb2NhbCB2YXJfZXI0N3RyID0ge051bWJlclNlcXVlbmNlS2V5cG9pbnQubmV3KDAsIDApLCBOdW1iZXJTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCA0KX0KICAgICAgICAgICAgbF9QYXJ0aWNsZUVtaXR0ZXJfMC5TaXplID0gTnVtYmVyU2VxdWVuY2UubmV3KHYzMzMpCiAgICAgICAgICAgIGxfUGFydGljbGVFbWl0dGVyXzAuUm90U3BlZWQgPSBOdW1iZXJSYW5nZS5uZXcoOTk5OSwgOTk5OTkpCiAgICAgICAgICAgIGxfUGFydGljbGVFbWl0dGVyXzAuUm90YXRpb24gPSBOdW1iZXJSYW5nZS5uZXcoMCwgMCkKICAgICAgICAgICAgbF9QYXJ0aWNsZUVtaXR0ZXJfMC5TcGVlZCA9IE51bWJlclJhbmdlLm5ldygzMCwgMzApCiAgICAgICAgICAgIGxfUGFydGljbGVFbWl0dGVyXzAuU3ByZWFkQW5nbGUgPSBWZWN0b3IyLm5ldygwLCAwLCAwLCAwKQogICAgICAgICAgICBsX1BhcnRpY2xlRW1pdHRlcl8wLlRleHR1cmUgPSAiIgogICAgICAgICAgICBsX1BhcnRpY2xlRW1pdHRlcl8wLlZlbG9jaXR5SW5oZXJpdGFuY2UgPSAwCiAgICAgICAgICAgIGxfUGFydGljbGVFbWl0dGVyXzAuWk9mZnNldCA9IDIKICAgICAgICAgICAgbF9QYXJ0aWNsZUVtaXR0ZXJfMC5UcmFuc3BhcmVuY3kgPSBOdW1iZXJTZXF1ZW5jZS5uZXcoMCkKICAgICAgICAgICAgbF9QYXJ0aWNsZUVtaXR0ZXJfMC5Db2xvciA9IENvbG9yU2VxdWVuY2UubmV3KENvbG9yMy5mcm9tUkdCKDAsIDAsIDApLCBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKSkKICAgICAgICAgICAgbF9QYXJ0aWNsZUVtaXR0ZXJfMC5QYXJlbnQgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydAogICAgICAgIGVuZAogICAgZWxzZWlmIGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkZpbmRGaXJzdENoaWxkKCJBZ2lsaXR5IikgdGhlbgogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkZpbmRGaXJzdENoaWxkKCJBZ2lsaXR5Iik6RGVzdHJveSgpCiAgICBlbmQKZW5kCmZ1bmN0aW9uIFVwZGF0ZUdlYUVTUCgpCiAgICBmb3IgXywgdjMzNSBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLk1hcC5NeXN0aWNJc2xhbmQ6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICBkbwogICAgICAgICAgICBsb2NhbCB2YXJfMDB5bjZuID0gdjMzNQogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBub3QgR2VhckVTUCB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgbF92MzM1XzA6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGxfdjMzNV8wOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIik6RGVzdHJveSgpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbHNlaWYgbF92MzM1XzAuTmFtZSA9PSAiTWVzaFBhcnQiIHRoZW4KICAgICAgICAgICAgICAgICAgICBpZiBub3QgbF92MzM1XzA6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9weHZkdTMgPSBJbnN0YW5jZS5uZXcoIkJpbGxib2FyZEd1aSIsIGxfdjMzNV8wKQogICAgICAgICAgICAgICAgICAgICAgICB2MzM3Lk5hbWUgPSAiTmFtZUVzcCIKICAgICAgICAgICAgICAgICAgICAgICAgdjMzNy5FeHRlbnRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgdjMzNy5TaXplID0gVURpbTIubmV3KDEsIDIwMCwgMSwgMzApCiAgICAgICAgICAgICAgICAgICAgICAgIHYzMzcuQWRvcm5lZSA9IGxfdjMzNV8wCiAgICAgICAgICAgICAgICAgICAgICAgIHYzMzcuQWx3YXlzT25Ub3AgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9zcWZldW8gPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIHYzMzcpCiAgICAgICAgICAgICAgICAgICAgICAgIHYzMzguRm9udCA9ICJDb2RlIgogICAgICAgICAgICAgICAgICAgICAgICB2MzM4LkZvbnRTaXplID0gIlNpemUxNCIKICAgICAgICAgICAgICAgICAgICAgICAgdjMzOC5UZXh0V3JhcHBlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgdjMzOC5TaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgIHYzMzguVGV4dFlBbGlnbm1lbnQgPSAiVG9wIgogICAgICAgICAgICAgICAgICAgICAgICB2MzM4LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgIHYzMzguVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgICAgICAgICB2MzM4LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig4MCwgMjQ1LCAyNDUpCiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICBsX3YzMzVfMC5OYW1lRXNwLlRleHRMYWJlbC5UZXh0ID0gbF92MzM1XzAuTmFtZSAuLiAiICAgXG4iIC4uIHYzMDYoKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IZWFkLlBvc2l0aW9uIC0gbF92MzM1XzAuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMpIC4uICIgTSIKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kCmZ1bmN0aW9uIFVwZGF0ZUJlcnJpZXNFU1AoKQogICAgbG9jYWwgdmFyX3hjZHJrbyA9IGdhbWU6R2V0U2VydmljZSgiQ29sbGVjdGlvblNlcnZpY2UiKTpHZXRUYWdnZWQoIkJlcnJ5QnVzaCIpCiAgICBmb3IgXywgdjM0MSBpbiBwYWlycyhsX1RhZ2dlZF8wKSBkbwogICAgICAgIGRvCiAgICAgICAgICAgIGxvY2FsIHZhcl9sd3ZlYzQgPSB2MzQxCiAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGZvciBfLCB2MzQ0IGluIHBhaXJzKGxfdjM0MV8wOkdldEF0dHJpYnV0ZXMoKSkgZG8KICAgICAgICAgICAgICAgICAgICBpZiBub3QgdjM0NCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxfdjM0MV8wLlBhcmVudDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxfdjM0MV8wLlBhcmVudDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIpOkRlc3Ryb3koKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCBsX3YzNDFfMC5QYXJlbnQ6RmluZEZpcnN0Q2hpbGQoIkJlcnJ5RVNQIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX2lzNHh4ZiA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIiwgbF92MzQxXzAuUGFyZW50KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjM0NS5OYW1lID0gIkJlcnJ5RVNQIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjM0NS5FeHRlbnRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMiwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYzNDUuU2l6ZSA9IFVEaW0yLm5ldygxLCAyMDAsIDEsIDMwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjM0NS5BZG9ybmVlID0gbF92MzQxXzAuUGFyZW50CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MzQ1LkFsd2F5c09uVG9wID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX21yZTdlZiA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgdjM0NSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYzNDYuRm9udCA9IEVudW0uRm9udC5Hb3RoYW1TZW1pYm9sZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjM0Ni5UZXh0U2l6ZSA9IDE0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MzQ2LlRleHRXcmFwcGVkID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjM0Ni5TaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MzQ2LlRleHRZQWxpZ25tZW50ID0gRW51bS5UZXh0WUFsaWdubWVudC5Ub3AKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYzNDYuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYzNDYuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjM0Ni5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAwLCAxMjgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MzQ2LlRleHQgPSB2MzQ0CiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBpZiBsX3YzNDFfMC5QYXJlbnQ6RmluZEZpcnN0Q2hpbGQoIkJlcnJ5RVNQIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyXzkxaG9zZiA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbF9Mb2NhbFBsYXllcl8wIGFuZCBsX0xvY2FsUGxheWVyXzAuQ2hhcmFjdGVyIGFuZCBsX0xvY2FsUGxheWVyXzAuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIZWFkIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9scjZra2YgPSBsX0xvY2FsUGxheWVyXzAuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfeWV5cXlrID0gKGxfdjM0MV8wLlBhcmVudDpHZXRQaXZvdCgpLlBvc2l0aW9uIC0gbF9Qb3NpdGlvbl8wKS5NYWduaXR1ZGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX3YzNDFfMC5QYXJlbnQuQmVycnlFU1AuVGV4dExhYmVsLlRleHQgPSB2MzQ0IC4uICJcbiIgLi4gbWF0aC5mbG9vcihsX01hZ25pdHVkZV8wKSAuLiAibSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kCmZ1bmN0aW9uIFVwZGF0ZUlzbGFuZEtpc3VuZUVTUCgpCiAgICBmb3IgXywgdjM1MSBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLl9Xb3JsZE9yaWdpbi5Mb2NhdGlvbnM6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICBkbwogICAgICAgICAgICBsb2NhbCB2YXJfenBwbnpiID0gdjM1MQogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBub3QgS2l0c3VuZUlzbGFuZEVzcCB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgbF92MzUxXzA6RmluZEZpcnN0Q2hpbGQoIk5hbWVFc3AiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGxfdjM1MV8wOkZpbmRGaXJzdENoaWxkKCJOYW1lRXNwIik6RGVzdHJveSgpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbHNlaWYgbF92MzUxXzAuTmFtZSA9PSAiS2l0c3VuZSBJc2xhbmQiIHRoZW4KICAgICAgICAgICAgICAgICAgICBpZiBsX3YzNTFfMDpGaW5kRmlyc3RDaGlsZCgiTmFtZUVzcCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgbF92MzUxXzAuTmFtZUVzcC5UZXh0TGFiZWwuVGV4dCA9IGxfdjM1MV8wLk5hbWUgLi4gIiAgIFxuIiAuLiB2MzA2KChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZC5Qb3NpdGlvbiAtIGxfdjM1MV8wLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzKSAuLiAiIE0iCiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfYXFmcnJ3ID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiLCBsX3YzNTFfMCkKICAgICAgICAgICAgICAgICAgICAgICAgdjM1My5OYW1lID0gIk5hbWVFc3AiCiAgICAgICAgICAgICAgICAgICAgICAgIHYzNTMuRXh0ZW50c09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDEsIDApCiAgICAgICAgICAgICAgICAgICAgICAgIHYzNTMuU2l6ZSA9IFVEaW0yLm5ldygxLCAyMDAsIDEsIDMwKQogICAgICAgICAgICAgICAgICAgICAgICB2MzUzLkFkb3JuZWUgPSBsX3YzNTFfMAogICAgICAgICAgICAgICAgICAgICAgICB2MzUzLkFsd2F5c09uVG9wID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfb21qamMzID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCB2MzUzKQogICAgICAgICAgICAgICAgICAgICAgICB2MzU0LkZvbnQgPSAiQ29kZSIKICAgICAgICAgICAgICAgICAgICAgICAgdjM1NC5Gb250U2l6ZSA9ICJTaXplMTQiCiAgICAgICAgICAgICAgICAgICAgICAgIHYzNTQuVGV4dFdyYXBwZWQgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIHYzNTQuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQogICAgICAgICAgICAgICAgICAgICAgICB2MzU0LlRleHRZQWxpZ25tZW50ID0gIlRvcCIKICAgICAgICAgICAgICAgICAgICAgICAgdjM1NC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgICAgICAgICB2MzU0LlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjUKICAgICAgICAgICAgICAgICAgICAgICAgdjM1NC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoODAsIDI0NSwgMjQ1KQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbmQKICAgIGVuZAplbmQKZnVuY3Rpb24gQXV0b0hha2koKQogICAgbG9jYWwgdmFyX2d1NTNicCA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3RlcgogICAgaWYgbF9DaGFyYWN0ZXJfMCBhbmQgbm90IGxfQ2hhcmFjdGVyXzA6RmluZEZpcnN0Q2hpbGQoIkhhc0J1c28iKSB0aGVuCiAgICAgICAgbG9jYWwgdmFyX3hpd2gyYiA9IGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXwogICAgICAgIGlmIGxfQ29tbUZfXzAgdGhlbgogICAgICAgICAgICBsX0NvbW1GX18wOkludm9rZVNlcnZlcigiQnVzbyIpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kCmZ1bmN0aW9uIFVuRXF1aXBXZWFwb24odjM1NykKICAgIGlmIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQodjM1NykgdGhlbgogICAgICAgIF9HLk5vdEF1dG9FcXVpcCA9IHRydWUKICAgICAgICB3YWl0KDAuNSkKICAgICAgICBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKHYzNTcpLlBhcmVudCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5CYWNrcGFjawogICAgICAgIHdhaXQoMC4xKQogICAgICAgIF9HLk5vdEF1dG9FcXVpcCA9IGZhbHNlCiAgICBlbmQKZW5kCmZ1bmN0aW9uIEVxdWlwV2VhcG9uKHYzNTgpCiAgICBpZiBub3QgX0cuTm90QXV0b0VxdWlwIGFuZCBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQmFja3BhY2s6RmluZEZpcnN0Q2hpbGQodjM1OCkgdGhlbgogICAgICAgIFRvb2wgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQmFja3BhY2s6RmluZEZpcnN0Q2hpbGQodjM1OCkKICAgICAgICB3YWl0KDAuMSkKICAgICAgICBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkOkVxdWlwVG9vbChUb29sKQogICAgZW5kCmVuZApzcGF3bihmdW5jdGlvbigpCiAgICBsb2NhbCB2YXJfZzBjN3hnID0gZ2V0cmF3bWV0YXRhYmxlKGdhbWUpCiAgICBsb2NhbCB2YXJfNmduZHoyID0gdjM1OS5fX25hbWVjYWxsCiAgICBzZXRyZWFkb25seSh2MzU5LCBmYWxzZSkKICAgIHYzNTkuX19uYW1lY2FsbCA9IG5ld2NjbG9zdXJlKGZ1bmN0aW9uKC4uLikKICAgICAgICBsb2NhbCB2YXJfMG5nbHNlID0gZ2V0bmFtZWNhbGxtZXRob2QoKQogICAgICAgIGxvY2FsIHZhcl93NzNnaW8gPSB7Li4ufQogICAgICAgIGlmIHRvc3RyaW5nKHYzNjEpID09ICJGaXJlU2VydmVyIiBhbmQgdG9zdHJpbmcodjM2MlsxXSkgPT0gIlJlbW90ZUV2ZW50IiBhbmQgdG9zdHJpbmcodjM2MlsyXSkgfj0gInRydWUiIGFuZCB0b3N0cmluZyh2MzYyWzJdKSB+PSAiZmFsc2UiIGFuZCBfRy5Vc2VTa2lsbCB0aGVuCiAgICAgICAgICAgIGlmIHR5cGUodjM2MlsyXSkgfj0gInZlY3RvciIgdGhlbgogICAgICAgICAgICAgICAgdjM2MlsyXSA9IENGcmFtZS5uZXcoUG9zaXRpb25Ta2lsbE1hc3RlcnlEZXZpbEZydWl0KQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB2MzYyWzJdID0gUG9zaXRpb25Ta2lsbE1hc3RlcnlEZXZpbEZydWl0CiAgICAgICAgICAgIGVuZAogICAgICAgICAgICByZXR1cm4gbF9fX25hbWVjYWxsXzAodW5wYWNrKHYzNjIpKQogICAgICAgIGVsc2UKICAgICAgICAgICAgcmV0dXJuIGxfX19uYW1lY2FsbF8wKC4uLikKICAgICAgICBlbmQKICAgIGVuZCkKZW5kKQpzcGF3bihmdW5jdGlvbigpCiAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgd2hpbGUgdGFzay53YWl0KCkgZG8KICAgICAgICAgICAgZm9yIF8sIHYzNjQgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQmFja3BhY2s6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgIGlmIHYzNjQ6SXNBKCJUb29sIikgYW5kIHYzNjQ6RmluZEZpcnN0Q2hpbGQoIlJlbW90ZUZ1bmN0aW9uU2hvb3QiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgQ3VycmVudEVxdWlwR3VuID0gdjM2NC5OYW1lCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQpCmVuZCkKZnVuY3Rpb24gU3RvcFR3ZWVuKHYzNjUpCiAgICBsb2NhbCB2YXJfaDRmNGE1ID0gZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyCiAgICBpZiBub3QgdjM2NSB0aGVuCiAgICAgICAgX0cuU3RvcFR3ZWVuID0gdHJ1ZQogICAgICAgIHdhaXQoMC4yKQogICAgICAgIHRvcG9zKGxfQ2hhcmFjdGVyXzEuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCiAgICAgICAgd2FpdCgwLjIpCiAgICAgICAgaWYgbF9DaGFyYWN0ZXJfMS5IdW1hbm9pZFJvb3RQYXJ0OkZpbmRGaXJzdENoaWxkKCJCb2R5Q2xpcCIpIHRoZW4KICAgICAgICAgICAgbF9DaGFyYWN0ZXJfMS5IdW1hbm9pZFJvb3RQYXJ0LkJvZHlDbGlwOkRlc3Ryb3koKQogICAgICAgIGVuZAogICAgICAgIGlmIGxfQ2hhcmFjdGVyXzE6RmluZEZpcnN0Q2hpbGQoIkJsb2NrIikgdGhlbgogICAgICAgICAgICBsX0NoYXJhY3Rlcl8xLkJsb2NrOkRlc3Ryb3koKQogICAgICAgIGVuZAogICAgICAgIF9HLlN0b3BUd2VlbiA9IGZhbHNlCiAgICAgICAgX0cuQ2xpcCA9IGZhbHNlCiAgICBlbmQKICAgIGlmIGxfQ2hhcmFjdGVyXzE6RmluZEZpcnN0Q2hpbGQoIkhpZ2hsaWdodCIpIHRoZW4KICAgICAgICBsX0NoYXJhY3Rlcl8xLkhpZ2hsaWdodDpEZXN0cm95KCkKICAgIGVuZAplbmQKZnVuY3Rpb24gTG9ja1R3ZWVuKCkKICAgIGlmIF9HLkxvY2tUd2VlbiB0aGVuCiAgICAgICAgcmV0dXJuIAogICAgZWxzZQogICAgICAgIF9HLkxvY2tUd2VlbiA9IHRydWUKICAgICAgICB3YWl0KCkKICAgICAgICBsb2NhbCB2YXJfYnhhMnZyID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcgogICAgICAgIGlmIGxfQ2hhcmFjdGVyXzIgYW5kIGxfQ2hhcmFjdGVyXzI6SXNEZXNjZW5kYW50T2YoZ2FtZS5Xb3Jrc3BhY2UpIHRoZW4KICAgICAgICAgICAgbG9jYWwgdmFyX2EwdW05aiA9IGxfQ2hhcmFjdGVyXzI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKICAgICAgICAgICAgaWYgbF9IdW1hbm9pZFJvb3RQYXJ0XzAgdGhlbgogICAgICAgICAgICAgICAgbF9IdW1hbm9pZFJvb3RQYXJ0XzAuQ0ZyYW1lID0gbF9IdW1hbm9pZFJvb3RQYXJ0XzAuQ0ZyYW1lCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgICAgIHdhaXQoKQogICAgICAgIGlmIGxfQ2hhcmFjdGVyXzI6RmluZEZpcnN0Q2hpbGQoIkJvZHlDbGlwIikgdGhlbgogICAgICAgICAgICBsX0NoYXJhY3Rlcl8yLkJvZHlDbGlwOkRlc3Ryb3koKQogICAgICAgIGVuZAogICAgICAgIGlmIGxfQ2hhcmFjdGVyXzI6RmluZEZpcnN0Q2hpbGQoIlBhcnRUZWxlIikgdGhlbgogICAgICAgICAgICBsX0NoYXJhY3Rlcl8yLkJsb2NrOkRlc3Ryb3koKQogICAgICAgIGVuZAogICAgICAgIF9HLkxvY2tUd2VlbiA9IGZhbHNlCiAgICAgICAgcmV0dXJuIAogICAgZW5kCmVuZApmdW5jdGlvbiBCcmluZ01vYih2MzY5KQogICAgZm9yIF8sIHYzNzEgaW4gcGFpcnMoV1MuRW5lbWllczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgIGlmIHYzNzEuTmFtZSA9PSB2MzY5IGFuZCB2MzcxLlBhcmVudCBhbmQgdjM3MTpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIGFuZCB2MzcxOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpIGFuZCB2MzcxLkh1bWFub2lkLkhlYWx0aCA+IDAgYW5kICh2MzcxLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBwbHIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLk1hZ25pdHVkZSA8PSAzNTAgdGhlbgogICAgICAgICAgICB2MzcxLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lID0gQnJpbmdQb3MKICAgICAgICAgICAgdjM3MS5IdW1hbm9pZC5KdW1wUG93ZXIgPSAwCiAgICAgICAgICAgIHYzNzEuSHVtYW5vaWQuV2Fsa1NwZWVkID0gMAogICAgICAgICAgICB2MzcxLkh1bWFub2lkUm9vdFBhcnQuVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICB2MzcxLkh1bWFub2lkUm9vdFBhcnQuQ2FuQ29sbGlkZSA9IGZhbHNlCiAgICAgICAgICAgIHYzNzEuSGVhZC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgaWYgdjM3MS5IdW1hbm9pZDpGaW5kRmlyc3RDaGlsZCgiQW5pbWF0b3IiKSB0aGVuCiAgICAgICAgICAgICAgICB2MzcxLkh1bWFub2lkLkFuaW1hdG9yOkRlc3Ryb3koKQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgaWYgbm90IHYzNzEuSHVtYW5vaWRSb290UGFydDpGaW5kRmlyc3RDaGlsZCgiTG9jayIpIHRoZW4KICAgICAgICAgICAgICAgIGxvY2FsIHZhcl80eXIyOXkgPSBJbnN0YW5jZS5uZXcoIkJvZHlWZWxvY2l0eSIpCiAgICAgICAgICAgICAgICBsX0JvZHlWZWxvY2l0eV8wLlBhcmVudCA9IHYzNzEuSHVtYW5vaWRSb290UGFydAogICAgICAgICAgICAgICAgbF9Cb2R5VmVsb2NpdHlfMC5OYW1lID0gIkxvY2siCiAgICAgICAgICAgICAgICBsX0JvZHlWZWxvY2l0eV8wLk1heEZvcmNlID0gVmVjdG9yMy5uZXcoMTAwMDAwLCAxMDAwMDAsIDEwMDAwMCkKICAgICAgICAgICAgICAgIGxfQm9keVZlbG9jaXR5XzAuVmVsb2NpdHkgPSBWZWN0b3IzLm5ldygwLCAwLCAwKQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgc2V0aGlkZGVucHJvcGVydHkocGxyLCAiU2ltdWxhdGlvblJhZGl1cyIsIG1hdGguaHVnZSkKICAgICAgICAgICAgdjM3MS5IdW1hbm9pZDpDaGFuZ2VTdGF0ZSgxMSkKICAgICAgICBlbmQKICAgIGVuZAplbmQKZnVuY3Rpb24gQ2FuY2VsVHdlZW4yMygpCiAgICBpZiBwbHIuQ2hhcmFjdGVyLkhlYWQ6RmluZEZpcnN0Q2hpbGQoIkJvZHlWZWxvY2l0eSIpIHRoZW4KICAgICAgICBwbHIuQ2hhcmFjdGVyLkhlYWQ6RmluZEZpcnN0Q2hpbGQoIkJvZHlWZWxvY2l0eSIpOkRlc3Ryb3koKQogICAgZW5kCiAgICBpZiBwbHIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJQYXJ0VGVsZSIpIHRoZW4KICAgICAgICBwbHIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJQYXJ0VGVsZSIpOkRlc3Ryb3koKQogICAgZW5kCiAgICBOb0NsaXAgPSBmYWxzZQogICAgcmV0dXJuIFR3ZWVuMjMocGxyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKZW5kCmZ1bmN0aW9uIEtpbGxNb2IodjM3MywgdjM3NCkKICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICB0aGlzbW9iID0gRGV0ZWN0TW9iMih2MzczKQogICAgICAgIGlmIHRoaXNtb2I6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBhbmQgdGhpc21vYi5QYXJlbnQgYW5kIHRoaXNtb2I6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikgYW5kIHRoaXNtb2IuSHVtYW5vaWQuSGVhbHRoID4gMCB0aGVuCiAgICAgICAgICAgIHJlcGVhdAogICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgIEJ1c28oKQogICAgICAgICAgICAgICAgRXF1aXBXZWFwb24oKQogICAgICAgICAgICAgICAgVHdlZW4yMyh0aGlzbW9iLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldygwLCAxNSwgMCkpCiAgICAgICAgICAgICAgICBCcmluZ1BvcyA9IHRoaXNtb2IuSHVtYW5vaWRSb290UGFydC5DRnJhbWUKICAgICAgICAgICAgICAgIEJyaW5nTW9iKHYzNzMpCiAgICAgICAgICAgICAgICBOb0NsaXAgPSB0cnVlCiAgICAgICAgICAgIHVudGlsIG5vdCB0aGlzbW9iLlBhcmVudCBvciBub3QgdGhpc21vYjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKSBvciB0aGlzbW9iOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpLkhlYWx0aCA8PSAwIG9yIG5vdCB0aGlzbW9iOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0Iikgb3IgdjM3NCgpCiAgICAgICAgICAgIE5vQ2xpcCA9IGZhbHNlCiAgICAgICAgICAgIENhbmNlbFR3ZWVuMjMoKQogICAgICAgIGVuZAogICAgZW5kKQplbmQKc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICBpZiBOb0NsaXAgfj0gdHJ1ZSB0aGVuCiAgICAgICAgICAgICAgICBpZiBwbHIuQ2hhcmFjdGVyLkhlYWQ6RmluZEZpcnN0Q2hpbGQoIk5pZ2dhIikgdGhlbgogICAgICAgICAgICAgICAgICAgIHBsci5DaGFyYWN0ZXIuSGVhZDpGaW5kRmlyc3RDaGlsZCgiTmlnZ2EiKTpEZXN0cm95KCkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBpZiBub3QgcGxyLkNoYXJhY3Rlci5IZWFkOkZpbmRGaXJzdENoaWxkKCJOaWdnYSIpIHRoZW4KICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfejluYmJ1ID0gSW5zdGFuY2UubmV3KCJCb2R5VmVsb2NpdHkiLCBwbHIuQ2hhcmFjdGVyLkhlYWQpCiAgICAgICAgICAgICAgICAgICAgdjM3NS5QID0gMTUwMAogICAgICAgICAgICAgICAgICAgIHYzNzUuTmFtZSA9ICJOaWdnYSIKICAgICAgICAgICAgICAgICAgICB2Mzc1Lk1heEZvcmNlID0gVmVjdG9yMy5uZXcoMCwgMTAwMDAwLCAwKQogICAgICAgICAgICAgICAgICAgIHYzNzUuVmVsb2NpdHkgPSBWZWN0b3IzLm5ldygwLCAwLCAwKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBmb3IgXywgdjM3NyBpbiBwYWlycyhwbHIuQ2hhcmFjdGVyOkdldERlc2NlbmRhbnRzKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgaWYgdjM3NzpJc0EoIkJhc2VQYXJ0IikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICB2Mzc3LkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZCkKICAgIGVuZAplbmQpCnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHRhc2sud2FpdCgpIGRvCiAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICBsb2NhbCB2YXJfbDZvZ3JjID0gZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyCiAgICAgICAgICAgIGxvY2FsIHZhcl9kbm56aHkgPSBsX0NoYXJhY3Rlcl8zOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKICAgICAgICAgICAgaWYgKGxfQ2hhcmFjdGVyXzMuSHVtYW5vaWQuSGVhbHRoIDw9IDAgb3Igbm90IGxfSHVtYW5vaWRSb290UGFydF8xKSBhbmQgbF9DaGFyYWN0ZXJfMzpGaW5kRmlyc3RDaGlsZCgiQmxvY2siKSB0aGVuCiAgICAgICAgICAgICAgICBsX0NoYXJhY3Rlcl8zLkJsb2NrOkRlc3Ryb3koKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCiAgICBlbmQKZW5kKQpzcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB0YXNrLndhaXQoKSBkbwogICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgbG9jYWwgdmFyX3lvZGJhciA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3RlcgogICAgICAgICAgICBsb2NhbCB2YXJfMGttMGtsID0gbF9DaGFyYWN0ZXJfNDpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCiAgICAgICAgICAgIGlmIGxfQ2hhcmFjdGVyXzQ6RmluZEZpcnN0Q2hpbGQoIkJsb2NrIikgYW5kIChsX0h1bWFub2lkUm9vdFBhcnRfMi5Qb3NpdGlvbiAtIGxfQ2hhcmFjdGVyXzQuQmxvY2suUG9zaXRpb24pLk1hZ25pdHVkZSA+PSAxMDAgdGhlbgogICAgICAgICAgICAgICAgbF9DaGFyYWN0ZXJfNC5CbG9jazpEZXN0cm95KCkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKQogICAgZW5kCmVuZCkKZnVuY3Rpb24gZW5hYmxlTm9jbGlwKCkKICAgIGlmIG5vdCBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydDpGaW5kRmlyc3RDaGlsZCgiQm9keUNsaXAiKSB0aGVuCiAgICAgICAgbG9jYWwgdmFyXzZ0aHR5MiA9IEluc3RhbmNlLm5ldygiQm9keVZlbG9jaXR5IikKICAgICAgICBsX0JvZHlWZWxvY2l0eV8xLk5hbWUgPSAiQm9keUNsaXAiCiAgICAgICAgbF9Cb2R5VmVsb2NpdHlfMS5QYXJlbnQgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydAogICAgICAgIGxfQm9keVZlbG9jaXR5XzEuTWF4Rm9yY2UgPSBWZWN0b3IzLm5ldygxMDAwMDAsIDEwMDAwMCwgMTAwMDAwKQogICAgICAgIGxfQm9keVZlbG9jaXR5XzEuVmVsb2NpdHkgPSBWZWN0b3IzLm5ldygwLCAwLCAwKQogICAgZW5kCmVuZApmdW5jdGlvbiBkaXNhYmxlTm9jbGlwKCkKICAgIGxvY2FsIHZhcl8yMDYxenAgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydDpGaW5kRmlyc3RDaGlsZCgiQm9keUNsaXAiKQogICAgaWYgbF9Cb2R5Q2xpcF8wIHRoZW4KICAgICAgICBsX0JvZHlDbGlwXzA6RGVzdHJveSgpCiAgICBlbmQKZW5kCmZ1bmN0aW9uIGRpc2FibGVDb2xsaXNpb25zKCkKICAgIGZvciBfLCB2Mzg1IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3RlcjpHZXREZXNjZW5kYW50cygpKSBkbwogICAgICAgIGlmIHYzODU6SXNBKCJCYXNlUGFydCIpIHRoZW4KICAgICAgICAgICAgdjM4NS5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICBlbmQKICAgIGVuZAplbmQKbG9jYWwgdmFyX3QxcHhxaCwgXyA9IHBjYWxsKGZ1bmN0aW9uKCkKICAgIHJldHVybiBnZXRnZW52KCkuTW9kdWxlCmVuZCkKc3Bhd24oZnVuY3Rpb24oKQogICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgIHdoaWxlIHRhc2sud2FpdCgwLjIpIGRvCiAgICAgICAgICAgIGlmIGdldGdlbnYoKS5Nb2R1bGUgb3IgX0cuRGVmZW5kVm9sY2FubyBvciBnZXRnZW52KCkuQXV0b0Zhcm0gdGhlbgogICAgICAgICAgICAgICAgZW5hYmxlTm9jbGlwKCkKICAgICAgICAgICAgICAgIGRpc2FibGVDb2xsaXNpb25zKCkKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgZGlzYWJsZU5vY2xpcCgpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kKQplbmQpCmZ1bmN0aW9uIEVxdWlwQWxsV2VhcG9uKCkKICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICBmb3IgXywgdjM4OSBpbiBwYWlycyhnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQmFja3BhY2s6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgaWYgdjM4OTpJc0EoIlRvb2wiKSBhbmQgdjM4OS5OYW1lIH49ICJTdW1tb24gU2VhIEJlYXN0IiBhbmQgdjM4OS5OYW1lIH49ICJXYXRlciBCb2R5IiBhbmQgdjM4OS5OYW1lIH49ICJBd2FrZW5pbmciIHRoZW4KICAgICAgICAgICAgICAgIGxvY2FsIHZhcl94dTJ6aGggPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQmFja3BhY2s6RmluZEZpcnN0Q2hpbGQodjM4OS5OYW1lKQogICAgICAgICAgICAgICAgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZDpFcXVpcFRvb2wobF9GaXJzdENoaWxkXzApCiAgICAgICAgICAgICAgICB3YWl0KDEpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kKQplbmQKbG9jYWwgdmFyX2NueWYxciA9IGZhbHNlCmZ1bmN0aW9uIFdhaXRIUlAodjM5MikKICAgIGlmIHYzOTIgdGhlbgogICAgICAgIHJldHVybiB2MzkyLkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiLCA5KQogICAgZWxzZQogICAgICAgIHJldHVybiAKICAgIGVuZAplbmQKZnVuY3Rpb24gQ2hlY2tOZWFyZXN0VGVsZXBvcnRlcih2MzkzKQogICAgbG9jYWwgdmFyX25yNWZ1NCA9IHYzOTMuUG9zaXRpb24KICAgIGxvY2FsIHZhcl8wempwbmEgPSBtYXRoLmh1Z2UKICAgIGxvY2FsIHZhcl9jN3IwdDkgPSBuaWwKICAgIGxvY2FsIHZhcl96MmN1b3YgPSBnYW1lLlBsYWNlSWQKICAgIGxvY2FsIHZhcl92NHQxNzEgPSB7fQogICAgaWYgbF9QbGFjZUlkXzEgfj0gODUyMTE3MjkxNjg3MTUgdGhlbgogICAgICAgIGlmIGxfUGxhY2VJZF8xIH49IDc5MDkxNzAzMjY1NjU3IHRoZW4KICAgICAgICAgICAgaWYgbF9QbGFjZUlkXzEgPT0gMTAwMTE3MzMxMTIzMDg5IHRoZW4KICAgICAgICAgICAgICAgIHYzOTggPSB7CiAgICAgICAgICAgICAgICAgICAgWyJGbG9hdGluZyBUdXJ0bGUiXSA9IFZlY3RvcjMubmV3KC0xMjQ2MiwgMzc1LCAtNzU1MiksCiAgICAgICAgICAgICAgICAgICAgWyJIeWRyYSBJc2xhbmQiXSA9IFZlY3RvcjMubmV3KDU2NTcuODg2MjMwNDY4NzUsIDEwMTMuMDc5MDQwNTI3MzQzOCwgLTMzNS40OTk2MzM3ODkwNjI1KSwKICAgICAgICAgICAgICAgICAgICBNYW5zaW9uID0gVmVjdG9yMy5uZXcoLTEyNDYyLCAzNzUsIC03NTUyKSwKICAgICAgICAgICAgICAgICAgICBDYXN0bGUgPSBWZWN0b3IzLm5ldygtNTAzNiwgMzE1LCAtMzE3OSksCiAgICAgICAgICAgICAgICAgICAgWyJEaW1lbnNpb25hbCBTaGlmdCJdID0gVmVjdG9yMy5uZXcoLTIwOTcuMzQ0NzI2NTYyNSwgNDc3Ni4yNDQ2Mjg5MDYyNSwgLTE1MDEzLjQ5OTAyMzQzNzUpLAogICAgICAgICAgICAgICAgICAgIFsiQmVhdXRpZnVsIFBpcmF0ZSJdID0gVmVjdG9yMy5uZXcoNTMxOSwgMjMsIC05MyksCiAgICAgICAgICAgICAgICAgICAgWyJCZWF1dGlmdWwgUm9vbSJdID0gVmVjdG9yMy5uZXcoNTMxNC41ODIwMywgMjIuNTM2NDM2MSwgLTEyNS45NDIyNzYsIDEsIDIuMTQ3NjI3NjhFLTgsIC0xLjk5MTExMTU0RS0xMywgLTIuMTQ3NjI3NjhFLTgsIDEsIC0zLjA1MTA2MDJFLTgsIDEuOTg0NTU5MDNFLTEzLCAzLjA1MTA2MDJFLTgsIDEpLAogICAgICAgICAgICAgICAgICAgIFsiVGVtcGxlIG9mIFRpbWUiXSA9IFZlY3RvcjMubmV3KDI4Mjg2LCAxNDg5NywgMTAzKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBlbmQKICAgICAgICBlbHNlCiAgICAgICAgICAgIHYzOTggPSB7CiAgICAgICAgICAgICAgICBbIlN3YW4gTWFuc2lvbiJdID0gVmVjdG9yMy5uZXcoLTM5MCwgMzMyLCA2NzMpLAogICAgICAgICAgICAgICAgWyJTd2FuIFJvb20iXSA9IFZlY3RvcjMubmV3KDIyODUsIDE1LCA5MDUpLAogICAgICAgICAgICAgICAgWyJDdXJzZWQgU2hpcCJdID0gVmVjdG9yMy5uZXcoOTIzLCAxMjYsIDMyODUyKSwKICAgICAgICAgICAgICAgIFsiWm9tYmllIElzbGFuZCJdID0gVmVjdG9yMy5uZXcoLTY1MDksIDgzLCAtMTMzKQogICAgICAgICAgICB9CiAgICAgICAgZW5kCiAgICBlbHNlCiAgICAgICAgdjM5OCA9IHsKICAgICAgICAgICAgU2t5MyA9IFZlY3RvcjMubmV3KC03ODk0LCA1NTQ3LCAtMzgwKSwKICAgICAgICAgICAgU2t5M0V4aXQgPSBWZWN0b3IzLm5ldygtNDYwNywgODc0LCAtMTY2NyksCiAgICAgICAgICAgIFVuZGVyV2F0ZXIgPSBWZWN0b3IzLm5ldyg2MTE2MywgMTEsIDE4MTkpLAogICAgICAgICAgICBbIlVuZGVyd2F0ZXIgQ2l0eSJdID0gVmVjdG9yMy5uZXcoNjExNjUuMTkxNDA2MjUsIDAuMTg3MDQ2MzE5MjQ2MjkyMTEsIDE4OTcuMzc5MTUwMzkwNjI1KSwKICAgICAgICAgICAgWyJQaXJhdGUgVmlsbGFnZSJdID0gVmVjdG9yMy5uZXcoLTEyNDIuNDYyNTI0NDE0MDYyNSwgNC43ODcwNTk3ODM5MzU1NDcsIDM5MDEuMjgyOTU4OTg0Mzc1KSwKICAgICAgICAgICAgVW5kZXJ3YXRlckV4aXQgPSBWZWN0b3IzLm5ldyg0MDUwLCAtMSwgLTE4MTQpCiAgICAgICAgfQogICAgZW5kCiAgICBmb3IgXywgdjQwMCBpbiBwYWlycyh2Mzk4KSBkbwogICAgICAgIGxvY2FsIHZhcl8weDNpZmUgPSAodjQwMCAtIGxfUG9zaXRpb25fMSkuTWFnbml0dWRlCiAgICAgICAgaWYgbF9NYWduaXR1ZGVfMSA8IGxfaHVnZV8wIHRoZW4KICAgICAgICAgICAgbF9odWdlXzAgPSBsX01hZ25pdHVkZV8xCiAgICAgICAgICAgIHYzOTYgPSB2NDAwCiAgICAgICAgZW5kCiAgICBlbmQKICAgIGlmIGxfaHVnZV8wIDw9IChsX1Bvc2l0aW9uXzEgLSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLk1hZ25pdHVkZSB0aGVuCiAgICAgICAgcmV0dXJuIHYzOTYKICAgIGVsc2UKICAgICAgICByZXR1cm4gCiAgICBlbmQKZW5kCmZ1bmN0aW9uIHJlcXVlc3RFbnRyYW5jZSh2NDAyKQogICAgZ2FtZS5SZXBsaWNhdGVkU3RvcmFnZS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoInJlcXVlc3RFbnRyYW5jZSIsIHY0MDIpCiAgICBsb2NhbCB2YXJfOWtpd3F0ID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0CiAgICBsX0h1bWFub2lkUm9vdFBhcnRfMy5DRnJhbWUgPSBsX0h1bWFub2lkUm9vdFBhcnRfMy5DRnJhbWUgKyBWZWN0b3IzLm5ldygwLCA1MCwgMCkKICAgIHRhc2sud2FpdCgwLjUpCmVuZApmdW5jdGlvbiBUZWxlUFBsYXllcih2NDA0KQogICAgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IHY0MDQKZW5kCmZ1bmN0aW9uIHRvcG9zKHY0MDUpCiAgICBsb2NhbCB2YXJfMnp4cXMyID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyCiAgICBpZiBsX0xvY2FsUGxheWVyXzEuQ2hhcmFjdGVyIGFuZCBsX0xvY2FsUGxheWVyXzEuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCA+IDAgYW5kIGxfTG9jYWxQbGF5ZXJfMS5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSB0aGVuCiAgICAgICAgbG9jYWwgdmFyX2kzN3MxMCA9ICh2NDA1LlBvc2l0aW9uIC0gbF9Mb2NhbFBsYXllcl8xLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKS5NYWduaXR1ZGUKICAgICAgICBpZiBub3QgdjQwNSB0aGVuCiAgICAgICAgICAgIHJldHVybiAKICAgICAgICBlbHNlCiAgICAgICAgICAgIGxvY2FsIHZhcl81NWtoY2YgPSBDaGVja05lYXJlc3RUZWxlcG9ydGVyKHY0MDUpCiAgICAgICAgICAgIGlmIHY0MDggdGhlbgogICAgICAgICAgICAgICAgcmVxdWVzdEVudHJhbmNlKHY0MDgpCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICBpZiBub3QgbF9Mb2NhbFBsYXllcl8xLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiUGFydFRlbGUiKSB0aGVuCiAgICAgICAgICAgICAgICBsb2NhbCB2YXJfaHc4NDM0ID0gSW5zdGFuY2UubmV3KCJQYXJ0IiwgbF9Mb2NhbFBsYXllcl8xLkNoYXJhY3RlcikKICAgICAgICAgICAgICAgIHY0MDkuU2l6ZSA9IFZlY3RvcjMubmV3KDEwLCAxLCAxMCkKICAgICAgICAgICAgICAgIHY0MDkuTmFtZSA9ICJQYXJ0VGVsZSIKICAgICAgICAgICAgICAgIHY0MDkuQW5jaG9yZWQgPSB0cnVlCiAgICAgICAgICAgICAgICB2NDA5LlRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgIHY0MDkuQ2FuQ29sbGlkZSA9IHRydWUKICAgICAgICAgICAgICAgIHY0MDkuQ0ZyYW1lID0gV2FpdEhSUChsX0xvY2FsUGxheWVyXzEpLkNGcmFtZQogICAgICAgICAgICAgICAgZG8KICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfMmIyeTB6ID0gdjQwOQogICAgICAgICAgICAgICAgICAgIGxfdjQwOV8wOkdldFByb3BlcnR5Q2hhbmdlZFNpZ25hbCgiQ0ZyYW1lIik6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCB2MzkxIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxfTG9jYWxQbGF5ZXJfMS5DaGFyYWN0ZXIgYW5kIGxfTG9jYWxQbGF5ZXJfMS5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV2FpdEhSUChsX0xvY2FsUGxheWVyXzEpLkNGcmFtZSA9IGxfdjQwOV8wLkNGcmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICAgICAgdjM5MSA9IHRydWUKICAgICAgICAgICAgbG9jYWwgdmFyX3dkNGl2ZSA9IGdhbWU6R2V0U2VydmljZSgiVHdlZW5TZXJ2aWNlIik6Q3JlYXRlKGxfTG9jYWxQbGF5ZXJfMS5DaGFyYWN0ZXIuUGFydFRlbGUsIFR3ZWVuSW5mby5uZXcobF9NYWduaXR1ZGVfMiAvIDM2MCwgRW51bS5FYXNpbmdTdHlsZS5MaW5lYXIpLCB7Q0ZyYW1lID0gdjQwNX0pCiAgICAgICAgICAgIHY0MTE6UGxheSgpCiAgICAgICAgICAgIHY0MTEuQ29tcGxldGVkOkNvbm5lY3QoZnVuY3Rpb24odjQxMikKICAgICAgICAgICAgICAgIGlmIHY0MTIgPT0gRW51bS5QbGF5YmFja1N0YXRlLkNvbXBsZXRlZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgbF9Mb2NhbFBsYXllcl8xLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiUGFydFRlbGUiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGxfTG9jYWxQbGF5ZXJfMS5DaGFyYWN0ZXIuUGFydFRlbGU6RGVzdHJveSgpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgdjM5MSA9IGZhbHNlCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCmVuZApmdW5jdGlvbiBzdG9wVGVsZXBvcnQoKQogICAgdjM5MSA9IGZhbHNlCiAgICBsb2NhbCB2YXJfZ3RwNnJoID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyCiAgICBpZiBsX0xvY2FsUGxheWVyXzIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJQYXJ0VGVsZSIpIHRoZW4KICAgICAgICBsX0xvY2FsUGxheWVyXzIuQ2hhcmFjdGVyLlBhcnRUZWxlOkRlc3Ryb3koKQogICAgZW5kCmVuZApzcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB0YXNrLndhaXQoKSBkbwogICAgICAgIGlmIG5vdCB2MzkxIHRoZW4KICAgICAgICAgICAgc3RvcFRlbGVwb3J0KCkKICAgICAgICBlbmQKICAgIGVuZAplbmQpCnNwYXduKGZ1bmN0aW9uKCkKICAgIGxvY2FsIHZhcl9ham1oNG8gPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIKICAgIHdoaWxlIHRhc2sud2FpdCgpIGRvCiAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICBpZiBsX0xvY2FsUGxheWVyXzMuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJQYXJ0VGVsZSIpIGFuZCAobF9Mb2NhbFBsYXllcl8zLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gbF9Mb2NhbFBsYXllcl8zLkNoYXJhY3Rlci5QYXJ0VGVsZS5Qb3NpdGlvbikuTWFnbml0dWRlID49IDEwMCB0aGVuCiAgICAgICAgICAgICAgICBzdG9wVGVsZXBvcnQoKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCiAgICBlbmQKZW5kKQpsb2NhbCB2YXJfanluczU0ID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyCmxvY2FsIHZhcl9hZzQ3OXcgdjQxNyh2NDE2KQogICAgdjQxNjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkIikuRGllZDpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICBzdG9wVGVsZXBvcnQoKQogICAgZW5kKQplbmQKbF9Mb2NhbFBsYXllcl80LkNoYXJhY3RlckFkZGVkOkNvbm5lY3QodjQxNykKaWYgbF9Mb2NhbFBsYXllcl80LkNoYXJhY3RlciB0aGVuCiAgICB2NDE3KGxfTG9jYWxQbGF5ZXJfNC5DaGFyYWN0ZXIpCmVuZApmdW5jdGlvbiBUUDEodjQxOCkKICAgIHRvcG9zKHY0MTgpCmVuZApzcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB3YWl0KCkgZG8KICAgICAgICBpZiBfRy5TcGluUG9zIHRoZW4KICAgICAgICAgICAgUG9zID0gQ0ZyYW1lLm5ldygwLCBQb3NZLCAtMjApCiAgICAgICAgICAgIHdhaXQoMC4xKQogICAgICAgICAgICBQb3MgPSBDRnJhbWUubmV3KC0yMCwgUG9zWSwgMCkKICAgICAgICAgICAgd2FpdCgwLjEpCiAgICAgICAgICAgIFBvcyA9IENGcmFtZS5uZXcoMCwgUG9zWSwgMjApCiAgICAgICAgICAgIHdhaXQoMC4xKQogICAgICAgICAgICBQb3MgPSBDRnJhbWUubmV3KDIwLCBQb3NZLCAwKQogICAgICAgIGVsc2UKICAgICAgICAgICAgUG9zID0gQ0ZyYW1lLm5ldygwLCBQb3NZLCAwKQogICAgICAgIGVuZAogICAgZW5kCmVuZCkKc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgdGFzay53YWl0KCkgZG8KICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgIGlmIF9HLkZhcm1Cb25lIG9yIF9HLkF1dG9GYXJtIG9yIF9HLlByYXkgb3IgX0cuVHJ5bHV4IG9yIF9HLkhhbGxvdyBvciBfRy5GYXJtQ2FrZSBvciBfRy5GYXJtRGFpQmFuIG9yIF9HLkdyZXliZWFyZCBvciBfRy5DdXJzZWRDYXB0YWluIG9yIF9HLkF1dG9EYXJrQm9zcyBvciBfRy5DaGllZldhcmRlbiBvciBfRy5UcmlkZW50IG9yIF9HLkxvbmdzd29yZCBvciBfRy5HcmF2aXR5QmxhZGUgb3IgX0cuU3dvZHNGbGFpbCBvciBfRy5BdXRvUmVuZ29rdSBvciBfRy5Td29kc0RSVHJpZGVudCBvciBfRy5Td29kQ2FudmFuZGUgb3IgX0cuU3dvZHNCdWRkeSBvciBfRy5GYXJtQmxhemVFTSBvciBfRy5BdXRvRmluZFByZWhpc3RvcmljIG9yIF9HLlR3ZWVuVm9sY2FubyBvciBfRy5EZWZlbmRWb2xjYW5vIG9yIF9HLktpbGxHb2xlbSBvciBfRy5Td29kVHdpbkhvb2tzIG9yIF9HLkZ1bGx5a2F0YWt1cmkgb3IgX0cuQXV0b0Jvc3Mgb3IgX0cuU3dvZENhbnZhbmRlciBvciBfRy5BdXRvRmFybU1hdGVyaWFsIG9yIF9HLkF1dG9TZWNvbmRTZWEgb3IgX0cuQXV0b3NhdyBvciBfRy5DaGllZldhcmRlbiBvciBfRy5UcmlkZW50IG9yIF9HLkF1dG9TYWJlciBvciBfRy5UaGlyZFNlYSBvciBfRy5BdXRvQmFydGlsbyBvciBfRy5BdXRvRmFjdG9yeSBvciBfRy5Mb25nc3dvcmQgb3IgX0cuR3Jhdml0eUJsYWRlIG9yIF9HLlN3b2RzRmxhaWwgb3IgX0cuQXV0b1Jlbmdva3Ugb3IgX0cuU3dvZHNEUlRyaWRlbnQgb3IgX0cuU3dvZFR3aW5Ib29rcyBvciBfRy5Td29kQ2FudmFuZGVyIG9yIF9HLkF1dG9SYWlkUGlyYXRlIG9yIF9HLkF1dG9RdWVzdFlhbWEgb3IgX0cuQXV0b1lhbWFRdWVzdCBvciBfRy5BdXRvU2FiZXIgb3IgX0cuRGVmZW5kVm9sY2FubyBvciBfRy5UUEIgb3IgX0cuU2FpbEJvYXQgb3IgX0cuQXV0b3RlcnJvcnNoYXJrIG9yIF9HLktpbGxTaGFyayBvciBfRy5LaWxsUGlyYW5oYSBvciBfRy5LaWxsRmlzaENyZXcgb3IgX0cuQXV0b1F1ZXN0UmFjZSBvciBfRy5EdW5nZW9uIG9yIF9HLkF1dG9MYXdSYWlkIG9yIF9HLlR3ZWVuZnJ1aXQgb3IgUHJvamVjdFRyaWFsUHJvIG9yIF9HLlR3ZWVuTUdlYXIgb3IgX0cuQXV0b015c3RpY0lzbGFuZCBvciBBdXRvVXBncmFkZVJhY2Ugb3IgQXV0b1JhY2VFdm8xIG9yIF9HLkF1dG9GYXJtRnJ1aXRzIG9yIF9HLkF1dG9wb2xlIG9yIF9HLkF1dG9zYXcgb3IgX0cuQXV0b0VsaXRlaHVudGVyIG9yIEZhcm1NdHJGcnVpdCBvciBfRy5BdXRvTmVhciBvciBfRy5Db2xsZWN0QmVycnkgb3IgX0cuUmlwSW5kcmFLaWxsIG9yIF9HLkZhcm1DaG9jb2xhIG9yIFNvdWxHdWl0YXIgb3IgX0cuQXV0b0hvbHlUb3JjaCBvciBfRy5BdXRvR2V0VHVzaGl0YSBvciBfRy5BdXRvWWFtYSBvciBfRy5BdXRvTW9iRHJhZ29uIG9yIF9HLkF1dG9IeWRyYVRyZWUgb3IgX0cuVHdlZW5Ub0tpdHN1bmUgb3IgX0cuQXV0b0Rvb0hlZSBvciBfRy5BdXRvQXp1ZXJFbWJlciBvciBfRy5Ud2VlblZvbGNhbm8gb3IgX0cuRHVuZ2VvbiBvciBfRy5BdXRvTGF3UmFpZCBvciBfRy5Ud2VlbkZydWl0IG9yIF9HLkdyYWJmcnVpdCBvciBfRy5UZWxlcG9ydElzbGFuZCBvciBfRy5UZWxlcG9ydE5QQyBvciBfRy5TYWZlTW9kZSBvciBfRy5BdXRvUGxheWVySHVudGVyIG9yIF9HLkF1dG9LaWxsUGxheWVyIG9yIF9HLlRlbGVwb3J0UGx5IG9yIF9HLkF1dG9RdWVzdEJvc3Mgb3IgX0cuQXV0b0FsbEJvc3Mgb3IgX0cuQXV0b0Zhcm1MZXZlbE5ldyBvciBfRy5GYXJtU3VtbWVyIG9yIF9HLkJvc3NQYWluIHRoZW4KICAgICAgICAgICAgICAgIGlmIG5vdCBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydDpGaW5kRmlyc3RDaGlsZCgiQm9keUNsaXAiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyXzNrd3lzNCA9IEluc3RhbmNlLm5ldygiQm9keVZlbG9jaXR5IikKICAgICAgICAgICAgICAgICAgICBsX0JvZHlWZWxvY2l0eV8yLk5hbWUgPSAiQm9keUNsaXAiCiAgICAgICAgICAgICAgICAgICAgbF9Cb2R5VmVsb2NpdHlfMi5QYXJlbnQgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydAogICAgICAgICAgICAgICAgICAgIGxfQm9keVZlbG9jaXR5XzIuTWF4Rm9yY2UgPSBWZWN0b3IzLm5ldygxMDAwMDAsIDEwMDAwMCwgMTAwMDAwKQogICAgICAgICAgICAgICAgICAgIGxfQm9keVZlbG9jaXR5XzIuVmVsb2NpdHkgPSBWZWN0b3IzLm5ldygwLCAwLCAwKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkZpbmRGaXJzdENoaWxkKCJCb2R5Q2xpcCIpOkRlc3Ryb3koKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCiAgICBlbmQKZW5kKQpzcGF3bihmdW5jdGlvbigpCiAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSdW5TZXJ2aWNlIikuU3RlcHBlZDpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICAgICAgaWYgX0cuRmFybUJvbmUgb3IgX0cuQXV0b0Zhcm0gb3IgX0cuUHJheSBvciBfRy5UcnlsdXggb3IgX0cuSGFsbG93IG9yIF9HLkZhcm1DYWtlIG9yIF9HLkZhcm1EYWlCYW4gb3IgX0cuRnVsbHlrYXRha3VyaSBvciBfRy5BdXRvQm9zcyBvciBfRy5BdXRvTWF0ZXJpYSBvciBfRy5BdXRvU2Vjb25kU2VhIG9yIF9HLkF1dG9zYXcgb3IgX0cuQ2hpZWZXYXJkZW4gb3IgX0cuVHJpZGVudCBvciBfRy5BdXRvU2FiZXIgb3IgX0cuR3JleWJlYXJkIG9yIF9HLkN1cnNlZENhcHRhaW4gb3IgX0cuQXV0b0RhcmtCb3NzIG9yIF9HLkNoaWVmV2FyZGVuIG9yIF9HLlRyaWRlbnQgb3IgX0cuTG9uZ3N3b3JkIG9yIF9HLkdyYXZpdHlCbGFkZSBvciBfRy5Td29kc0ZsYWlsIG9yIF9HLkF1dG9SZW5nb2t1IG9yIF9HLlN3b2RzRFJUcmlkZW50IG9yIF9HLlN3b2RDYW52YW5kZSBvciBfRy5Td29kVHdpbkhvb2tzIG9yIF9HLlRoaXJkU2VhIG9yIF9HLkF1dG9CYXJ0aWxvIG9yIF9HLkF1dG9GYWN0b3J5IG9yIF9HLkxvbmdzd29yZCBvciBfRy5HcmF2aXR5QmxhZGUgb3IgX0cuU3dvZHNGbGFpbCBvciBfRy5BdXRvUmVuZ29rdSBvciBfRy5Td29kc0RSVHJpZGVudCBvciBfRy5Td29kVHdpbkhvb2tzIG9yIF9HLlN3b2RDYW52YW5kZXIgb3IgX0cuU3dvZHNCdWRkeSBvciBfRy5GYXJtQmxhemVFTSBvciBfRy5BdXRvRmluZFByZWhpc3RvcmljIG9yIF9HLlR3ZWVuVm9sY2FubyBvciBfRy5EZWZlbmRWb2xjYW5vIG9yIF9HLktpbGxHb2xlbSBvciBfRy5BdXRvUmFpZFBpcmF0ZSBvciBfRy5BdXRvUXVlc3RZYW1hIG9yIF9HLkF1dG9ZYW1hUXVlc3Qgb3IgX0cuQXV0b0VsaXRlaHVudGVyIG9yIEZhcm1NdHJGcnVpdCBvciBBdXRvVXBncmFkZVJhY2Ugb3IgX0cuQXV0b0Zhcm1NYXRlcmlhbCBvciBBdXRvUmFjZUV2bzEgb3IgQXV0b1NhYmVyIG9yIF9HLkF1dG9wb2xlIG9yIF9HLlN3b2RDYW52YW5kZXIgb3IgX0cuRGVmZW5kVm9sY2FubyBvciBfRy5TYWlsQm9hdCBvciBfRy5BdXRvdGVycm9yc2hhcmsgb3IgX0cuS2lsbFNoYXJrIG9yIF9HLktpbGxQaXJhbmhhIG9yIF9HLktpbGxGaXNoQ3JldyBvciBfRy5BdXRvUXVlc3RSYWNlIG9yIF9HLkR1bmdlb24gb3IgX0cuQXV0b0xhd1JhaWQgb3IgX0cuVHdlZW5mcnVpdCBvciBQcm9qZWN0VHJpYWxQcm8gb3IgX0cuQXV0b015c3RpY0lzbGFuZCBvciBfRy5Ud2Vlbk1HZWFyIG9yIF9HLkF1dG9zYXcgb3IgX0cuQXV0b05lYXIgb3IgX0cuQXV0b0Zhcm1GcnVpdHMgb3IgX0cuQ29sbGVjdEJlcnJ5IG9yIF9HLlJpcEluZHJhS2lsbCBvciBfRy5GYXJtQ2hvY29sYSBvciBTb3VsR3VpdGFyIG9yIF9HLkF1dG9Ib2x5VG9yY2ggb3IgX0cuQXV0b0dldFR1c2hpdGEgb3IgX0cuQXV0b1lhbWEgb3IgX0cuQXV0b01vYkRyYWdvbiBvciBfRy5BdXRvSHlkcmFUcmVlIG9yIF9HLlR3ZWVuVG9LaXRzdW5lIG9yIF9HLkF1dG9Eb29IZWUgb3IgX0cuQXV0b0F6dWVyRW1iZXIgb3IgX0cuVHdlZW5Wb2xjYW5vIG9yIF9HLkR1bmdlb24gb3IgX0cuQXV0b0xhd1JhaWQgb3IgX0cuVHdlZW5GcnVpdCBvciBfRy5HcmFiZnJ1aXQgb3IgX0cuVGVsZXBvcnRJc2xhbmQgb3IgX0cuVGVsZXBvcnROUEMgb3IgX0cuU2FmZU1vZGUgb3IgX0cuQXV0b1BsYXllckh1bnRlciBvciBfRy5BdXRvS2lsbFBsYXllciBvciBfRy5UZWxlcG9ydFBseSBvciBfRy5BdXRvUXVlc3RCb3NzIG9yIF9HLkF1dG9BbGxCb3NzIG9yIF9HLkF1dG9GYXJtTGV2ZWxOZXcgb3IgX0cuRmFybVN1bW1lciBvciBfRy5Cb3NzUGFpbiB0aGVuCiAgICAgICAgICAgICAgICBmb3IgXywgdjQyMSBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXI6R2V0RGVzY2VuZGFudHMoKSkgZG8KICAgICAgICAgICAgICAgICAgICBpZiB2NDIxOklzQSgiQmFzZVBhcnQiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHY0MjEuQ2FuQ29sbGlkZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKQogICAgZW5kKQplbmQpCmxvY2FsIHZhcl9tMXV2NDYgPSB7fQpmdW5jdGlvbiBUUDEzKHY0MjMpCiAgICBsb2NhbCB2YXJfMXVlNmVoID0gKHY0MjMuUG9zaXRpb24gLSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLk1hZ25pdHVkZQogICAgbG9jYWwgdmFyXzZma2p3NyA9IGdhbWU6R2V0U2VydmljZSgiVHdlZW5TZXJ2aWNlIik6Q3JlYXRlKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LCBUd2VlbkluZm8ubmV3KGxfTWFnbml0dWRlXzMgLyBUd2VlblNwZWVkLCBFbnVtLkVhc2luZ1N0eWxlLkxpbmVhciksIHtDRnJhbWUgPSB2NDIzfSk6UGxheSgpCiAgICB2NDIyLlN0b3AgPSBmdW5jdGlvbihfKQogICAgICAgIHY0MjU6Q2FuY2VsKCkKICAgIGVuZAogICAgcmV0dXJuIHY0MjIKZW5kCmZ1bmN0aW9uIGZhc3Rwb3ModjQyNykKICAgIERpc3RhbmNlID0gKHY0MjcuUG9zaXRpb24gLSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLk1hZ25pdHVkZQogICAgU3BlZWQgPSAxMDAwCiAgICBnYW1lOkdldFNlcnZpY2UoIlR3ZWVuU2VydmljZSIpOkNyZWF0ZShnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydCwgVHdlZW5JbmZvLm5ldyhEaXN0YW5jZSAvIFNwZWVkLCBFbnVtLkVhc2luZ1N0eWxlLkxpbmVhciksIHtDRnJhbWUgPSB2NDI3fSk6UGxheSgpCmVuZApmdW5jdGlvbiBzbG93cG9zKHY0MjgpCiAgICBEaXN0YW5jZSA9ICh2NDI4LlBvc2l0aW9uIC0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKS5NYWduaXR1ZGUKICAgIFNwZWVkID0gMTUwCiAgICBnYW1lOkdldFNlcnZpY2UoIlR3ZWVuU2VydmljZSIpOkNyZWF0ZShnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydCwgVHdlZW5JbmZvLm5ldyhEaXN0YW5jZSAvIFNwZWVkLCBFbnVtLkVhc2luZ1N0eWxlLkxpbmVhciksIHtDRnJhbWUgPSB2NDI4fSk6UGxheSgpCmVuZApsb2NhbCB2YXJfaHkyN3hlID0ge30KZnVuY3Rpb24gQlRQKHY0MzApCiAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgaWYgKHY0MzAuUG9zaXRpb24gLSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLk1hZ25pdHVkZSA+PSAxNTAwIGFuZCBub3QgQXV0b19SYWlkIGFuZCBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCA+IDAgdGhlbgogICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgIHdhaXQoKQogICAgICAgICAgICAgICAgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IHY0MzAKICAgICAgICAgICAgICAgIHdhaXQoMC4wNSkKICAgICAgICAgICAgICAgIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSGVhZDpEZXN0cm95KCkKICAgICAgICAgICAgICAgIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgPSB2NDMwCiAgICAgICAgICAgIHVudGlsICh2NDMwLlBvc2l0aW9uIC0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKS5NYWduaXR1ZGUgPCAxNTAwIGFuZCBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCA+IDAKICAgICAgICBlbmQKICAgIGVuZCkKZW5kCmZ1bmN0aW9uIFRlbGVQUGxheWVyKHY0MzEpCiAgICBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lID0gdjQzMQplbmQKZnVuY3Rpb24gVFBCKHY0MzIpCiAgICBsb2NhbCB2YXJfZHZ0ZHYwID0gZ2FtZTpzZXJ2aWNlKCJUd2VlblNlcnZpY2UiKQogICAgbG9jYWwgdmFyX3o2ZHQzaSA9IFR3ZWVuSW5mby5uZXcoKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuQm9hdHMuUGlyYXRlQnJpZ2FkZS5WZWhpY2xlU2VhdC5DRnJhbWUuUG9zaXRpb24gLSB2NDMyLlBvc2l0aW9uKS5NYWduaXR1ZGUgLyAzMDAsIEVudW0uRWFzaW5nU3R5bGUuTGluZWFyKQogICAgdHdlZW4gPSB2NDMzOkNyZWF0ZShnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkJvYXRzLlBpcmF0ZUJyaWdhZGUuVmVoaWNsZVNlYXQsIHY0MzQsIHtDRnJhbWUgPSB2NDMyfSkKICAgIHR3ZWVuOlBsYXkoKQogICAgcmV0dXJuIHtTdG9wID0gZnVuY3Rpb24oXykKICAgICAgICB0d2VlbjpDYW5jZWwoKQogICAgZW5kfQplbmQKZnVuY3Rpb24gVFBQKHY0MzYpCiAgICBpZiBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWQiKS5IZWFsdGggPiAwIGFuZCBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZCIpIHRoZW4KICAgICAgICBsb2NhbCB2YXJfNnZhNzhwID0gZ2FtZTpzZXJ2aWNlKCJUd2VlblNlcnZpY2UiKQogICAgICAgIGxvY2FsIHZhcl9zZWhsN2QgPSBUd2VlbkluZm8ubmV3KChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIHY0MzYuUG9zaXRpb24pLk1hZ25pdHVkZSAvIDMyNSwgRW51bS5FYXNpbmdTdHlsZS5MaW5lYXIpCiAgICAgICAgdHdlZW4gPSB2NDM3OkNyZWF0ZShnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQsIHY0MzgsIHtDRnJhbWUgPSB2NDM2fSkKICAgICAgICB0d2VlbjpQbGF5KCkKICAgICAgICByZXR1cm4ge1N0b3AgPSBmdW5jdGlvbihfKQogICAgICAgICAgICB0d2VlbjpDYW5jZWwoKQogICAgICAgIGVuZH0KICAgIGVsc2UKICAgICAgICB0d2VlbjpDYW5jZWwoKQogICAgICAgIHJlcGVhdAogICAgICAgICAgICB3YWl0KCkKICAgICAgICB1bnRpbCBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZCIpIGFuZCBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZCIpLkhlYWx0aCA+IDAKICAgICAgICB3YWl0KDcpCiAgICAgICAgcmV0dXJuIAogICAgZW5kCmVuZApmdW5jdGlvbiBTdG9wVHdlZW4odjQ0MCkKICAgIGlmIG5vdCB2NDQwIHRoZW4KICAgICAgICBfRy5TdG9wVHdlZW4gPSB0cnVlCiAgICAgICAgd2FpdCgpCiAgICAgICAgdG9wb3MoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQogICAgICAgIHdhaXQoKQogICAgICAgIGlmIGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkZpbmRGaXJzdENoaWxkKCJCb2R5Q2xpcCIpIHRoZW4KICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQ6RmluZEZpcnN0Q2hpbGQoIkJvZHlDbGlwIik6RGVzdHJveSgpCiAgICAgICAgZW5kCiAgICAgICAgX0cuU3RvcFR3ZWVuID0gZmFsc2UKICAgICAgICBfRy5DbGlwID0gZmFsc2UKICAgIGVuZAplbmQKc3Bhd24oZnVuY3Rpb24oKQogICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgIHdoaWxlIHdhaXQoKSBkbwogICAgICAgICAgICBmb3IgXywgdjQ0MiBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5CYWNrcGFjazpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgaWYgdjQ0MjpJc0EoIlRvb2wiKSBhbmQgdjQ0MjpGaW5kRmlyc3RDaGlsZCgiUmVtb3RlRnVuY3Rpb25TaG9vdCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICBfRy5TZWxlY3RXZWFwb25HdW4gPSB2NDQyLk5hbWUKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZCkKZW5kKQpnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5JZGxlZDpjb25uZWN0KGZ1bmN0aW9uKCkKICAgIGdhbWU6R2V0U2VydmljZSgiVmlydHVhbFVzZXIiKTpCdXR0b24yRG93bihWZWN0b3IyLm5ldygwLCAwKSwgd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuQ0ZyYW1lKQogICAgd2FpdCgxKQogICAgZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsVXNlciIpOkJ1dHRvbjJVcChWZWN0b3IyLm5ldygwLCAwKSwgd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuQ0ZyYW1lKQplbmQpCmZ1bmN0aW9uIENoZWNrQ29sb3JSaXBJbmRyYSgpCiAgICBtbWIgPSB7fQogICAgZm9yIF8sIHY0NDQgaW4gbmV4dCwgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5NYXBbIkJvYXQgQ2FzdGxlIl0uU3VtbW9uZXIuQ2lyY2xlOkdldENoaWxkcmVuKCkgZG8KICAgICAgICBpZiB2NDQ0OklzQSgiUGFydCIpIGFuZCB2NDQ0OkZpbmRGaXJzdENoaWxkKCJQYXJ0IikgYW5kIHY0NDQuUGFydC5Ccmlja0NvbG9yLk5hbWUgPT0gIkRhcmsgc3RvbmUgZ3JleSIgdGhlbgogICAgICAgICAgICBtbWJbdjQ0NC5Ccmlja0NvbG9yLk5hbWVdID0gdjQ0NAogICAgICAgIGVuZAogICAgZW5kCiAgICByZXR1cm4gbW1iCmVuZApmdW5jdGlvbiBBY3RpdmF0ZUNvbG9yKHY0NDUpCiAgICBoYWtpID0ge1siSG90IHBpbmsiXSA9ICJXaW50ZXIgU2t5IiwgWyJSZWFsbHkgcmVkIl0gPSAiUHVyZSBSZWQiLCBPeXN0ZXIgPSAiU25vdyBXaGl0ZSJ9CiAgICBydW5uYXkgPSBoYWtpW3Y0NDVdCiAgICBpZiBydW5uYXkgdGhlbgogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoImFjdGl2YXRlQ29sb3IiLCBydW5uYXkpCiAgICBlbmQKZW5kCmZ1bmN0aW9uIEF1dG9BY3RpdmVDb2xvclJpcF9JbmRyYSgpCiAgICBmb3IgdjQ0NiwgdjQ0NyBpbiBwYWlycyhDaGVja0NvbG9yUmlwSW5kcmEoKSkgZG8KICAgICAgICBBY3RpdmF0ZUNvbG9yKHY0NDYpCiAgICAgICAgdG9wb3ModjQ0Ny5DRnJhbWUpCiAgICAgICAgZmlyZXRvdWNoaW50ZXJlc3QodjQ0Ny5Ub3VjaEludGVyZXN0KQogICAgZW5kCmVuZApmdW5jdGlvbiBDaGVja1JhY2UoKQogICAgbG9jYWwgdmFyXzhzYXluZiA9IGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIldlbmxvY2t0b2FkIiwgIjEiKQogICAgbG9jYWwgdmFyX2htczhpdyA9IGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkFsY2hlbWlzdCIsICIxIikKICAgIGlmIG5vdCBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJSYWNlVHJhbnNmb3JtZWQiKSB0aGVuCiAgICAgICAgaWYgdjQ0OCA9PSAtMiB0aGVuCiAgICAgICAgICAgIHJldHVybiBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5EYXRhLlJhY2UuVmFsdWUgLi4gIiBWMyIKICAgICAgICBlbHNlaWYgdjQ0OSA9PSAtMiB0aGVuCiAgICAgICAgICAgIHJldHVybiBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5EYXRhLlJhY2UuVmFsdWUgLi4gIiBWMiIKICAgICAgICBlbHNlCiAgICAgICAgICAgIHJldHVybiBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5EYXRhLlJhY2UuVmFsdWUgLi4gIiBWMSIKICAgICAgICBlbmQKICAgIGVsc2UKICAgICAgICByZXR1cm4gZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuRGF0YS5SYWNlLlZhbHVlIC4uICIgVjQiCiAgICBlbmQKZW5kCl9HLlRhcmdUcmlhbCA9ICJUYXJnVHJpYWwiCmZ1bmN0aW9uIHRhcmdldHRyaWFsKCkKICAgIGlmIF9HLlRhcmdUcmlhbCA9PSAiVGFyZ1RyaWFsIiB0aGVuCiAgICAgICAgbG9jYWwgdmFyX3JoN3VndCA9IG5pbAogICAgICAgIGxvY2FsIHZhcl80dHd3bGUgPSA0NTAKICAgICAgICBmb3IgXywgdjQ1MyBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgYyA9ICh2NDUzLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKS5NYWduaXR1ZGUKICAgICAgICAgICAgaWYgYyA8PSB2NDUxIGFuZCB2NDUzIH49IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllciB0aGVuCiAgICAgICAgICAgICAgICB2NDUxID0gYwogICAgICAgICAgICAgICAgdjQ1MCA9IHY0NTMKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICAgICAgaWYgdjQ1MCA9PSAiYyIgdGhlbgogICAgICAgICAgICByZXR1cm4gCiAgICAgICAgZWxzZWlmIF9HLlRhcmdUcmlhbCA9PSAiYyIgdGhlbgogICAgICAgICAgICBfRy5UYXJnVHJpYWwgPSB2NDUwCiAgICAgICAgICAgIHJldHVybiAKICAgICAgICBlbHNlCiAgICAgICAgICAgIHJldHVybiAKICAgICAgICBlbmQKICAgIGVsc2UKICAgICAgICByZXR1cm4gCiAgICBlbmQKZW5kCmZ1bmN0aW9uIENoZWNrUGlyYXRlQm9hdCgpCiAgICBsb2NhbCB2YXJfb2l2dml3ID0geyJQaXJhdGVCcmlnYWRlIiwgIlBpcmF0ZUJyaWdhZGUifQogICAgZm9yIF8sIHY0NTYgaW4gbmV4dCwgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkdldENoaWxkcmVuKCkgZG8KICAgICAgICBpZiB0YWJsZS5maW5kKHY0NTQsIHY0NTYuTmFtZSkgYW5kIHY0NTY6RmluZEZpcnN0Q2hpbGQoIkhlYWx0aCIpIGFuZCB2NDU2LkhlYWx0aC5WYWx1ZSA+IDAgdGhlbgogICAgICAgICAgICByZXR1cm4gdjQ1NgogICAgICAgIGVuZAogICAgZW5kCmVuZApmdW5jdGlvbiBDaGVja1BpcmF0ZUJvYXQoKQogICAgbG9jYWwgdmFyXzgya2ZqbSA9IHsiRmlzaEJvYXQifQogICAgZm9yIF8sIHY0NTkgaW4gbmV4dCwgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkdldENoaWxkcmVuKCkgZG8KICAgICAgICBpZiB0YWJsZS5maW5kKHY0NTcsIHY0NTkuTmFtZSkgYW5kIHY0NTk6RmluZEZpcnN0Q2hpbGQoIkhlYWx0aCIpIGFuZCB2NDU5LkhlYWx0aC5WYWx1ZSA+IDAgdGhlbgogICAgICAgICAgICByZXR1cm4gdjQ1OQogICAgICAgIGVuZAogICAgZW5kCmVuZApmdW5jdGlvbiBTdG9yZUZydWl0KCkKICAgIGZvciBfLCB2NDYxIGluIHBhaXJzKHRoZWxvY2FsLkJhY2twYWNrOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgaWYgdjQ2MTpJc0EoIlRvb2wiKSBhbmQgc3RyaW5nLmZpbmQodjQ2MS5OYW1lLCAiRnJ1aXQiKSB0aGVuCiAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIlN0b3JlRnJ1aXQiLCB2NDYxOkdldEF0dHJpYnV0ZSgiT3JpZ2luYWxOYW1lIiksIHY0NjEpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kCmZ1bmN0aW9uIFRwRW50cmFuY2UodjQ2MikKICAgIGdhbWUuUmVwbGljYXRlZFN0b3JhZ2UuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJyZXF1ZXN0RW50cmFuY2UiLCB2NDYyKQogICAgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IENGcmFtZS5uZXcoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZS5YLCBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLlksIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUuWikKICAgIHdhaXQoMC41KQplbmQKZnVuY3Rpb24gQ2hlY2tJdGVtQlBDUkJQQ1IodjQ2MykKICAgIGNoYnAgPSB7Z2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlciwgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkJhY2twYWNrfQogICAgZm9yIF8sIHY0NjUgaW4gcGFpcnMoY2hicCkgZG8KICAgICAgICBpZiB2NDY1OkZpbmRGaXJzdENoaWxkKHY0NjMpIHRoZW4KICAgICAgICAgICAgcmV0dXJuIHY0NjU6RmluZEZpcnN0Q2hpbGQodjQ2MykKICAgICAgICBlbmQKICAgIGVuZAplbmQKLS0gRml4ZWQgVUkgTG9hZGluZyBmb3IgS1JOTApsb2NhbCB2YXJfdnV6ZnhwCmxvY2FsIHZhcl9wc3BydGwgPSBmYWxzZQoKbG9jYWwgdmFyX3FmZ2FtNSA9IHsKICAgICJodHRwczovL3Bhc3RlZnkuYXBwL0pKeW5HVHBzL3JhdyIsCiAgICAiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1JFRHpIVUIvTGlicmFyeVYyL21haW4vcmVkekxpYiIsCiAgICAiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Jsb29kYmFsbC8tYmFjay11cHMtZm9yLWxpYnMvbWFpbi9Vbm5hbWVkIiwKfQoKZm9yIGksIHVybCBpbiBpcGFpcnModWlfdXJscykgZG8KICAgIGxvY2FsIHZhcl85OGpyNG4sIHJlc3VsdCA9IHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICByZXR1cm4gbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQodXJsKSkoKQogICAgZW5kKQogICAgCiAgICBpZiBzdWNjZXNzIGFuZCByZXN1bHQgdGhlbgogICAgICAgIGxvY2FsIHZhcl9rd203MHAgPSB7CiAgICAgICAgICAgIFRpdGxlID0gIkhEQU5IIEhVQiIsCiAgICAgICAgICAgIFN1YlRpdGxlID0gImJ5IEhkYW5oIHwgTk9QRVJNQyIsCiAgICAgICAgICAgIFNhdmVGb2xkZXIgPSAiSERBTkhfSHViX0NvbmZpZyIsCiAgICAgICAgfQogICAgICAgIAogICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgd2luZG93Q29uZmlnLlNpemUgPSBVRGltMi5mcm9tT2Zmc2V0KDcwMCwgNDgwKQogICAgICAgIGVuZCkKICAgICAgICAKICAgICAgICB2NDY2ID0gcmVzdWx0Ok1ha2VXaW5kb3cod2luZG93Q29uZmlnKQogICAgICAgIHVpX2xvYWRlZCA9IHRydWUKICAgICAgICBwcmludCgiIFVJIGxvYWRlZCBmcm9tIFVSTCAiIC4uIGkpCiAgICAgICAgCiAgICAgICAgLS0gTm90aWZpY2F0aW9uCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJTdGFydGVyR3VpIik6U2V0Q29yZSgiU2VuZE5vdGlmaWNhdGlvbiIsIHsKICAgICAgICAgICAgVGl0bGUgPSAiIEhEQU5IIEhVQiI7CiAgICAgICAgICAgIFRleHQgPSAiIjsKICAgICAgICAgICAgRHVyYXRpb24gPSA0OwogICAgICAgIH0pCiAgICAgICAgCiAgICAgICAgc3Bhd24oZnVuY3Rpb24oKQogICAgICAgICAgICBmb3IgZGVsYXkgPSAxLCAxMCBkbwogICAgICAgICAgICAgICAgd2FpdCgwLjUpCiAgICAgICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgZm9yIF8sIGd1aSBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIkNvcmVHdWkiKTpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBpZiBndWk6SXNBKCJTY3JlZW5HdWkiKSBhbmQgKGd1aS5OYW1lOmZpbmQoIlJlZHoiKSBvciBndWkuTmFtZTpmaW5kKCJMaWJyYXJ5Iikgb3IgZ3VpLk5hbWU6ZmluZCgiVUkiKSkgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIF8sIG9iaiBpbiBwYWlycyhndWk6R2V0RGVzY2VuZGFudHMoKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBvYmo6SXNBKCJGcmFtZSIpIG9yIG9iajpJc0EoIlNjcm9sbGluZ0ZyYW1lIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfejBsNmxlID0gb2JqLkJhY2tncm91bmRDb2xvcjMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX3c5bmtybCA9IChjLlIgKyBjLkcgKyBjLkIpIC8gMwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgYnJpZ2h0bmVzcyA+IDAuNyB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1LCAyMCwgMjUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBkZWxheSA9PSAxIHRoZW4gcHJpbnQoIiIgLi4gb2JqLk5hbWUpIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGMuUiA+IDAuNyBhbmQgYy5HID4gMC42IGFuZCBjLkIgPCAwLjUgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDEwNSwgMTgwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgZGVsYXkgPT0gMSB0aGVuIHByaW50KCIiIC4uIG9iai5OYW1lKSBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgb2JqOklzQSgiVGV4dEJ1dHRvbiIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX2lmd2hteSA9IG9iai5CYWNrZ3JvdW5kQ29sb3IzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBjLlIgPiAwLjcgYW5kIGMuRyA+IDAuNiBhbmQgYy5CIDwgMC41IHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAxMDUsIDE4MCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfaTRjM2kxID0gKGMuUiArIGMuRyArIGMuQikgLyAzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGJyaWdodG5lc3MgPiAwLjMgYW5kIGJyaWdodG5lc3MgPCAwLjYgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig4MCwgNDAsIDcwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBvYmo6SXNBKCJUZXh0TGFiZWwiKSBvciBvYmo6SXNBKCJUZXh0QnV0dG9uIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfYXhxOWtkID0gb2JqLlRleHRDb2xvcjMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdGMuUiA+IDAuNyBhbmQgdGMuRyA+IDAuNiBhbmQgdGMuQiA8IDAuNSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMTgyLCAxOTMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9qemF3cGMgPSBndWk6RmluZEZpcnN0Q2hpbGQoIk1haW4iKSBvciBndWk6RmluZEZpcnN0Q2hpbGQoIk1haW5GcmFtZSIpIG9yIGd1aTpGaW5kRmlyc3RDaGlsZCgiQ29udGFpbmVyIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIG1haW5GcmFtZSBhbmQgbWFpbkZyYW1lOklzQSgiRnJhbWUiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFpbkZyYW1lLlNpemUgPSBVRGltMi5mcm9tT2Zmc2V0KDcwMCwgNDgwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1haW5GcmFtZS5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIC0zNTAsIDAuNSwgLTI0MCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBkZWxheSA9PSAxIHRoZW4gcHJpbnQoIiIpIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kKQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIHdhaXQoMSkKICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJTdGFydGVyR3VpIik6U2V0Q29yZSgiU2VuZE5vdGlmaWNhdGlvbiIsIHsKICAgICAgICAgICAgICAgIFRpdGxlID0gIiBIREFOSCBIVUIgLSBQSU5LIFRIRU1FIjsKICAgICAgICAgICAgICAgIFRleHQgPSAiIjsKICAgICAgICAgICAgICAgIER1cmF0aW9uID0gNTsKICAgICAgICAgICAgfSkKICAgICAgICBlbmQpCiAgICAgICAgCiAgICAgICAgYnJlYWsKICAgIGVsc2UKICAgICAgICB3YXJuKCIgRmFpbGVkIHRvIGxvYWQgZnJvbSBVUkwgIiAuLiBpIC4uICI6ICIgLi4gdG9zdHJpbmcocmVzdWx0KSkKICAgIGVuZAplbmQKCmlmIG5vdCB1aV9sb2FkZWQgdGhlbgogICAgd2FybigiIikKICAgIAogICAgZ2FtZTpHZXRTZXJ2aWNlKCJTdGFydGVyR3VpIik6U2V0Q29yZSgiU2VuZE5vdGlmaWNhdGlvbiIsIHsKICAgICAgICBUaXRsZSA9ICIiOwogICAgICAgIFRleHQgPSAiIjsKICAgICAgICBEdXJhdGlvbiA9IDEwOwogICAgfSkKICAgIAogICAgbG9jYWwgdmFyX2RnNTh6ZCA9IEluc3RhbmNlLm5ldygiU2NyZWVuR3VpIikKICAgIHNnLk5hbWUgPSAiSERBTkhCYWNrdXBVSSIKICAgIHNnLlBhcmVudCA9IGdhbWU6R2V0U2VydmljZSgiQ29yZUd1aSIpCiAgICBzZy5SZXNldE9uU3Bhd24gPSBmYWxzZQogICAgCiAgICBsb2NhbCB2YXJfdmQydDFzID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCiAgICBtYWluLk5hbWUgPSAiTWFpbkZyYW1lIgogICAgbWFpbi5TaXplID0gVURpbTIubmV3KDAsIDYwMCwgMCwgNDAwKQogICAgbWFpbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIC0zMDAsIDAuNSwgLTIwMCkKICAgIG1haW4uQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDMwLCAzMCwgMzUpCiAgICBtYWluLkJvcmRlclNpemVQaXhlbCA9IDAKICAgIG1haW4uUGFyZW50ID0gc2cKICAgIG1haW4uQWN0aXZlID0gdHJ1ZQogICAgbWFpbi5EcmFnZ2FibGUgPSB0cnVlCiAgICAKICAgIGxvY2FsIHZhcl9qeTM0Y2cgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIikKICAgIGNvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCAxMikKICAgIGNvcm5lci5QYXJlbnQgPSBtYWluCiAgICAKICAgIGxvY2FsIHZhcl8xM3h3djQgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCiAgICB0aXRsZS5TaXplID0gVURpbTIubmV3KDEsIDAsIDAsIDU1KQogICAgdGl0bGUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMTA1LCAxODApCiAgICB0aXRsZS5UZXh0ID0gIiBIREFOSCBIVUIgLSBCbG94IEZydWl0cyBQcmVtaXVtIgogICAgdGl0bGUuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCiAgICB0aXRsZS5Gb250ID0gRW51bS5Gb250LkdvdGhhbUJvbGQKICAgIHRpdGxlLlRleHRTaXplID0gMjAKICAgIHRpdGxlLlBhcmVudCA9IG1haW4KICAgIAogICAgbG9jYWwgdmFyX2FvNGQ0ZiA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiKQogICAgdGl0bGVDb3JuZXIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwgMTIpCiAgICB0aXRsZUNvcm5lci5QYXJlbnQgPSB0aXRsZQogICAgCiAgICBsb2NhbCB2YXJfNGs1b3V1ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKICAgIGNsb3NlQnRuLlNpemUgPSBVRGltMi5uZXcoMCwgNDUsIDAsIDQ1KQogICAgY2xvc2VCdG4uUG9zaXRpb24gPSBVRGltMi5uZXcoMSwgLTUwLCAwLCA1KQogICAgY2xvc2VCdG4uVGV4dCA9ICIiCiAgICBjbG9zZUJ0bi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjIwLCA1MCwgMTAwKQogICAgY2xvc2VCdG4uVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCiAgICBjbG9zZUJ0bi5Gb250ID0gRW51bS5Gb250LkdvdGhhbUJvbGQKICAgIGNsb3NlQnRuLlRleHRTaXplID0gMjQKICAgIGNsb3NlQnRuLlBhcmVudCA9IG1haW4KICAgIAogICAgbG9jYWwgdmFyX3ducHZ4biA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiKQogICAgY2xvc2VCdG5Db3JuZXIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwgMTApCiAgICBjbG9zZUJ0bkNvcm5lci5QYXJlbnQgPSBjbG9zZUJ0bgogICAgCiAgICBjbG9zZUJ0bi5Nb3VzZUJ1dHRvbjFDbGljazpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICBzZzpEZXN0cm95KCkKICAgIGVuZCkKICAgIAogICAgbG9jYWwgdmFyXzl1NTE3NiA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKICAgIGluZm9UZXh0LlNpemUgPSBVRGltMi5uZXcoMSwgLTQwLCAxLCAtNzUpCiAgICBpbmZvVGV4dC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAyMCwgMCwgNjApCiAgICBpbmZvVGV4dC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgaW5mb1RleHQuVGV4dCA9IFtbCiBMSTogS2huZyB0aCBsb2FkIFVJIExpYnJhcnkhCgogTmd1eW4gbmhuIGMgdGg6CiAgIEtSTkwga2huZyBoIHRyIGdhbWU6SHR0cEdldCgpCiAgIFVSTCBiIGNobiBob2Mga2huZyB0cnV5IGNwIGMKICAgS2huZyBjIGt0IG5pIGludGVybmV0CiAgIEdpdEh1Yi9QYXN0ZWZ5IGIgY2huCgogR2lpIHBocDoKICAxLiBEbmcgRXhlY3V0b3IgdHQgaG46CiAgICAgIFNvbGFyYSAoRlJFRSwgdHQgbmh0KQogICAgICBGbHV4dXMgKEZSRUUpCiAgICAgLSBXYXZlIChGUkVFKQogICAgIC0gRGVsdGEgKEZSRUUpCiAgCiAgMi4gQnQgVlBOIG51ICBWaXQgTmFtCiAgCiAgMy4gS2ltIHRyYSBrdCBuaSBpbnRlcm5ldAogIAogIDQuIExpbiBoIEhEQU5IIEhVQiAgaCB0cgoKIFNjcmlwdCBLSE5HIFRIIGhvdCBuZyB2aSBLUk5MIQpWdWkgbG5nIGRuZyBleGVjdXRvciBraGMhCl1dCiAgICBpbmZvVGV4dC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKICAgIGluZm9UZXh0LkZvbnQgPSBFbnVtLkZvbnQuR290aGFtCiAgICBpbmZvVGV4dC5UZXh0U2l6ZSA9IDE1CiAgICBpbmZvVGV4dC5UZXh0V3JhcHBlZCA9IHRydWUKICAgIGluZm9UZXh0LlRleHRZQWxpZ25tZW50ID0gRW51bS5UZXh0WUFsaWdubWVudC5Ub3AKICAgIGluZm9UZXh0LlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0CiAgICBpbmZvVGV4dC5QYXJlbnQgPSBtYWluCiAgICAKICAgIGVycm9yKCIiKQogICAgcmV0dXJuCmVuZAoKZ2FtZTpHZXRTZXJ2aWNlKCJTdGFydGVyR3VpIik6U2V0Q29yZSgiU2VuZE5vdGlmaWNhdGlvbiIsIHsKICAgIFRpdGxlID0gIiBIREFOSCBIVUIiOwogICAgVGV4dCA9ICIiOwogICAgRHVyYXRpb24gPSA1Owp9KQoKc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgd2FpdCgwLjUpIGRvCiAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICBmb3IgXywgZ3VpIGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiQ29yZUd1aSIpOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICBpZiBndWk6SXNBKCJTY3JlZW5HdWkiKSBhbmQgZ3VpLk5hbWUgfj0gIkNvbnRyb2xHVUkiIGFuZCBndWkuTmFtZSB+PSAiSERBTkhCYWNrdXBVSSIgdGhlbgogICAgICAgICAgICAgICAgICAgIGZvciBfLCBvYmogaW4gcGFpcnMoZ3VpOkdldERlc2NlbmRhbnRzKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBpZiBvYmo6SXNBKCJGcmFtZSIpIG9yIG9iajpJc0EoIlNjcm9sbGluZ0ZyYW1lIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyXzJ4a3RxcCA9IG9iai5CYWNrZ3JvdW5kQ29sb3IzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGMuUiA+IDAuOSBhbmQgYy5HID4gMC45IGFuZCBjLkIgPiAwLjkgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUsIDIwLCAyNSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBjLlIgPiAwLjcgYW5kIGMuRyA+IDAuNiBhbmQgYy5CIDwgMC41IHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMTA1LCAxODApICAtLSBIT1QgUElOSwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGMuUiA+IDAuNyBhbmQgYy5SIDwgMC44NSBhbmQgYy5HID4gMC43IGFuZCBjLkcgPCAwLjg1IGFuZCBjLkIgPiAwLjcgYW5kIGMuQiA8IDAuODUgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMzUsIDI1LCAzNSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBjLlIgPCAwLjIgYW5kIGMuRyA8IDAuMiBhbmQgYy5CIDwgMC4yIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDIwLCAxNSwgMjApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBpZiBvYmo6SXNBKCJUZXh0QnV0dG9uIikgYW5kIG5vdCBvYmouTmFtZTpmaW5kKCJpT1NUb2dnbGUiKSBhbmQgb2JqLlZpc2libGUgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyXzAwZGV0dCA9IG9iai5CYWNrZ3JvdW5kQ29sb3IzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGMuUiA+IDAuNyBhbmQgYy5HID4gMC42IGFuZCBjLkIgPCAwLjUgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5UZXh0VHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgaWYgb2JqOklzQSgiVGV4dExhYmVsIikgb3Igb2JqOklzQSgiVGV4dEJ1dHRvbiIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9qeHc3aG0gPSBvYmouVGV4dENvbG9yMwogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB0Yy5SID4gMC43IGFuZCB0Yy5HID4gMC42IGFuZCB0Yy5CIDwgMC41IHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMTgyLCAxOTMpICAtLSBMSUdIVCBQSU5LCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdGMuUiA+IDAuNiBhbmQgdGMuUiA8IDAuOCBhbmQgdGMuRyA+IDAuNiBhbmQgdGMuRyA8IDAuOCBhbmQgdGMuQiA+IDAuNiBhbmQgdGMuQiA8IDAuOCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgLS0gRklYIElNQUdFIENPTE9SCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG9iajpJc0EoIkltYWdlTGFiZWwiKSBvciBvYmo6SXNBKCJJbWFnZUJ1dHRvbiIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9xZW1qdHYgPSBvYmouSW1hZ2VDb2xvcjMKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGljLlIgPiAwLjcgYW5kIGljLkcgPiAwLjYgYW5kIGljLkIgPCAwLjUgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5JbWFnZUNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMTA1LCAxODApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBpZiBvYmo6SXNBKCJVSVN0cm9rZSIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9qMjYwa3IgPSBvYmouQ29sb3IKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHNjLlIgPiAwLjcgYW5kIHNjLkcgPiAwLjYgYW5kIHNjLkIgPCAwLjUgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMTA1LCAxODApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHNjLlIgPiAwLjkgYW5kIHNjLkcgPiAwLjkgYW5kIHNjLkIgPiAwLjkgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMTgyLCAxOTMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBpZiBvYmo6SXNBKCJVSUdyYWRpZW50IikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5Db2xvciA9IENvbG9yU2VxdWVuY2UubmV3ewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAsIENvbG9yMy5mcm9tUkdCKDI1NSwgMTA1LCAxODApKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMuZnJvbVJHQigyMTksIDExMiwgMTQ3KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZCkKICAgIGVuZAplbmQpCgpzcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB3YWl0KDEpIGRvCiAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICBmb3IgXywgZ3VpIGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiQ29yZUd1aSIpOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICBpZiBndWk6SXNBKCJTY3JlZW5HdWkiKSBhbmQgZ3VpLk5hbWUgfj0gIkNvbnRyb2xHVUkiIGFuZCBndWkuTmFtZSB+PSAiSERBTkhCYWNrdXBVSSIgdGhlbgogICAgICAgICAgICAgICAgICAgIGZvciBfLCBmcmFtZSBpbiBwYWlycyhndWk6R2V0RGVzY2VuZGFudHMoKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgaWYgZnJhbWU6SXNBKCJGcmFtZSIpIGFuZCAoZnJhbWUuTmFtZSA9PSAiTWFpbiIgb3IgZnJhbWUuTmFtZSA9PSAiTWFpbkZyYW1lIiBvciBmcmFtZS5OYW1lID09ICJDb250YWluZXIiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBmcmFtZS5TaXplLlguT2Zmc2V0IDwgNjAwIG9yIGZyYW1lLlNpemUuWS5PZmZzZXQgPCA0MDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYW1lLlNpemUgPSBVRGltMi5mcm9tT2Zmc2V0KDcwMCwgNDgwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYW1lLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgLTM1MCwgMC41LCAtMjQwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgaWYgZnJhbWU6SXNBKCJUZXh0TGFiZWwiKSBvciBmcmFtZTpJc0EoIlRleHRCdXR0b24iKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBmcmFtZS5UZXh0U2l6ZSA+IDAgYW5kIGZyYW1lLlRleHRTaXplIDwgMTYgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYW1lLlRleHRTaXplID0gZnJhbWUuVGV4dFNpemUgKyAyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKQogICAgZW5kCmVuZCkKCnNwYXduKGZ1bmN0aW9uKCkKICAgIHdhaXQoMikKICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICBsb2NhbCB2YXJfeDdhdTFyID0gZ2FtZTpHZXRTZXJ2aWNlKCJUd2VlblNlcnZpY2UiKQogICAgICAgIGxvY2FsIHZhcl84eGtqNGcgPSB7fQogICAgICAgIAogICAgICAgIGxvY2FsIHZhcl85NGFjbnUgQ3JlYXRlaU9TVG9nZ2xlKG9yaWdpbmFsQnV0dG9uKQogICAgICAgICAgICBpZiBwcm9jZXNzZWRUb2dnbGVzW29yaWdpbmFsQnV0dG9uXSB0aGVuIHJldHVybiBlbmQKICAgICAgICAgICAgcHJvY2Vzc2VkVG9nZ2xlc1tvcmlnaW5hbEJ1dHRvbl0gPSB0cnVlCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCB2YXJfM3lnOHhxID0gb3JpZ2luYWxCdXR0b24uUGFyZW50CiAgICAgICAgICAgIGxvY2FsIHZhcl8yNTd6OGUgPSBvcmlnaW5hbEJ1dHRvbi5Qb3NpdGlvbgogICAgICAgICAgICBsb2NhbCB2YXJfZmQxc3kwID0gb3JpZ2luYWxCdXR0b24uU2l6ZQogICAgICAgICAgICBsb2NhbCB2YXJfcjVtZmg3ID0gb3JpZ2luYWxCdXR0b24uVGV4dAogICAgICAgICAgICAKICAgICAgICAgICAgb3JpZ2luYWxCdXR0b24uVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCB2YXJfZzI4OGtzID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCiAgICAgICAgICAgIHRvZ2dsZUNvbnRhaW5lci5OYW1lID0gImlPU1RvZ2dsZV8iIC4uIG9yaWdpbmFsQnV0dG9uLk5hbWUKICAgICAgICAgICAgdG9nZ2xlQ29udGFpbmVyLlNpemUgPSBVRGltMi5uZXcoMCwgNjAsIDAsIDMwKQogICAgICAgICAgICB0b2dnbGVDb250YWluZXIuUG9zaXRpb24gPSBVRGltMi5uZXcoMSwgLTcwLCAwLjUsIC0xNSkKICAgICAgICAgICAgdG9nZ2xlQ29udGFpbmVyLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMCwgMC41KQogICAgICAgICAgICB0b2dnbGVDb250YWluZXIuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDcwLCAzNSwgNjApCiAgICAgICAgICAgIHRvZ2dsZUNvbnRhaW5lci5Cb3JkZXJTaXplUGl4ZWwgPSAwCiAgICAgICAgICAgIHRvZ2dsZUNvbnRhaW5lci5QYXJlbnQgPSBwYXJlbnQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIHZhcl9sZ2NjYWwgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIikKICAgICAgICAgICAgdG9nZ2xlQ29ybmVyLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAuNSwgMCkKICAgICAgICAgICAgdG9nZ2xlQ29ybmVyLlBhcmVudCA9IHRvZ2dsZUNvbnRhaW5lcgogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgdmFyXzRlNXF6MyA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQogICAgICAgICAgICBzbGlkZXIuTmFtZSA9ICJTbGlkZXIiCiAgICAgICAgICAgIHNsaWRlci5TaXplID0gVURpbTIubmV3KDAsIDI0LCAwLCAyNCkKICAgICAgICAgICAgc2xpZGVyLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDMsIDAuNSwgMCkKICAgICAgICAgICAgc2xpZGVyLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMCwgMC41KQogICAgICAgICAgICBzbGlkZXIuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCiAgICAgICAgICAgIHNsaWRlci5Cb3JkZXJTaXplUGl4ZWwgPSAwCiAgICAgICAgICAgIHNsaWRlci5QYXJlbnQgPSB0b2dnbGVDb250YWluZXIKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIHZhcl9jMHB0ZWYgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIikKICAgICAgICAgICAgc2xpZGVyQ29ybmVyLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDEsIDApCiAgICAgICAgICAgIHNsaWRlckNvcm5lci5QYXJlbnQgPSBzbGlkZXIKICAgICAgICAgICAgCiAgICAgICAgICAgIC0tIFN0YXRlIHRyYWNraW5nCiAgICAgICAgICAgIGxvY2FsIHZhcl9xZ2t0Y2QgPSBmYWxzZQogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgdmFyX3c2dTczNSBVcGRhdGVUb2dnbGUoZW5hYmxlZCwgYW5pbWF0ZSkKICAgICAgICAgICAgICAgIGlzRW5hYmxlZCA9IGVuYWJsZWQKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgYW5pbWF0ZSB0aGVuCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX2hxejdvMiA9IGVuYWJsZWQgYW5kIFVEaW0yLm5ldygxLCAtMjcsIDAuNSwgMCkgb3IgVURpbTIubmV3KDAsIDMsIDAuNSwgMCkKICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfNmoxcHVxID0gZW5hYmxlZCBhbmQgQ29sb3IzLmZyb21SR0IoMjU1LCAxMDUsIDE4MCkgb3IgQ29sb3IzLmZyb21SR0IoNzAsIDM1LCA2MCkKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfczF1aHJqID0gVHdlZW5JbmZvLm5ldygwLjIsIEVudW0uRWFzaW5nU3R5bGUuUXVhZCwgRW51bS5FYXNpbmdEaXJlY3Rpb24uT3V0KQogICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9leDlzOW8gPSBUd2VlblNlcnZpY2U6Q3JlYXRlKHNsaWRlciwgdHdlZW5JbmZvLCB7UG9zaXRpb24gPSB0YXJnZXRQb3N9KQogICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9pNXhmc2ggPSBUd2VlblNlcnZpY2U6Q3JlYXRlKHRvZ2dsZUNvbnRhaW5lciwgdHdlZW5JbmZvLCB7QmFja2dyb3VuZENvbG9yMyA9IHRhcmdldENvbG9yfSkKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICB0d2VlblNsaWRlcjpQbGF5KCkKICAgICAgICAgICAgICAgICAgICB0d2VlbkJnOlBsYXkoKQogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIHNsaWRlci5Qb3NpdGlvbiA9IGVuYWJsZWQgYW5kIFVEaW0yLm5ldygxLCAtMjcsIDAuNSwgMCkgb3IgVURpbTIubmV3KDAsIDMsIDAuNSwgMCkKICAgICAgICAgICAgICAgICAgICB0b2dnbGVDb250YWluZXIuQmFja2dyb3VuZENvbG9yMyA9IGVuYWJsZWQgYW5kIENvbG9yMy5mcm9tUkdCKDI1NSwgMTA1LCAxODApIG9yIENvbG9yMy5mcm9tUkdCKDcwLCAzNSwgNjApCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICAtLSBDbGljayBldmVudAogICAgICAgICAgICB0b2dnbGVDb250YWluZXIuSW5wdXRCZWdhbjpDb25uZWN0KGZ1bmN0aW9uKGlucHV0KQogICAgICAgICAgICAgICAgaWYgaW5wdXQuVXNlcklucHV0VHlwZSA9PSBFbnVtLlVzZXJJbnB1dFR5cGUuTW91c2VCdXR0b24xIG9yIGlucHV0LlVzZXJJbnB1dFR5cGUgPT0gRW51bS5Vc2VySW5wdXRUeXBlLlRvdWNoIHRoZW4KICAgICAgICAgICAgICAgICAgICBVcGRhdGVUb2dnbGUobm90IGlzRW5hYmxlZCwgdHJ1ZSkKICAgICAgICAgICAgICAgICAgICAtLSBUcmlnZ2VyIG9yaWdpbmFsIGJ1dHRvbiBjbGljawogICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsQnV0dG9uLk1vdXNlQnV0dG9uMUNsaWNrOkZpcmUoKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgCiAgICAgICAgICAgIC0tIEhvdmVyIGVmZmVjdAogICAgICAgICAgICB0b2dnbGVDb250YWluZXIuTW91c2VFbnRlcjpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIHRvZ2dsZUNvbnRhaW5lci5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC4yCiAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgdG9nZ2xlQ29udGFpbmVyLk1vdXNlTGVhdmU6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICB0b2dnbGVDb250YWluZXIuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAKICAgICAgICAgICAgZW5kKQogICAgICAgICAgICAKICAgICAgICAgICAgVXBkYXRlVG9nZ2xlKGZhbHNlLCBmYWxzZSkKICAgICAgICAgICAgCiAgICAgICAgICAgIHByaW50KCIiIC4uIG9yaWdpbmFsQnV0dG9uLk5hbWUpCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgZm9yIF8sIGd1aSBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIkNvcmVHdWkiKTpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICBpZiBndWk6SXNBKCJTY3JlZW5HdWkiKSBhbmQgZ3VpLk5hbWUgfj0gIkNvbnRyb2xHVUkiIGFuZCBndWkuTmFtZSB+PSAiSERBTkhCYWNrdXBVSSIgdGhlbgogICAgICAgICAgICAgICAgZm9yIF8sIG9iaiBpbiBwYWlycyhndWk6R2V0RGVzY2VuZGFudHMoKSkgZG8KICAgICAgICAgICAgICAgICAgICBpZiBvYmo6SXNBKCJUZXh0QnV0dG9uIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfZDh6bzdiID0gb2JqLk5hbWU6bG93ZXIoKQogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfOTF3cHozID0gb2JqLlRleHQ6bG93ZXIoKQogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgaWYgb2JqTmFtZTpmaW5kKCJ0b2dnbGUiKSBvciBvYmpUZXh0OmZpbmQoImF1dG8iKSBvciBvYmpUZXh0OmZpbmQoImVuYWJsZSIpIG9yIAogICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpOYW1lOmZpbmQoInN3aXRjaCIpIG9yIG9iai5QYXJlbnQuTmFtZTpmaW5kKCJUb2dnbGUiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDcmVhdGVpT1NUb2dnbGUob2JqKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICBnYW1lOkdldFNlcnZpY2UoIkNvcmVHdWkiKS5EZXNjZW5kYW50QWRkZWQ6Q29ubmVjdChmdW5jdGlvbihvYmopCiAgICAgICAgICAgIHdhaXQoMC4xKQogICAgICAgICAgICBpZiBvYmo6SXNBKCJUZXh0QnV0dG9uIikgdGhlbgogICAgICAgICAgICAgICAgbG9jYWwgdmFyX3lobnBvZSA9IG9iai5OYW1lOmxvd2VyKCkKICAgICAgICAgICAgICAgIGlmIG9iak5hbWU6ZmluZCgidG9nZ2xlIikgb3Igb2JqTmFtZTpmaW5kKCJzd2l0Y2giKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgQ3JlYXRlaU9TVG9nZ2xlKG9iaikKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCiAgICBlbmQpCmVuZCkKCmxvY2FsIHZhcl81d25jZTUgPSBJbnN0YW5jZS5uZXcoIlNjcmVlbkd1aSIpCmxfU2NyZWVuR3VpXzAuTmFtZSA9ICJDb250cm9sR1VJIgpsX1NjcmVlbkd1aV8wLlBhcmVudCA9IGdhbWUuQ29yZUd1aQpsb2NhbCB2YXJfaHd0cGN4ID0gSW5zdGFuY2UubmV3KCJJbWFnZUJ1dHRvbiIpCmxfSW1hZ2VCdXR0b25fMC5TaXplID0gVURpbTIubmV3KDAsIDY1LCAwLCA2NSkKbF9JbWFnZUJ1dHRvbl8wLlBvc2l0aW9uID0gVURpbTIubmV3KDAuMTUsIDAsIDAuMTUsIDApCmxfSW1hZ2VCdXR0b25fMC5JbWFnZSA9ICJyYnhhc3NldGlkOi8vMTAwNDcyMTc3NjQ3OTkzIgpsX0ltYWdlQnV0dG9uXzAuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKbF9JbWFnZUJ1dHRvbl8wLlBhcmVudCA9IGxfU2NyZWVuR3VpXzAKbG9jYWwgdmFyX3kza3NmbiA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiKQpsX1VJQ29ybmVyXzAuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMC4yNSwgMCkKbF9VSUNvcm5lcl8wLlBhcmVudCA9IGxfSW1hZ2VCdXR0b25fMApsb2NhbCB2YXJfYm91aG05ID0gSW5zdGFuY2UubmV3KCJVSVN0cm9rZSIpCmxfVUlTdHJva2VfMC5UaGlja25lc3MgPSAzCmxfVUlTdHJva2VfMC5BcHBseVN0cm9rZU1vZGUgPSBFbnVtLkFwcGx5U3Ryb2tlTW9kZS5Cb3JkZXIKbF9VSVN0cm9rZV8wLlBhcmVudCA9IGxfSW1hZ2VCdXR0b25fMAoKbG9jYWwgdmFyXzZpMjdwNSA9IHsKICAgIENvbG9yMy5mcm9tUkdCKDI1NSwgMTA1LCAxODApLCAgLS0gSG90IFBpbmsKICAgIENvbG9yMy5mcm9tUkdCKDI1NSwgMTgyLCAxOTMpLCAgLS0gTGlnaHQgUGluawogICAgQ29sb3IzLmZyb21SR0IoMjU1LCAyMCwgMTQ3KSwgICAtLSBEZWVwIFBpbmsKICAgIENvbG9yMy5mcm9tUkdCKDIxOSwgMTEyLCAxNDcpLCAgLS0gUGFsZSBWaW9sZXQgUmVkCiAgICBDb2xvcjMuZnJvbVJHQigyNTUsIDEwNSwgMTgwKSwKfQp0YXNrLnNwYXduKGZ1bmN0aW9uKCkKICAgIGxvY2FsIHZhcl9od2k1N3ggPSAxCiAgICB3aGlsZSB0cnVlIGRvCiAgICAgICAgbF9VSVN0cm9rZV8wLkNvbG9yID0gdjQ3MVt2NDcyXQogICAgICAgIHY0NzIgPSB2NDcyICUgI3Y0NzEgKyAxCiAgICAgICAgdGFzay53YWl0KDAuNCkKICAgIGVuZAplbmQpCmxvY2FsIHZhcl9hdHFwaTAgPSB0cnVlCmxvY2FsIHZhcl95d2dybXcgPSBuaWwKbG9jYWwgdmFyX2ZrOTU2cCA9IG5pbApsb2NhbCB2YXJfeWd5ZTRlID0gbmlsCmxvY2FsIHZhcl9wenA0OTIgPSBuaWwKbG9jYWwgdmFyXzBwMnNjNSB2NDgwKHY0NzgpCiAgICBsb2NhbCB2YXJfbDBlYmgyID0gdjQ3OC5Qb3NpdGlvbiAtIHY0NzYKICAgIGxfSW1hZ2VCdXR0b25fMC5Qb3NpdGlvbiA9IFVEaW0yLm5ldyh2NDc3LlguU2NhbGUsIHY0NzcuWC5PZmZzZXQgKyB2NDc5LlgsIHY0NzcuWS5TY2FsZSwgdjQ3Ny5ZLk9mZnNldCArIHY0NzkuWSkKZW5kCmxfSW1hZ2VCdXR0b25fMC5JbnB1dEJlZ2FuOkNvbm5lY3QoZnVuY3Rpb24odjQ4MSkKICAgIGlmIHY0ODEuVXNlcklucHV0VHlwZSA9PSBFbnVtLlVzZXJJbnB1dFR5cGUuVG91Y2ggb3IgdjQ4MS5Vc2VySW5wdXRUeXBlID09IEVudW0uVXNlcklucHV0VHlwZS5Nb3VzZUJ1dHRvbjEgdGhlbgogICAgICAgIHY0NzQgPSB0cnVlCiAgICAgICAgdjQ3NiA9IHY0ODEuUG9zaXRpb24KICAgICAgICB2NDc3ID0gbF9JbWFnZUJ1dHRvbl8wLlBvc2l0aW9uCiAgICAgICAgdjQ4MS5DaGFuZ2VkOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgICAgICAgICBpZiB2NDgxLlVzZXJJbnB1dFN0YXRlID09IEVudW0uVXNlcklucHV0U3RhdGUuRW5kIHRoZW4KICAgICAgICAgICAgICAgIHY0NzQgPSBmYWxzZQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCiAgICBlbmQKZW5kKQpsX0ltYWdlQnV0dG9uXzAuSW5wdXRDaGFuZ2VkOkNvbm5lY3QoZnVuY3Rpb24odjQ4MikKICAgIGlmIHY0ODIuVXNlcklucHV0VHlwZSA9PSBFbnVtLlVzZXJJbnB1dFR5cGUuVG91Y2ggb3IgdjQ4Mi5Vc2VySW5wdXRUeXBlID09IEVudW0uVXNlcklucHV0VHlwZS5Nb3VzZU1vdmVtZW50IHRoZW4KICAgICAgICB2NDc1ID0gdjQ4MgogICAgZW5kCmVuZCkKZ2FtZTpHZXRTZXJ2aWNlKCJVc2VySW5wdXRTZXJ2aWNlIikuSW5wdXRDaGFuZ2VkOkNvbm5lY3QoZnVuY3Rpb24odjQ4MykKICAgIGlmIHY0NzQgYW5kIHY0ODMgPT0gdjQ3NSB0aGVuCiAgICAgICAgdjQ4MCh2NDgzKQogICAgZW5kCmVuZCkKbF9JbWFnZUJ1dHRvbl8wLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgdjQ3MyA9IG5vdCB2NDczCiAgICBpZiB2NDczIHRoZW4KICAgICAgICB2NDY2Ok1pbmltaXplKGZhbHNlKQogICAgZWxzZQogICAgICAgIHY0NjY6TWluaW1pemUodHJ1ZSkKICAgIGVuZAplbmQpCmxvY2FsIHZhcl9tMTJ4bzIgPSB2NDY2Ok1ha2VUYWIoeyJUaFwxOTVcMTgwbmcgVGluIHwgSW5mbyIsInJieGFzc2V0aWQ6Ly8xMDA0NzIxNzc2NDc5OTMifSkKbG9jYWwgdmFyX2E1MnEzZiA9IHY0NjY6TWFrZVRhYih7IkZhcm1pbmciLCJyYnhhc3NldGlkOi8vMTAwNDcyMTc3NjQ3OTkzIn0pCmxvY2FsIHZhcl9iaXY3MDUgPSB2NDY2Ok1ha2VUYWIoeyJBdXRvIEZpc2hpbmciLCJyYnhhc3NldGlkOi8vMTAwNDcyMTc3NjQ3OTkzIn0pCmxvY2FsIHZhcl9wd2QyYnYgPSB2NDY2Ok1ha2VUYWIoeyJRdWVzdCB8IEl0ZW1zIiwicmJ4YXNzZXRpZDovLzEwMDQ3MjE3NzY0Nzk5MyJ9KQpsb2NhbCB2YXJfcDltZzRmID0gdjQ2NjpNYWtlVGFiKHsiVm9sY2FubyBEb2pvIiwicmJ4YXNzZXRpZDovLzEwMDQ3MjE3NzY0Nzk5MyJ9KQpsb2NhbCB2YXJfOWE5YjF2ID0gdjQ2NjpNYWtlVGFiKHsiU2VhIEV2ZW50IiwicmJ4YXNzZXRpZDovLzEwMDQ3MjE3NzY0Nzk5MyJ9KQpsb2NhbCB2YXJfenJyMDJtID0gdjQ2NjpNYWtlVGFiKHsiUmFjZSBWNCIsInJieGFzc2V0aWQ6Ly8xMDA0NzIxNzc2NDc5OTMifSkKbG9jYWwgdmFyX25mcTJhNyA9IHY0NjY6TWFrZVRhYih7IlJhaWQgRnJ1aXRzIiwicmJ4YXNzZXRpZDovLzEwMDQ3MjE3NzY0Nzk5MyJ9KQpsb2NhbCB2YXJfMTFlcTVmID0gdjQ2NjpNYWtlVGFiKHsiRnJ1aXRzIHwgQ2hlY2sgU3RvY2siLCJyYnhhc3NldGlkOi8vMTAwNDcyMTc3NjQ3OTkzIn0pCmxvY2FsIHZhcl90aWF6amEgPSB2NDY2Ok1ha2VUYWIoeyJUZWxlcG9ydCIsInJieGFzc2V0aWQ6Ly8xMDA0NzIxNzc2NDc5OTMifSkKbG9jYWwgdmFyX25jaDk1NCA9IHY0NjY6TWFrZVRhYih7IlB2UCxQbGF5ZXIiLCJyYnhhc3NldGlkOi8vMTAwNDcyMTc3NjQ3OTkzIn0pCmxvY2FsIHZhcl9qaGhybGMgPSB2NDY2Ok1ha2VUYWIoeyJTaG9wIiwicmJ4YXNzZXRpZDovLzEwMDQ3MjE3NzY0Nzk5MyJ9KQpsb2NhbCB2YXJfdG9uMHRlID0gdjQ2NjpNYWtlVGFiKHsiU2V0dGluZ3MiLCJyYnhhc3NldGlkOi8vMTAwNDcyMTc3NjQ3OTkzIn0pCnY0ODQ6QWRkRGlzY29yZEludml0ZSh7CiAgICBOYW1lID0gIlRoYW0gR2lhIERpc2NvcmQiLAogICAgRGVzY3JpcHRpb24gPSAiTGluayBTZXZlciBEaXNjb3JkIiwKICAgIExvZ28gPSAicmJ4YXNzZXRpZDovLzEwMDQ3MjE3NzY0Nzk5MyIsCiAgICBJbnZpdGUgPSAiIGh0dHBzOi8vZHNjLmdnL25vcGVybWMvIgp9KQpsb2NhbCB2YXJfbmZqMzlxID0gdjQ4NTpBZGRTZWN0aW9uKHsiU2VsZWN0IE1lbGVlLFN3b3JkLEd1bixGcnVpdCJ9KQpfRy5TZWxlY3RXZWFwb24gPSAiTWVsZWUiCnRhc2suc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgdGFzay53YWl0KCkgZG8KICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgIGlmIF9HLlNlbGVjdFdlYXBvbiB+PSAiTWVsZWUiIHRoZW4KICAgICAgICAgICAgICAgIGlmIF9HLlNlbGVjdFdlYXBvbiB+PSAiU3dvcmQiIHRoZW4KICAgICAgICAgICAgICAgICAgICBpZiBfRy5TZWxlY3RXZWFwb24gPT0gIkd1biIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgdjQ5OSBpbiBwYWlycyhnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQmFja3BhY2s6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHY0OTkuVG9vbFRpcCA9PSAiR3VuIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0cuU2VsZWN0V2VhcG9uID0gdjQ5OS5OYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZWxzZWlmIF9HLlNlbGVjdFdlYXBvbiA9PSAiRnJ1aXQiIG9yIF9HLlNlbGVjdFdlYXBvbiA9PSAiQmxveCBGcnVpdCIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgdjUwMSBpbiBwYWlycyhnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQmFja3BhY2s6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHY1MDEuVG9vbFRpcCA9PSAiQmxveCBGcnVpdCIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HLlNlbGVjdFdlYXBvbiA9IHY1MDEuTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIGZvciBfLCB2NTAzIGluIHBhaXJzKGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5CYWNrcGFjazpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBpZiB2NTAzLlRvb2xUaXAgPT0gIlN3b3JkIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfRy5TZWxlY3RXZWFwb24gPSB2NTAzLk5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgZm9yIF8sIHY1MDUgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkJhY2twYWNrOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgaWYgdjUwNS5Ub29sVGlwID09ICJNZWxlZSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBfRy5TZWxlY3RXZWFwb24gPSB2NTA1Lk5hbWUKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCiAgICBlbmQKZW5kKQpsb2NhbCB2YXJfNzF1djFuID0gdjQ4NTpBZGREcm9wZG93bih7CiAgICBOYW1lID0gIkNoXDIyNVwxODdcMTQxbiBDXDE5NVwxODBuZyBDXDIyNVwxODdcMTY1IiwKICAgIERlc2NyaXB0aW9uID0gIkNoXDIyNVwxODdcMTQxbiBjXDE5NVwxODBuZyBjXDIyNVwxODdcMTY1IGJcMjI1XDE4NlwxNjFuIG11XDIyNVwxODdcMTQ1biBzXDIyNVwxODdcMTczIGRcMjI1XDE4N1wxNjVuZyIsCiAgICBPcHRpb25zID0geyJNZWxlZSIsICJTd29yZCIsICJHdW4iLCAiQmxveCBGcnVpdCJ9LAogICAgRGVmYXVsdCA9ICJNZWxlZSIsCiAgICBGbGFnID0gIldlYXBvblR5cGUiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2NTA2KQogICAgICAgIF9HLlNlbGVjdFdlYXBvbiA9IHY1MDYKICAgIGVuZAp9KQpsb2NhbCB2YXJfbnl2ZHB0ID0gdjQ4NTpBZGRTZWN0aW9uKHsiTWFpbiBGYXJtIn0pCnY0ODU6QWRkVG9nZ2xlKHsKICAgIE5hbWUgPSAiQXV0byBGYXJtIExldmVsIDEtMjY1MCIsCiAgICBEZXNjcmlwdGlvbiA9ICJUXDIyNVwxODdcMTc3IFwxOTZcMTQ1XDIyNVwxODdcMTUzbmcgZmFybSBjXDIyNVwxODZcMTY1cCIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY1MDkpCiAgICAgICAgX0cuQXV0b0Zhcm0gPSB2NTA5CiAgICAgICAgU3RvcFR3ZWVuKF9HLkF1dG9GYXJtKQogICAgZW5kCn0pCnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHRhc2sud2FpdCgpIGRvCiAgICAgICAgaWYgX0cuQXV0b0Zhcm0gdGhlbgogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBsb2NhbCB2YXJfYzNvNzN0ID0gZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuUGxheWVyR3VpLk1haW4uUXVlc3QuQ29udGFpbmVyLlF1ZXN0VGl0bGUuVGl0bGUuVGV4dAogICAgICAgICAgICAgICAgQ2hlY2tRdWVzdCgpCiAgICAgICAgICAgICAgICBpZiBub3Qgc3RyaW5nLmZpbmQobF9UZXh0XzAsIE5hbWVNb24pIHRoZW4KICAgICAgICAgICAgICAgICAgICBTdGFydEJyaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJBYmFuZG9uUXVlc3QiKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBpZiBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5QbGF5ZXJHdWkuTWFpbi5RdWVzdC5WaXNpYmxlIH49IGZhbHNlIHRoZW4KICAgICAgICAgICAgICAgICAgICBpZiBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5QbGF5ZXJHdWkuTWFpbi5RdWVzdC5WaXNpYmxlID09IHRydWUgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBpZiBub3Qgc3RyaW5nLmZpbmQobF9UZXh0XzAsICJraXNzZWQiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoTW9uKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHY1MTIgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHY1MTI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBhbmQgdjUxMjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKSBhbmQgdjUxMi5IdW1hbm9pZC5IZWFsdGggPiAwIGFuZCB2NTEyLk5hbWUgPT0gTW9uIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCBzdHJpbmcuZmluZChsX1RleHRfMCwgTmFtZU1vbikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXJ0QnJpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkFiYW5kb25RdWVzdCIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVxdWlwV2VhcG9uKF9HLlNlbGVjdFdlYXBvbikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0b0hha2koKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQb3NNb24gPSB2NTEyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKHY1MTIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDAsIDMwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjUxMi5IdW1hbm9pZFJvb3RQYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NTEyLkh1bWFub2lkLldhbGtTcGVlZCA9IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjUxMi5IZWFkLkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NTEyLkh1bWFub2lkUm9vdFBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KDcwLCA3MCwgNzApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXJ0QnJpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbkZhcm0gPSB2NTEyLk5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsVXNlciIpOkNhcHR1cmVDb250cm9sbGVyKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsVXNlciIpOkJ1dHRvbjFEb3duKFZlY3RvcjIubmV3KDEyODAsIDY3MikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW50aWwgbm90IF9HLkF1dG9GYXJtIG9yIHY1MTIuSHVtYW5vaWQuSGVhbHRoIDw9IDAgb3Igbm90IHY1MTIuUGFyZW50IG9yIGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLlBsYXllckd1aS5NYWluLlF1ZXN0LlZpc2libGUgPT0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUUDEoQ0ZyYW1lTW9uKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXJ0QnJpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKTpGaW5kRmlyc3RDaGlsZChNb24pIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVFAxKGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKTpGaW5kRmlyc3RDaGlsZChNb24pLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldygwLCAyMCwgMCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHY1MTQgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgc3RyaW5nLmZpbmQodjUxNC5OYW1lLCAia2lzc2VkIFdhcnJpb3IiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHY1MTQ6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBhbmQgdjUxNDpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKSBhbmQgdjUxNC5IdW1hbm9pZC5IZWFsdGggPiAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHN0cmluZy5maW5kKGxfVGV4dF8wLCBOYW1lTW9uKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVxdWlwV2VhcG9uKF9HLlNlbGVjdFdlYXBvbikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUG9zTW9uID0gdjUxNC5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3Bvcyh2NTE0Lkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldygwLCAzMCwgMCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY1MTQuSHVtYW5vaWRSb290UGFydC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjUxNC5IdW1hbm9pZC5XYWxrU3BlZWQgPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY1MTQuSGVhZC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjUxNC5IdW1hbm9pZFJvb3RQYXJ0LlNpemUgPSBWZWN0b3IzLm5ldyg3MCwgNzAsIDcwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGFydEJyaW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb25GYXJtID0gdjUxNC5OYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiVmlydHVhbFVzZXIiKTpDYXB0dXJlQ29udHJvbGxlcigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiVmlydHVhbFVzZXIiKTpCdXR0b24xRG93bihWZWN0b3IyLm5ldygxMjgwLCA2NzIpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsIG5vdCBfRy5BdXRvRmFybSBvciB2NTE0Lkh1bWFub2lkLkhlYWx0aCA8PSAwIG9yIG5vdCB2NTE0LlBhcmVudCBvciBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5QbGF5ZXJHdWkuTWFpbi5RdWVzdC5WaXNpYmxlID09IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhcnRCcmluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQWJhbmRvblF1ZXN0IikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRQMShDRnJhbWVNb24pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXJ0QnJpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6RmluZEZpcnN0Q2hpbGQoTW9uKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUUDEoZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOkZpbmRGaXJzdENoaWxkKE1vbikuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDAsIDIwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgU3RhcnRCcmluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgaWYgQnlwYXNzVFAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gQ0ZyYW1lUXVlc3QuUG9zaXRpb24pLk1hZ25pdHVkZSA8PSAxNTAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRQMShDRnJhbWVRdWVzdCkKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgVFAxKENGcmFtZVF1ZXN0KQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIFRQMShDRnJhbWVRdWVzdCkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gQ0ZyYW1lUXVlc3QuUG9zaXRpb24pLk1hZ25pdHVkZSA8PSAyMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIlN0YXJ0UXVlc3QiLCBOYW1lUXVlc3QsIExldmVsUXVlc3QpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCmVuZCkKdjQ4NTpBZGRUb2dnbGUoewogICAgVGl0bGUgPSAiRmFybSBMZXZlbCBOZXcgMjY1MCAtIDI3NTAiLAogICAgRGVzY3JpcHRpb24gPSAiQ1wxOTVcMTYweSBDXDIyNVwxODZcMTY1cCBcMjI1XDE4N1wxNTggXDE5NlwxNDRcMjI1XDE4NlwxNjNvIE1cMjI1XDE4N1wxNTVpIiwKICAgIFZhbHVlID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY1MTUpCiAgICAgICAgX0cuQXV0b0Zhcm1MZXZlbE5ldyA9IHY1MTUKICAgICAgICBTdG9wVHdlZW4oX0cuQXV0b0Zhcm1MZXZlbE5ldykKICAgIGVuZAp9KQpmdW5jdGlvbiBDaGVja1F1ZXN0TmV3KCkKICAgIGxvY2FsIHZhcl9nYXp3bzggPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuRGF0YS5MZXZlbC5WYWx1ZQogICAgaWYgbF9WYWx1ZV8wID49IDI2MDAgYW5kIGxfVmFsdWVfMCA8PSAyNjI0IHRoZW4KICAgICAgICBNb25OZXcgPSAiUmVlZiBCYW5kaXQiCiAgICAgICAgTGV2ZWxRdWVzdE5ldyA9IDEKICAgICAgICBOYW1lUXVlc3ROZXcgPSAiU3VibWVyZ2VkUXVlc3QxIgogICAgICAgIE5hbWVNb25OZXcgPSAiUmVlZiBCYW5kaXQiCiAgICAgICAgQ0ZyYW1lUXVlc3ROZXcgPSBDRnJhbWUubmV3KDEwODgyLjI2NCwgLTIwODYuMzIyLCAxMDAzNC4yMjYpCiAgICAgICAgQ0ZyYW1lTW9uTmV3ID0gQ0ZyYW1lLm5ldygxMDczNi42MTkxLCAtMjA4Ny44NDM5LCA5MzM4LjQ4ODIpCiAgICBlbHNlaWYgbF9WYWx1ZV8wIDwgMjYyNSBvciBsX1ZhbHVlXzAgPiAyNjQ5IHRoZW4KICAgICAgICBpZiBsX1ZhbHVlXzAgPj0gMjY1MCBhbmQgbF9WYWx1ZV8wIDw9IDI2NzQgdGhlbgogICAgICAgICAgICBNb25OZXcgPSAiU2VhIENoYW50ZXIiCiAgICAgICAgICAgIExldmVsUXVlc3ROZXcgPSAxCiAgICAgICAgICAgIE5hbWVRdWVzdE5ldyA9ICJTdWJtZXJnZWRRdWVzdDIiCiAgICAgICAgICAgIE5hbWVNb25OZXcgPSAiU2VhIENoYW50ZXIiCiAgICAgICAgICAgIENGcmFtZVF1ZXN0TmV3ID0gQ0ZyYW1lLm5ldygxMDg4Mi4yNjQsIC0yMDg2LjMyMiwgMTAwMzQuMjI2KQogICAgICAgICAgICBDRnJhbWVNb25OZXcgPSBDRnJhbWUubmV3KDEwNjIxLjAzNDIsIC0yMDg3Ljg0NCwgMTAxMDIuMDMzMikKICAgICAgICBlbHNlaWYgbF9WYWx1ZV8wID49IDI2NzUgYW5kIGxfVmFsdWVfMCA8PSAyNzUwIHRoZW4KICAgICAgICAgICAgTW9uTmV3ID0gIk9jZWFuIFByb3BoZXQiCiAgICAgICAgICAgIExldmVsUXVlc3ROZXcgPSAyCiAgICAgICAgICAgIE5hbWVRdWVzdE5ldyA9ICJTdWJtZXJnZWRRdWVzdDIiCiAgICAgICAgICAgIE5hbWVNb25OZXcgPSAiT2NlYW4gUHJvcGhldCIKICAgICAgICAgICAgQ0ZyYW1lUXVlc3ROZXcgPSBDRnJhbWUubmV3KDEwODgyLjI2NCwgLTIwODYuMzIyLCAxMDAzNC4yMjYpCiAgICAgICAgICAgIENGcmFtZU1vbk5ldyA9IENGcmFtZS5uZXcoMTEwNTYuMTQ0NSwgLTIwMDEuNjcxNywgMTAxMTcuNDQ5MykKICAgICAgICBlbmQKICAgIGVsc2UKICAgICAgICBNb25OZXcgPSAiQ29yYWwgUGlyYXRlIgogICAgICAgIExldmVsUXVlc3ROZXcgPSAyCiAgICAgICAgTmFtZVF1ZXN0TmV3ID0gIlN1Ym1lcmdlZFF1ZXN0MSIKICAgICAgICBOYW1lTW9uTmV3ID0gIkNvcmFsIFBpcmF0ZSIKICAgICAgICBDRnJhbWVRdWVzdE5ldyA9IENGcmFtZS5uZXcoMTA4ODIuMjY0LCAtMjA4Ni4zMjIsIDEwMDM0LjIyNikKICAgICAgICBDRnJhbWVNb25OZXcgPSBDRnJhbWUubmV3KDEwOTY1LjEwMjUsIC0yMTU4Ljg4NDIsIDkxNzcuMjU5NykKICAgIGVuZAplbmQKc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgdGFzay53YWl0KCkgZG8KICAgICAgICBpZiBfRy5BdXRvRmFybUxldmVsTmV3IHRoZW4KICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgbG9jYWwgdmFyXzJkc3NwbSA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLlBsYXllckd1aS5NYWluLlF1ZXN0CiAgICAgICAgICAgICAgICBDaGVja1F1ZXN0TmV3KCkKICAgICAgICAgICAgICAgIGlmIGxfUXVlc3RfMC5WaXNpYmxlID09IGZhbHNlIHRoZW4KICAgICAgICAgICAgICAgICAgICBTdGFydEJyaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gQ0ZyYW1lUXVlc3ROZXcuUG9zaXRpb24pLk1hZ25pdHVkZSA+IDIwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgVFAxKENGcmFtZVF1ZXN0TmV3KQogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiU3RhcnRRdWVzdCIsIE5hbWVRdWVzdE5ldywgTGV2ZWxRdWVzdE5ldykKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBmb3IgXywgdjUxOSBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgaWYgdjUxOS5OYW1lID09IE1vbk5ldyBhbmQgdjUxOTpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIGFuZCB2NTE5OkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpIGFuZCB2NTE5Lkh1bWFub2lkLkhlYWx0aCA+IDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbm90IHN0cmluZy5maW5kKGxfUXVlc3RfMC5Db250YWluZXIuUXVlc3RUaXRsZS5UaXRsZS5UZXh0LCBOYW1lTW9uTmV3KSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhcnRCcmluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQWJhbmRvblF1ZXN0IikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXF1aXBXZWFwb24oX0cuU2VsZWN0V2VhcG9uKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRvSGFraSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKHY1MTkuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDAsIDMwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjUxOS5IdW1hbm9pZFJvb3RQYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NTE5Lkh1bWFub2lkLldhbGtTcGVlZCA9IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjUxOS5IZWFkLkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NTE5Lkh1bWFub2lkUm9vdFBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KDcwLCA3MCwgNzApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXJ0QnJpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbkZhcm1OZXcgPSB2NTE5Lk5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsVXNlciIpOkNhcHR1cmVDb250cm9sbGVyKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsVXNlciIpOkJ1dHRvbjFEb3duKFZlY3RvcjIubmV3KDEyODAsIDY3MikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW50aWwgbm90IF9HLkF1dG9GYXJtTGV2ZWxOZXcgb3IgdjUxOS5IdW1hbm9pZC5IZWFsdGggPD0gMCBvciBub3QgdjUxOS5QYXJlbnQgb3IgbF9RdWVzdF8wLlZpc2libGUgPT0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBpZiBub3QgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKE1vbk5ldykgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBUUDEoQ0ZyYW1lTW9uTmV3KQogICAgICAgICAgICAgICAgICAgICAgICBTdGFydEJyaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kKQp2NDg1OkFkZFRvZ2dsZSh7CiAgICBOYW1lID0gIkF1dG8gS2lsbCBOZWFyIHwgTW9iIEF1cmEiLAogICAgRGVzY3JpcHRpb24gPSAiXDE5NlwxNDRcMTk1XDE2MW5oIFF1XDE5NVwxNjFpIEdcMjI1XDE4NlwxNjduIiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjUyMCkKICAgICAgICBfRy5BdXRvTmVhciA9IHY1MjAKICAgICAgICBTdG9wVHdlZW4oX0cuQXV0b05lYXIpCiAgICBlbmQKfSkKc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgaWYgX0cuQXV0b05lYXIgdGhlbgogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBmb3IgXywgdjUyMiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZS5FbmVtaWVzOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgaWYgdjUyMjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKSBhbmQgdjUyMjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIGFuZCB2NTIyLkh1bWFub2lkLkhlYWx0aCA+IDAgYW5kIChnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSB2NTIyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLk1hZ25pdHVkZSA8PSA1MDAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0KF9HLkZhc3RfRGVsYXkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGFydEJyaW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0b0hha2koKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgRXF1aXBXZWFwb24oX0cuU2VsZWN0V2VhcG9uKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3ModjUyMi5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoMCwgMzAsIDApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjUyMi5IdW1hbm9pZFJvb3RQYXJ0LlNpemUgPSBWZWN0b3IzLm5ldyg2MCwgNjAsIDYwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjUyMi5IdW1hbm9pZFJvb3RQYXJ0LlRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY1MjIuSHVtYW5vaWQuSnVtcFBvd2VyID0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjUyMi5IdW1hbm9pZC5XYWxrU3BlZWQgPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NTIyLkh1bWFub2lkUm9vdFBhcnQuQ2FuQ29sbGlkZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGYXJtUG9zID0gdjUyMi5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9uRmFybSA9IHY1MjIuTmFtZQogICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCBub3QgX0cuQXV0b05lYXIgb3Igbm90IHY1MjIuUGFyZW50IG9yIHY1MjIuSHVtYW5vaWQuSGVhbHRoIDw9IDAgb3Igbm90IGdhbWUuV29ya3NwYWNlLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQodjUyMi5OYW1lKQogICAgICAgICAgICAgICAgICAgICAgICBTdGFydEJyaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kKQpsb2NhbCB2YXJfYXIxNnIxID0gdjQ4NTpBZGRTZWN0aW9uKHsiRmFybSBTdW1tZXIgVG9rZW4gTmV3In0pCnY0ODU6QWRkVG9nZ2xlKHsKICAgIE5hbWUgPSAiQXV0byBGYXJtIFN1bW1lciBUb2tlbiIsCiAgICBEZXNjcmlwdGlvbiA9ICJUXDIyNVwxODdcMTc3IFwxOTZcMTQ0XDIyNVwxODdcMTUzbmcgRGkgQ2h1eVwyMjVcMTg3XDEzMW4gXDE5NlwxNDRcMjI1XDE4NlwxOTFuIFZcMjI1XDE4N1wxMzkgVHJcMTk1XDE3MyBTdW1tZXIgVG9rZW4gVGhlbyBTZWEgVlwxOTVcMTYwIEZhcm0gUXVcMTk1XDE2MWkgW0VsZWN0cmlmaWVkXSIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY1MjQpCiAgICAgICAgX0cuRmFybVN1bW1lciA9IHY1MjQKICAgICAgICBTdG9wVHdlZW4oX0cuRmFybVN1bW1lcikKICAgIGVuZAp9KQpsb2NhbCB2YXJfb2V0NHlsIHY1MjcodjUyNSkKICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICBpZiB0eXBlKHRvcG9zKSB+PSAiZnVuY3Rpb24iIHRoZW4KICAgICAgICAgICAgbG9jYWwgdmFyX2oyaWhzdyA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyCiAgICAgICAgICAgIGlmIGxfTG9jYWxQbGF5ZXJfNSBhbmQgbF9Mb2NhbFBsYXllcl81LkNoYXJhY3RlciBhbmQgbF9Mb2NhbFBsYXllcl81LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIHRoZW4KICAgICAgICAgICAgICAgIGxfTG9jYWxQbGF5ZXJfNS5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgPSB2NTI1CiAgICAgICAgICAgIGVuZAogICAgICAgIGVsc2UKICAgICAgICAgICAgdG9wb3ModjUyNSkKICAgICAgICBlbmQKICAgIGVuZCkKZW5kCmxvY2FsIHZhcl93aWd0anIgdjUzMCgpCiAgICBsb2NhbCB2YXJfN2w3dXZoID0gZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIKICAgIGxvY2FsIHZhcl8wNTU4a3ogPSBnYW1lLlBsYWNlSWQKICAgIGlmIGxfUGxhY2VJZF8yIH49IDg1MjExNzI5MTY4NzE1IHRoZW4KICAgICAgICBpZiBsX1BsYWNlSWRfMiB+PSA3OTA5MTcwMzI2NTY1NyB0aGVuCiAgICAgICAgICAgIGlmIGxfUGxhY2VJZF8yID09IDEwMDExNzMzMTEyMzA4OSB0aGVuCiAgICAgICAgICAgICAgICByZXR1cm4gQ0ZyYW1lLm5ldygtMTAzMzQuODIxLCAzOTAuODM3LCAtODU3Mi4zMDEpCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHJldHVybiBuaWwKICAgICAgICAgICAgZW5kCiAgICAgICAgZWxzZQogICAgICAgICAgICByZXR1cm4gQ0ZyYW1lLm5ldygtNTI0Ni40NzgsIDY2LjM4MSwgLTYwMTUuNDgpCiAgICAgICAgZW5kCiAgICBlbHNlCiAgICAgICAgcmV0dXJuIENGcmFtZS5uZXcoOTI0LjQwNSwgNi4zNjYsIDQ0NzYuNzI3KQogICAgZW5kCmVuZApzcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB0YXNrLndhaXQoKSBkbwogICAgICAgIGlmIF9HLkZhcm1TdW1tZXIgdGhlbgogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBsb2NhbCB2YXJfMzVlOGpnID0gdjUzMCgpCiAgICAgICAgICAgICAgICBpZiB2NTMxIHRoZW4KICAgICAgICAgICAgICAgICAgICB2NTI3KHY1MzEgKyBWZWN0b3IzLm5ldygwLCA1MCwgMCkpCiAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHY1MzMgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2UuRW5lbWllczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfZ2NwbzEzID0gdjUzMzpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKQogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfbXJnd2w0ID0gdjUzMzpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxfSHVtYW5vaWRfMCBhbmQgbF9IdW1hbm9pZFJvb3RQYXJ0XzQgYW5kIGxfSHVtYW5vaWRfMC5IZWFsdGggPiAwIGFuZCBsX0h1bWFub2lkXzAuRGlzcGxheU5hbWU6ZmluZCgiJVtFbGVjdHJpZmllZCVdIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRvSGFraSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXF1aXBXZWFwb24oX0cuU2VsZWN0V2VhcG9uKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxfSHVtYW5vaWRSb290UGFydF80LkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxfSHVtYW5vaWRfMC5XYWxrU3BlZWQgPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdjUzMzpGaW5kRmlyc3RDaGlsZCgiSGVhZCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjUzMy5IZWFkLkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY1MjcobF9IdW1hbm9pZFJvb3RQYXJ0XzQuQ0ZyYW1lICogQ0ZyYW1lLm5ldygwLCAzMCwgMCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsVXNlciIpOkNhcHR1cmVDb250cm9sbGVyKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxVc2VyIik6QnV0dG9uMURvd24oVmVjdG9yMi5uZXcoMTI4MCwgNjcyKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsIG5vdCBfRy5GYXJtU3VtbWVyIG9yIG5vdCB2NTMzLlBhcmVudCBvciBsX0h1bWFub2lkXzAuSGVhbHRoIDw9IDAKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCmVuZCkKbG9jYWwgdmFyXzdmZHZuaCA9IHY0ODU6QWRkU2VjdGlvbih7IkV2ZW50IEJvc3MgUGFpbiBOZXcifSkKbG9jYWwgdmFyX2Q2bmY2YiA9IHt9CmlmIFdvcmxkMSB0aGVuCiAgICB2NTM3ID0gewogICAgICAgICJUaGUgR29yaWxsYSBLaW5nIiwKICAgICAgICAiQm9iYnkiLAogICAgICAgICJZZXRpIiwKICAgICAgICAiTW9iIExlYWRlciIsCiAgICAgICAgIlZpY2UgQWRtaXJhbCIsCiAgICAgICAgIldhcmRlbiIsCiAgICAgICAgIkNoaWVmIFdhcmRlbiIsCiAgICAgICAgIlN3YW4iLAogICAgICAgICJNYWdtYSBBZG1pcmFsIiwKICAgICAgICAiRmlzaG1hbiBMb3JkIiwKICAgICAgICAiV3lzcGVyIiwKICAgICAgICAiVGh1bmRlciBHb2QiLAogICAgICAgICJDeWJvcmciLAogICAgICAgICJTYWJlciBFeHBlcnQiCiAgICB9CmVsc2VpZiBXb3JsZDIgdGhlbgogICAgdjUzNyA9IHsKICAgICAgICAiRGlhbW9uZCIsCiAgICAgICAgIkplcmVteSIsCiAgICAgICAgIkZhaml0YSIsCiAgICAgICAgIkRvbiBTd2FuIiwKICAgICAgICAiU21va2UgQWRtaXJhbCIsCiAgICAgICAgIkN1cnNlZCBDYXB0YWluIiwKICAgICAgICAiRGFya2JlYXJkIiwKICAgICAgICAiT3JkZXIiLAogICAgICAgICJBd2FrZW5lZCBJY2UgQWRtaXJhbCIsCiAgICAgICAgIlRpZGUgS2VlcGVyIgogICAgfQplbHNlaWYgV29ybGQzIHRoZW4KICAgIHY1MzcgPSB7CiAgICAgICAgIiIsCiAgICAgICAgIlN0b25lIiwKICAgICAgICAiSXNsYW5kIEVtcHJlc3MiLAogICAgICAgICJIeWRyYSBMZWFkZXIiLAogICAgICAgICJLaWxvIEFkbWlyYWwiLAogICAgICAgICJDYXB0YWluIEVsZXBoYW50IiwKICAgICAgICAiQmVhdXRpZnVsIFBpcmF0ZSIsCiAgICAgICAgInJpcF9pbmRyYSBUcnVlIEZvcm0iLAogICAgICAgICJMb25nbWEiLAogICAgICAgICJTb3VsIFJlYXBlciIsCiAgICAgICAgIkNha2UgUXVlZW4iCiAgICB9CmVuZAp2NDg1OkFkZERyb3Bkb3duKHsKICAgIE5hbWUgPSAiQXV0byBTZWxlY3QgQm9zcyIsCiAgICBEZXNjcmlwdGlvbiA9ICJDaFwyMjVcMTg3XDE0MW4gQm9zcyBDXDIyNVwxODZcMTY3biBGYXJtIiwKICAgIE9wdGlvbnMgPSB2NTM3LAogICAgRGVmYXVsdCA9IHY1MzdbMV0sCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY1MzgpCiAgICAgICAgX0cuU2VsZWN0Qm9zcyA9IHY1MzgKICAgIGVuZAp9KQp2NDg1OkFkZFRvZ2dsZSh7CiAgICBOYW1lID0gIkZhcm0gQm9zcyBQYWluIiwKICAgIERlc2NyaXB0aW9uID0gIkZhcm0gQm9zcyBcMTk2XDE0NFwxOTVcMTYzIENoXDIyNVwxODdcMTQxbiIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY1MzkpCiAgICAgICAgX0cuQm9zc1BhaW4gPSB2NTM5CiAgICAgICAgU3RvcFR3ZWVuKF9HLkJvc3NQYWluKQogICAgZW5kCn0pCnRhc2suc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgdGFzay53YWl0KCkgZG8KICAgICAgICBpZiBfRy5Cb3NzUGFpbiBhbmQgX0cuU2VsZWN0Qm9zcyB0aGVuCiAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGlmIG5vdCBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoX0cuU2VsZWN0Qm9zcykgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKTpGaW5kRmlyc3RDaGlsZChfRy5TZWxlY3RCb3NzKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKTpGaW5kRmlyc3RDaGlsZChfRy5TZWxlY3RCb3NzKS5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoNSwgMTAsIDIpKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIGZvciBfLCB2NTQxIGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBpZiB2NTQxLk5hbWUgPT0gX0cuU2VsZWN0Qm9zcyBhbmQgdjU0MTpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKSBhbmQgdjU0MTpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIGFuZCB2NTQxLkh1bWFub2lkLkhlYWx0aCA+IDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRvSGFraSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXF1aXBXZWFwb24oX0cuU2VsZWN0V2VhcG9uKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY1NDEuSHVtYW5vaWRSb290UGFydC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NTQxLkh1bWFub2lkLldhbGtTcGVlZCA9IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NTQxLkh1bWFub2lkUm9vdFBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KDgwLCA4MCwgODApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3ModjU0MS5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoMCwgMzAsIDApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGhpZGRlbnByb3BlcnR5KGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLCAiU2ltdWxhdGlvblJhZGl1cyIsIG1hdGguaHVnZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsIG5vdCBfRy5Cb3NzUGFpbiBvciBub3QgdjU0MS5QYXJlbnQgb3IgdjU0MS5IdW1hbm9pZC5IZWFsdGggPD0gMAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kKQpsb2NhbCB2YXJfeGVvcnZ1ID0gdjQ4NTpBZGRTZWN0aW9uKHsiQXV0b1JhaWRQaXJhdGUifSkKdjQ4NTpBZGRUb2dnbGUoewogICAgTmFtZSA9ICJGYXJtIFBpcmF0ZSIsCiAgICBEZXNjcmlwdGlvbiA9ICJcMTk2XDE0NFwxOTVcMTYxbmggSFwyMjVcMTg2XDE2M2kgVFwyMjVcMTg2XDE4M2MgVHJcMTk1XDE3MG4gUGhcMTk1XDE2MW8gXDE5NlwxNDRcMTk1XDE2MGkgQmlcMjI1XDE4N1wxMzFuIiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjU0MykKICAgICAgICBfRy5BdXRvUmFpZFBpcmF0ZSA9IHY1NDMKICAgICAgICBTdG9wVHdlZW4oX0cuQXV0b1JhaWRQaXJhdGUpCiAgICBlbmQKfSkKc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgaWYgX0cuQXV0b1JhaWRQaXJhdGUgdGhlbgogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBsb2NhbCB2YXJfZDh0enhyID0gQ0ZyYW1lLm5ldygtNTQ5Ni4xNzQzMiwgMzEzLjc2ODkyMSwgLTI4NDEuNTMwMjcsIDAuOTI0ODk0NTEyLCA3LjM3MDU4MDE1RS05LCAwLjM4MDIyMzc1MSwgMy41ODgxMDE5RS04LCAxLCAtMS4wNjY2NTQ0NkUtNywgLTAuMzgwMjIzNzUxLCAxLjEyMjk3MTA5RS03LCAwLjkyNDg5NDUxMikKICAgICAgICAgICAgICAgIGlmIChDRnJhbWUubmV3KC01NTM5LjMxMTUyMzQzNzUsIDMxMy44MDA1MzcxMDkzNzUsIC0yOTcyLjM3MjMxNDQ1MzEyNSkuUG9zaXRpb24gLSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLk1hZ25pdHVkZSA8PSA1MDAgdGhlbgogICAgICAgICAgICAgICAgICAgIGZvciBfLCB2NTQ2IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBpZiBfRy5BdXRvUmFpZFBpcmF0ZSBhbmQgdjU0NjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIGFuZCB2NTQ2OkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpIGFuZCB2NTQ2Lkh1bWFub2lkLkhlYWx0aCA+IDAgYW5kICh2NTQ2Lkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLk1hZ25pdHVkZSA8IDIwMDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0b0hha2koKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVxdWlwV2VhcG9uKF9HLlNlbGVjdFdlYXBvbikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOZWVkQXR0YWNraW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXJ0TWFnbmV0ID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY1NDYuSHVtYW5vaWRSb290UGFydC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NTQ2Lkh1bWFub2lkUm9vdFBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KDYwLCA2MCwgNjApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3ModjU0Ni5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoMCwgMzAsIDApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdW50aWwgdjU0Ni5IdW1hbm9pZC5IZWFsdGggPD0gMCBvciBub3QgdjU0Ni5QYXJlbnQgb3IgX0cuQXV0b1JhaWRQaXJhdGUgPT0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5lZWRBdHRhY2tpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhcnRNYWduZXQgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVsc2VpZiAodjU0NC5Qb3NpdGlvbiAtIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikubWFnbml0dWRlIDw9IDE1MDAgdGhlbgogICAgICAgICAgICAgICAgICAgIFRQMSh2NTQ0KQogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIFRQMSh2NTQ0KQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbmQKICAgIGVuZAplbmQpCmxvY2FsIHZhcl9mbHE3OG4gPSB2NDg1OkFkZFNlY3Rpb24oeyJUeXJhbnRvZnRoZVNraWVzIn0pCmxvY2FsIHZhcl90N3ppZ2UgPSB2NDg1OkFkZFBhcmFncmFwaCh7VGl0bGUgPSAiQ2hlY2sgRXllcyBTdGF0dXMiLCBDb250ZW50ID0gIkxvYWRpbmcuLi4ifSkKdGFzay5zcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB0YXNrLndhaXQoMSkgZG8KICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgIGxvY2FsIHZhcl90MW96NjYgPSAwCiAgICAgICAgICAgIGxvY2FsIHZhcl9zMjRyMXUgPSB7CiAgICAgICAgICAgICAgICB3b3Jrc3BhY2UuTWFwLlRpa2lPdXRwb3N0LklzbGFuZE1vZGVsOkZpbmRGaXJzdENoaWxkKCJFeWUxIiksCiAgICAgICAgICAgICAgICB3b3Jrc3BhY2UuTWFwLlRpa2lPdXRwb3N0LklzbGFuZE1vZGVsOkZpbmRGaXJzdENoaWxkKCJFeWUyIiksCiAgICAgICAgICAgICAgICB3b3Jrc3BhY2UuTWFwLlRpa2lPdXRwb3N0LklzbGFuZE1vZGVsOkZpbmRGaXJzdENoaWxkKCJFeWUzIiksCiAgICAgICAgICAgICAgICB3b3Jrc3BhY2UuTWFwLlRpa2lPdXRwb3N0LklzbGFuZE1vZGVsOkZpbmRGaXJzdENoaWxkKCJFeWU0IikKICAgICAgICAgICAgfQogICAgICAgICAgICBmb3IgXywgdjU1MiBpbiBpcGFpcnModjU1MCkgZG8KICAgICAgICAgICAgICAgIGlmIHY1NTIgYW5kIHY1NTI6SXNBKCJCYXNlUGFydCIpIGFuZCB2NTUyLlRyYW5zcGFyZW5jeSA9PSAwIHRoZW4KICAgICAgICAgICAgICAgICAgICB2NTQ5ID0gdjU0OSArIDEKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICAgICAgdjU0ODpTZXQoIlN0YXR1czogIiAuLiB2NTQ5IC4uICIgRXllKHMpIiAuLiAobm90ICh2NTQ5IH49IDQpIGFuZCAiIFwyMzdcMTYwXDE4OVwyMzdcMTkxXDE2MiIgb3IgIiIpKQogICAgICAgIGVuZCkKICAgIGVuZAplbmQpCnY0ODU6QWRkVG9nZ2xlKHsKICAgIE5hbWUgPSAiQXV0byBGYXJtIFR5cmFudCIsCiAgICBEZXNjcmlwdGlvbiA9ICJGYXJtIFF1XDE5NVwxNjFpIFZcMTk1XDE2MCBcMTk2XDE0NFwxOTVcMTYxbmggQm9zcyBDaGltIiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjU1MykKICAgICAgICBfRy5GYXJtRGFpQmFuID0gdjU1MwogICAgICAgIFN0b3BUd2VlbihfRy5GYXJtRGFpQmFuKQogICAgZW5kCn0pCmxvY2FsIHZhcl80aXlteDEgPSBDRnJhbWUubmV3KC0xNjE5NC4wMDQ4ODI4MTI1LCAxNTUuMjE4NDQ0ODI0MjE4NzUsIDE0MjAuNzE5OTcwNzAzMTI1KQpsb2NhbCB2YXJfcjllamN0ID0gZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzCnRhc2suc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgdGFzay53YWl0KCkgZG8KICAgICAgICBpZiBfRy5GYXJtRGFpQmFuIHRoZW4KICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgaWYgbm90IGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpGaW5kRmlyc3RDaGlsZCgiVHlyYW50IG9mIHRoZSBTa2llcyIpIHRoZW4KICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfZTE1YjhvID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICBmb3IgXywgdjU1OCBpbiBwYWlycyh7IklzbGUgT3V0bGF3IiwgIklzbGFuZCBCb3kiLCAiSXNsZSBDaGFtcGlvbiIsICJTZXJwZW50IEh1bnRlciIsICJTa3VsbCBTbGF5ZXIifSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgaWYgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKHY1NTgpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY1NTYgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBpZiBub3QgdjU1NiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl8xYmxmYW0gPSBtYXRoLnJhbmRvbSgxLCAzKQogICAgICAgICAgICAgICAgICAgICAgICBpZiB2NTU5ID09IDEgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MoQ0ZyYW1lLm5ldygtMTQzNi44NjAxMSwgMTY3Ljc1MzYxNiwgLTEyMjk2Ljk1MTIpKQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgdjU1OSB+PSAyIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHY1NTkgPT0gMyB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MoQ0ZyYW1lLm5ldygtMjIzMS4yNzkzLCAxNjguMjU2NjUzLCAtMTI4NDUuNzU1OSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MoQ0ZyYW1lLm5ldygtMjM4My43ODk3OSwgMTUwLjQ1MDU5MiwgLTEyMTI2LjQ5NjEpKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCB2NTYxIGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHY1NjEuTmFtZSA9PSAiSXNsZSBPdXRsYXciIG9yIHY1NjEuTmFtZSA9PSAiSXNsYW5kIEJveSIgb3IgdjU2MS5OYW1lID09ICJJc2xlIENoYW1waW9uIiBvciB2NTYxLk5hbWUgPT0gIlNlcnBlbnQgSHVudGVyIiBvciB2NTYxLk5hbWUgPT0gIlNrdWxsIFNsYXllciIpIGFuZCB2NTYxOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpIGFuZCB2NTYxOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikgYW5kIHY1NjEuSHVtYW5vaWQuSGVhbHRoID4gMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dG9IYWtpKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXF1aXBXZWFwb24oX0cuU2VsZWN0V2VhcG9uKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NTYxLkh1bWFub2lkUm9vdFBhcnQuQ2FuQ29sbGlkZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY1NjEuSHVtYW5vaWQuV2Fsa1NwZWVkID0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGFydEJyaW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NTYxLkh1bWFub2lkUm9vdFBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KDUwLCA1MCwgNTApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBvc01vbiA9IHY1NjEuSHVtYW5vaWRSb290UGFydC5DRnJhbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9uRmFybSA9IHY1NjEuTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NTYxLkhlYWQuQ2FuQ29sbGlkZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKHY1NjEuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDAsIDMwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmVlZEF0dGFja2luZyA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdjU2MS5OYW1lIH49ICJJc2xlIE91dGxhdyIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdjU2MS5OYW1lID09ICJJc2xhbmQgQm95IiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQnJpbmcodjU2MS5OYW1lLCBDRnJhbWUubmV3KC0xNjkwMS4yNjE3MTg3NSwgODQuMDY3NTY1OTE3OTY4NzUsIC0xOTIuODg5MDY4NjAzNTE1NjIpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIHY1NjEuTmFtZSB+PSAiSXNsZSBDaGFtcGlvbiIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHY1NjEuTmFtZSB+PSAiU2VycGVudCBIdW50ZXIiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdjU2MS5OYW1lID09ICJTa3VsbCBTbGF5ZXIiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJyaW5nKHY1NjEuTmFtZSwgQ0ZyYW1lLm5ldygtMTY4NTUuMDQzLCAxMjIuNDU3MjUzLCAxNDc4LjE1MzA4LCAtMC45OTkzOTIyNzEsIDAsIC0wLjAzNDg2ODc5OTEsIDAsIDEsIDAsIDAuMDM0ODY4Nzk5MSwgMCwgLTAuOTk5MzkyMjcxKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCcmluZyh2NTYxLk5hbWUsIENGcmFtZS5uZXcoLTE2NTIxLjA2MjUsIDEwNi4wOTI4NSwgMTQ4OC43ODQ2NywgMC40Njk0NjcwNDQsIDAsIDAuODgyOTUwMDA4LCAwLCAxLCAwLCAtMC44ODI5NTAwMDgsIDAsIDAuNDY5NDY3MDQ0KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCcmluZyh2NTYxLk5hbWUsIENGcmFtZS5uZXcoLTE2NjQxLjY3OTY4NzUsIDIzNS43ODI1NDY5OTcwNzAzLCAxMDMxLjI4Mjk1ODk4NDM3NSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQnJpbmcodjU2MS5OYW1lLCBDRnJhbWUubmV3KC0xNjQ0Mi44MTQ0NTMxMjUsIDExNi4xMzg5OTk5Mzg5NjQ4NCwgLTI2NC40NjM3NzU2MzQ3NjU2KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW50aWwgbm90IF9HLkZhcm1EYWlCYW4gb3Igbm90IHY1NjEuUGFyZW50IG9yIHY1NjEuSHVtYW5vaWQuSGVhbHRoIDw9IDAgb3IgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5NYXAuQ2FrZUxvYWYuQmlnTWlycm9yLk90aGVyLlRyYW5zcGFyZW5jeSA9PSAwIG9yIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKTpGaW5kRmlyc3RDaGlsZCgiVHlyYW50IG9mIHRoZSBTa2llcyBbTHYuIDI2MDBdIFtSYWlkIEJvc3NdIikgb3IgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKCJUeXJhbnQgb2YgdGhlIFNraWVzIFtMdi4gMjYwMF0gW1JhaWQgQm9zc10iKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERhbWFnZUF1cmEgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBCeXBhc3NUUCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKHY1NTQpCiAgICAgICAgICAgICAgICAgICAgZWxzZWlmIChwbGF5ZXJQb3MgLSB2NTU0LlBvc2l0aW9uKS5NYWduaXR1ZGUgPiAxNTAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgQlRQKHY1NTQpCiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICB0b3Bvcyh2NTU0KQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIFVuRXF1aXBXZWFwb24oX0cuU2VsZWN0d2VhcG9uKQogICAgICAgICAgICAgICAgICAgIHRvcG9zKENGcmFtZS5uZXcoLTE2MTk0LjAwNDg4MjgxMjUsIDE1NS4yMTg0NDQ4MjQyMTg3NSwgMTQyMC43MTk5NzA3MDMxMjUpKQogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIGZvciBfLCB2NTYzIGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBpZiB2NTYzLk5hbWUgPT0gIlR5cmFudCBvZiB0aGUgU2tpZXMiIGFuZCB2NTYzOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpIGFuZCB2NTYzOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikgYW5kIHY1NjMuSHVtYW5vaWQuSGVhbHRoID4gMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dG9IYWtpKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFcXVpcFdlYXBvbihfRy5TZWxlY3RXZWFwb24pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjU2My5IdW1hbm9pZFJvb3RQYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY1NjMuSHVtYW5vaWQuV2Fsa1NwZWVkID0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY1NjMuSHVtYW5vaWRSb290UGFydC5TaXplID0gVmVjdG9yMy5uZXcoNTAsIDUwLCA1MCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3Bvcyh2NTYzLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldygwLCA0MCwgMCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmVlZEF0dGFja2luZyA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsIG5vdCBfRy5GYXJtRGFpQmFuIG9yIG5vdCB2NTYzLlBhcmVudCBvciB2NTYzLkh1bWFub2lkLkhlYWx0aCA8PSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0KDEpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbmQKICAgIGVuZAplbmQpCnY0ODU6QWRkVG9nZ2xlKHsKICAgIE5hbWUgPSAiU3VtbW9uIFR5cmFudCBPZiBUaGUgU2tpZXMiLAogICAgRGVzY3JpcHRpb24gPSAiVFwyMjVcMTg3XDE3NyBcMTk2XDE0NFwyMjVcMTg3XDE1M25nIFBoXDE5NVwxNjEgQlwxOTVcMTcybmggXDE5NlwxNDRcMjI1XDE4N1wxMzEgVHJpXDIyNVwxODdcMTM1dSBIXDIyNVwxODdcMTQ3aSBCb3NzIiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjU2NCkKICAgICAgICBfRy5GYXJtOEJpbmhzID0gdjU2NAogICAgICAgIFN0b3BUd2VlbihfRy5GYXJtOEJpbmhzKQogICAgZW5kCn0pCmxvY2FsIHZhcl9iOXhtbnIgPSB7CiAgICBDRnJhbWUubmV3KC0xNjI1MC4yMzU0LCAxNTguMTY3MDA3LCAxMzEzLjAxOTA0LCAwLjk5OTM4ODg3NCwgMCwgMC4wMzQ5NTUwNzMxLCAwLCAxLCAwLCAtMC4wMzQ5NTUwNzMxLCAwLCAwLjk5OTM4ODg3NCksCiAgICBDRnJhbWUubmV3KC0xNjI1MC4yMzU0LCAxNTguMTY3MDA3LCAxMzEzLjAxOTA0LCAwLjk5OTM4ODg3NCwgMCwgMC4wMzQ5NTUwNzMxLCAwLCAxLCAwLCAtMC4wMzQ5NTUwNzMxLCAwLCAwLjk5OTM4ODg3NCksCiAgICBDRnJhbWUubmV3KC0xNjI5Ny4wNTk2LCAxNTkuMzIyOTk4LCAxMzE3LjIyNCwgLTAuNDYzMzEzOTM3LCAwLCAwLjg4NjE5NDIyOSwgMCwgMSwgMCwgLTAuODg2MTk0MjI5LCAwLCAtMC40NjMzMTM5MzcpLAogICAgQ0ZyYW1lLm5ldygtMTYzMzUuMDk2NywgMTU5LjMzNCwgMTMyNC44ODU5OSwgMC45OTkzODg4NzQsIDAsIDAuMDM0OTU1MDczMSwgMCwgMSwgMCwgLTAuMDM0OTU1MDczMSwgMCwgMC45OTkzODg4NzQpLAogICAgQ0ZyYW1lLm5ldygtMTYyODguNjA5NCwgMTU4LjE2NzAwNywgMTQ3MC4zNjgwNCwgMC45OTkzODg4NzQsIDAsIDAuMDM0OTU1MDczMSwgMCwgMSwgMCwgLTAuMDM0OTU1MDczMSwgMCwgMC45OTkzODg4NzQpLAogICAgQ0ZyYW1lLm5ldygtMTYyNTguMDAxLCAxNTYuNzYxMDAyLCAxNDYxLjQwNDA1LCAwLjk5OTM4ODg3NCwgMCwgMC4wMzQ5NTUwNzMxLCAwLCAxLCAwLCAtMC4wMzQ5NTUwNzMxLCAwLCAwLjk5OTM4ODg3NCksCiAgICBDRnJhbWUubmV3KC0xNjI0NS40MTIxLCAxNTguNDM2OTk2LCAxNDYzLjM2NTk3LCAtMC45OTMxNTk0MTMsIDAsIDAuMTE2NzY2MTMyLCAwLCAxLCAwLCAtMC4xMTY3NjYxMzIsIDAsIC0wLjk5MzE1OTQxMyksCiAgICBDRnJhbWUubmV3KC0xNjIxMi40Njg4LCAxNTguMTY3MDA3LCAxNDY2LjM0Mzk5LCAwLjk5OTM4ODg3NCwgMCwgMC4wMzQ5NTUwNzMxLCAwLCAxLCAwLCAtMC4wMzQ5NTUwNzMxLCAwLCAwLjk5OTM4ODg3NCkKfQpmdW5jdGlvbiBUd2VlblRvUG9zaXRpb24odjU2NikKICAgIGxvY2FsIHZhcl9tY2QzMDIgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyCiAgICBsb2NhbCB2YXJfZnltbWRjID0gbF9DaGFyYWN0ZXJfNSBhbmQgbF9DaGFyYWN0ZXJfNTpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCiAgICBpZiBub3QgdjU2OCB0aGVuCiAgICAgICAgcmV0dXJuIAogICAgZWxzZQogICAgICAgIGxvY2FsIHZhcl8yeHhpZ2cgPSBnYW1lOkdldFNlcnZpY2UoIlR3ZWVuU2VydmljZSIpCiAgICAgICAgbG9jYWwgdmFyX3N2ZjRybCA9ICh2NTY4LlBvc2l0aW9uIC0gdjU2Ni5Qb3NpdGlvbikuTWFnbml0dWRlIC8gMzAwCiAgICAgICAgbG9jYWwgdmFyX3J6eGJucyA9IGxfVHdlZW5TZXJ2aWNlXzA6Q3JlYXRlKHY1NjgsIFR3ZWVuSW5mby5uZXcodjU3MCwgRW51bS5FYXNpbmdTdHlsZS5MaW5lYXIpLCB7Q0ZyYW1lID0gdjU2Nn0pCiAgICAgICAgdjU3MTpQbGF5KCkKICAgICAgICB2NTcxLkNvbXBsZXRlZDpXYWl0KCkKICAgICAgICByZXR1cm4gCiAgICBlbmQKZW5kCmZ1bmN0aW9uIFNraWxsKHY1NzIpCiAgICBsb2NhbCB2YXJfazMxdDR6ID0gZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsSW5wdXRNYW5hZ2VyIikKICAgIGxfVmlydHVhbElucHV0TWFuYWdlcl8wOlNlbmRLZXlFdmVudCh0cnVlLCBFbnVtLktleUNvZGVbdjU3Ml0sIGZhbHNlLCBnYW1lKQogICAgdGFzay53YWl0KDAuMDUpCiAgICBsX1ZpcnR1YWxJbnB1dE1hbmFnZXJfMDpTZW5kS2V5RXZlbnQoZmFsc2UsIEVudW0uS2V5Q29kZVt2NTcyXSwgZmFsc2UsIGdhbWUpCmVuZApmdW5jdGlvbiBDbGljaygpCiAgICBsb2NhbCB2YXJfNjF2Y3RuID0gZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsSW5wdXRNYW5hZ2VyIikKICAgIGxfVmlydHVhbElucHV0TWFuYWdlcl8xOlNlbmRNb3VzZUJ1dHRvbkV2ZW50KDAsIDAsIDAsIHRydWUsIGdhbWUsIDEpCiAgICB0YXNrLndhaXQoMC4wNSkKICAgIGxfVmlydHVhbElucHV0TWFuYWdlcl8xOlNlbmRNb3VzZUJ1dHRvbkV2ZW50KDAsIDAsIDAsIGZhbHNlLCBnYW1lLCAxKQplbmQKZnVuY3Rpb24gRmluZFdlYXBvbih2NTc1KQogICAgbG9jYWwgdmFyX2lrNnZxbiA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5CYWNrcGFjawogICAgZm9yIF8sIHY1NzggaW4gaXBhaXJzKGxfQmFja3BhY2tfMDpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgIGlmIHY1Nzg6SXNBKCJUb29sIikgdGhlbgogICAgICAgICAgICBpZiB2NTc1IH49ICJNZWxlZSIgb3IgdjU3OC5Ub29sVGlwIH49ICJNZWxlZSIgYW5kIHY1NzguTmFtZSB+PSAiQ29tYmF0IiB0aGVuCiAgICAgICAgICAgICAgICBpZiB2NTc1IH49ICJTd29yZCIgb3IgdjU3OC5Ub29sVGlwIH49ICJTd29yZCIgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIHY1NzUgPT0gIkd1biIgYW5kIHY1NzguVG9vbFRpcCA9PSAiR3VuIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2NTc4Lk5hbWUKICAgICAgICAgICAgICAgICAgICBlbHNlaWYgdjU3NSA9PSAiRnJ1aXQiIGFuZCB2NTc4LlRvb2xUaXAgPT0gIkJsb3ggRnJ1aXQiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHY1NzguTmFtZQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIHJldHVybiB2NTc4Lk5hbWUKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICByZXR1cm4gdjU3OC5OYW1lCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCiAgICByZXR1cm4gbmlsCmVuZApmdW5jdGlvbiBFcXVpcFdlYXBvbih2NTc5KQogICAgaWYgbm90IHY1NzkgdGhlbgogICAgICAgIHJldHVybiAKICAgIGVsc2UKICAgICAgICBsb2NhbCB2YXJfeWhsZWNjID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyCiAgICAgICAgbG9jYWwgdmFyX3Y1ZzVwZSA9IGxfTG9jYWxQbGF5ZXJfNzpXYWl0Rm9yQ2hpbGQoIkJhY2twYWNrIik6RmluZEZpcnN0Q2hpbGQodjU3OSkKICAgICAgICBpZiBsX0ZpcnN0Q2hpbGRfMSB0aGVuCiAgICAgICAgICAgIGxfTG9jYWxQbGF5ZXJfNy5DaGFyYWN0ZXIuSHVtYW5vaWQ6RXF1aXBUb29sKGxfRmlyc3RDaGlsZF8xKQogICAgICAgIGVuZAogICAgICAgIHJldHVybiAKICAgIGVuZAplbmQKZnVuY3Rpb24gQXR0YWNrQWxsU2tpbGxzKCkKICAgIGxvY2FsIHZhcl85ZHljcXMgPSBGaW5kV2VhcG9uKCJNZWxlZSIpCiAgICBsb2NhbCB2YXJfejg2amUyID0gRmluZFdlYXBvbigiU3dvcmQiKQogICAgbG9jYWwgdmFyX3E0dDhoYSA9IEZpbmRXZWFwb24oIkZydWl0IikKICAgIGxvY2FsIHZhcl83YW16aGkgPSBGaW5kV2VhcG9uKCJHdW4iKQogICAgaWYgdjU4MiB0aGVuCiAgICAgICAgRXF1aXBXZWFwb24odjU4MikKICAgICAgICBTa2lsbCgiWiIpCiAgICAgICAgU2tpbGwoIlgiKQogICAgICAgIFNraWxsKCJDIikKICAgICAgICBTa2lsbCgiViIpCiAgICAgICAgQ2xpY2soKQogICAgZW5kCiAgICBpZiB2NTgzIHRoZW4KICAgICAgICBFcXVpcFdlYXBvbih2NTgzKQogICAgICAgIFNraWxsKCJaIikKICAgICAgICBTa2lsbCgiWCIpCiAgICAgICAgQ2xpY2soKQogICAgZW5kCiAgICBpZiB2NTg0IHRoZW4KICAgICAgICBFcXVpcFdlYXBvbih2NTg0KQogICAgICAgIFNraWxsKCJaIikKICAgICAgICBTa2lsbCgiWCIpCiAgICAgICAgU2tpbGwoIkMiKQogICAgICAgIFNraWxsKCJGIikKICAgICAgICBDbGljaygpCiAgICBlbmQKICAgIGlmIHY1ODUgdGhlbgogICAgICAgIEVxdWlwV2VhcG9uKHY1ODUpCiAgICAgICAgU2tpbGwoIloiKQogICAgICAgIFNraWxsKCJYIikKICAgICAgICBDbGljaygpCiAgICBlbmQKZW5kCnRhc2suc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgdGFzay53YWl0KDEpIGRvCiAgICAgICAgaWYgX0cuRmFybThCaW5ocyB0aGVuCiAgICAgICAgICAgIGZvciBfLCB2NTg3IGluIGlwYWlycyh2NTY1KSBkbwogICAgICAgICAgICAgICAgaWYgX0cuRmFybThCaW5ocyB0aGVuCiAgICAgICAgICAgICAgICAgICAgVHdlZW5Ub1Bvc2l0aW9uKHY1ODcgKiBDRnJhbWUubmV3KDAsIDUsIDApKQogICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgwLjUpCiAgICAgICAgICAgICAgICAgICAgQXR0YWNrQWxsU2tpbGxzKCkKICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoMykKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCmVuZCkKbG9jYWwgdmFyX3EzOThteSA9IHY0ODU6QWRkU2VjdGlvbih7IlhcMTk4XDE3NlwxOThcMTYxbmcifSkKbG9jYWwgdmFyX2gybm11eCA9IHY0ODU6QWRkUGFyYWdyYXBoKHtUaXRsZSA9ICJDaGVjayBCb25lIiwgQ29udGVudCA9ICJMb2FkaW5nLi4uIn0pCnRhc2suc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgdGFzay53YWl0KDEpIGRvCiAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICBsb2NhbCB2YXJfOHlheGM3ID0gZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQm9uZXMiLCAiQ2hlY2siKQogICAgICAgICAgICB2NTg5OlNldCgiWW91IEhhdmU6ICIgLi4gdG9zdHJpbmcodjU5MCkgLi4gIiBCb25lcyIpCiAgICAgICAgZW5kKQogICAgZW5kCmVuZCkKdjQ4NTpBZGRUb2dnbGUoewogICAgTmFtZSA9ICJGcmFtIEJvbmUiLAogICAgRGVzY3JpcHRpb24gPSAiRnJhbSBTXDE5OFwxNzZcMTk4XDE2MW5nIiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjU5MSkKICAgICAgICBfRy5GYXJtQm9uZSA9IHY1OTEKICAgICAgICBTdG9wVHdlZW4oX0cuRmFybUJvbmUpCiAgICBlbmQKfSkKc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgbG9jYWwgdmFyX2M2eGhiYyA9IENGcmFtZS5uZXcoLTk1MDguNTY3MzgyODEyNSwgMTQyLjEzOTg0NjgwMTc1NzgsIDU3MzcuMzYwMzUxNTYyNSkKICAgICAgICBkbwogICAgICAgICAgICBsb2NhbCB2YXJfY3Z3aXNqID0gdjU5MgogICAgICAgICAgICBpZiBfRy5GYXJtQm9uZSBhbmQgV29ybGQzIHRoZW4KICAgICAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICBpZiBub3QgQnlwYXNzVFAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBUUDEobF92NTkyXzApCiAgICAgICAgICAgICAgICAgICAgZWxzZWlmIChnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBsX3Y1OTJfMC5Qb3NpdGlvbikuTWFnbml0dWRlID4gMjAwMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIFRQMShsX3Y1OTJfMCkKICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgwLjEpCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfID0gMSwgOCBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZS5QbGF5ZXJzLmxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IENGcmFtZS5uZXcobF92NTkyXzApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJTZXRTcGF3blBvaW50IikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoMC4xKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIGxfdjU5Ml8wLlBvc2l0aW9uKS5NYWduaXR1ZGUgPCAyMDAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgVFAxKGxfdjU5Ml8wKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIlJlYm9ybiBTa2VsZXRvbiIpIGFuZCBub3QgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKCJMaXZpbmcgWm9tYmllIikgYW5kIG5vdCBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIkRlbW9uaWMgU291bCIpIGFuZCBub3QgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKCJQb3Nlc3NlZCBNdW1teSIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgU3RhcnRCcmluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKENGcmFtZS5uZXcoLTk1MDYuMjM0Mzc1LCAxNzIuMTMwNjE1MjM0Mzc1LCA2MTE3LjA3NzE0ODQzNzUpKQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgdjU5NiBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHY1OTYuTmFtZSA9PSAiUmVib3JuIFNrZWxldG9uIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3ModjU5Ni5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoMiwgMjAsIDIpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIHY1OTYuTmFtZSB+PSAiTGl2aW5nIFpvbWJpZSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHY1OTYuTmFtZSB+PSAiRGVtb25pYyBTb3VsIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHY1OTYuTmFtZSA9PSAiUG9zZXNzZWQgTXVtbXkiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKHY1OTYuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDIsIDIwLCAyKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3Bvcyh2NTk2Lkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldygyLCAyMCwgMikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3ModjU5Ni5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoMiwgMjAsIDIpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHY1OTggaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodjU5OC5OYW1lID09ICJSZWJvcm4gU2tlbGV0b24iIG9yIHY1OTguTmFtZSA9PSAiTGl2aW5nIFpvbWJpZSIgb3IgdjU5OC5OYW1lID09ICJEZW1vbmljIFNvdWwiIG9yIHY1OTguTmFtZSA9PSAiUG9zZXNzZWQgTXVtbXkiKSBhbmQgdjU5ODpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKSBhbmQgdjU5ODpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIGFuZCB2NTk4Lkh1bWFub2lkLkhlYWx0aCA+IDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRvSGFraSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vQXR0YWNrQW5pbWF0aW9uID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOZWVkQXR0YWNraW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFcXVpcFdlYXBvbihfRy5TZWxlY3RXZWFwb24pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY1OTguSHVtYW5vaWRSb290UGFydC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjU5OC5IdW1hbm9pZC5XYWxrU3BlZWQgPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY1OTguSGVhZC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhcnRCcmluZyA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9uRmFybSA9IHY1OTguTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQb3NNb24gPSB2NTk4Lkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKHY1OTguSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDAsIDMwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aGlkZGVucHJvcGVydHkoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLCAiU2ltdWxhdGlvblJhZGl1cyIsIG1hdGguaHVnZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCBub3QgX0cuRmFybUJvbmUgb3Igbm90IHY1OTguUGFyZW50IG9yIHY1OTguSHVtYW5vaWQuSGVhbHRoIDw9IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKZW5kKQp2NDg1OkFkZFRvZ2dsZSh7CiAgICBOYW1lID0gIlNlcGVyYXRvciBIYWxsb3cgU2N5dGhlIiwKICAgIERlc2NyaXB0aW9uID0gIlRyaVwyMjVcMTg3XDEzNXUgaFwyMjVcMTg3XDE0N2kgdlwxOTVcMTYwIHRpXDE5NVwxNzB1IGRpXDIyNVwxODdcMTM1dCBTb3VsIFJlYXBlciIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY1OTkpCiAgICAgICAgX0cuSGFsbG93ID0gdjU5OQogICAgICAgIFN0b3BUd2VlbihfRy5IYWxsb3cpCiAgICBlbmQKfSkKc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgaWYgX0cuSGFsbG93IHRoZW4KICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgaWYgbm90IGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpGaW5kRmlyc3RDaGlsZCgiU291bCBSZWFwZXIiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQmFja3BhY2s6RmluZEZpcnN0Q2hpbGQoIkhhbGxvdyBFc3NlbmNlIikgb3IgZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIYWxsb3cgRXNzZW5jZSIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUUDEoQ0ZyYW1lLm5ldygtODkzMi4zMjIyNjU2MjUsIDE0Ni44MzE1NDI5Njg3NSwgNjA2Mi41NTA3ODEyNSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgdW50aWwgKENGcmFtZS5uZXcoLTg5MzIuMzIyMjY1NjI1LCAxNDYuODMxNTQyOTY4NzUsIDYwNjIuNTUwNzgxMjUpLlBvc2l0aW9uIC0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKS5NYWduaXR1ZGUgPD0gOAogICAgICAgICAgICAgICAgICAgICAgICBFcXVpcFdlYXBvbigiSGFsbG93IEVzc2VuY2UiKQogICAgICAgICAgICAgICAgICAgIGVsc2VpZiBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6RmluZEZpcnN0Q2hpbGQoIlNvdWwgUmVhcGVyIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBUUDEoZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOkZpbmRGaXJzdENoaWxkKCJTb3VsIFJlYXBlciIpLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldygyLCAyMCwgMikpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHY2MDEgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHN0cmluZy5maW5kKHY2MDEuTmFtZSwgIlNvdWwgUmVhcGVyIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFcXVpcFdlYXBvbihfRy5TZWxlY3RXZWFwb24pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0b0hha2koKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY2MDEuSHVtYW5vaWRSb290UGFydC5TaXplID0gVmVjdG9yMy5uZXcoNTAsIDUwLCA1MCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3Bvcyh2NjAxLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldygwLCAzMCwgMCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsVXNlciIpOkNhcHR1cmVDb250cm9sbGVyKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxVc2VyIik6QnV0dG9uMURvd24oVmVjdG9yMi5uZXcoMTI4MCwgNjcwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NjAxLkh1bWFub2lkUm9vdFBhcnQuVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdW50aWwgdjYwMS5IdW1hbm9pZC5IZWFsdGggPD0gMCBvciBfRy5IYWxsb3cgPT0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCmVuZCkKdjQ4NTpBZGRUb2dnbGUoewogICAgTmFtZSA9ICJUcmFkZSBCb25lIiwKICAgIERlc2NyaXB0aW9uID0gIlRcMjI1XDE4N1wxNzcgXDE5NlwxNDVcMjI1XDE4N1wxNTNuZyBcMTk2XDE0NVwyMjVcMTg3XDE0OWkgeFwxOThcMTc2XDE5OFwxNjFuZyBsXDIyNVwxODZcMTY1eSBwaFwyMjVcMTg2XDE2N24gdGhcMTk4XDE3NlwyMjVcMTg3XDE1OW5nIiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjYwMikKICAgICAgICBfRy5SZGJvbmUgPSB2NjAyCiAgICAgICAgU3RvcFR3ZWVuKF9HLlJkYm9uZSkKICAgIGVuZAp9KQpzcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB3YWl0KDAuMSkgZG8KICAgICAgICBpZiBfRy5SZGJvbmUgdGhlbgogICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJCb25lcyIsICJCdXkiLCAxLCAxKQogICAgICAgIGVuZAogICAgZW5kCmVuZCkKdjQ4NTpBZGRUb2dnbGUoewogICAgTmFtZSA9ICJBdXRvIFByYXkiLAogICAgRGVzY3JpcHRpb24gPSAiIiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjYwMykKICAgICAgICBfRy5QcmF5ID0gdjYwMwogICAgICAgIFN0b3BUd2VlbihfRy5QcmF5KQogICAgZW5kCn0pCnNwYXduKGZ1bmN0aW9uKCkKICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICB3aGlsZSB3YWl0KDAuMSkgZG8KICAgICAgICAgICAgaWYgX0cuUHJheSB0aGVuCiAgICAgICAgICAgICAgICBUUDEoQ0ZyYW1lLm5ldygtODY1Mi45OTcwNywgMTQzLjQ1MDExOSwgNjE3MC41MDg3OSwgLTAuOTgzMDY0MTE1LCAtMi40ODAwNTUzM0UtMTAsIDAuMTgzMjYyMDUsIC0xLjc4OTEwMzg3RS05LCAxLCAtOC4yNDM5MjI4OEUtOSwgLTAuMTgzMjYyMDUsIC04LjQzMjE4MDI5RS05LCAtMC45ODMwNjQxMTUpKQogICAgICAgICAgICAgICAgd2FpdCgpCiAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJncmF2ZXN0b25lRXZlbnQiLCAxKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZCkKZW5kKQp2NDg1OkFkZFRvZ2dsZSh7CiAgICBOYW1lID0gIkF1dG8gVHJ5IEx1Y2siLAogICAgRGVzY3JpcHRpb24gPSAiIiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjYwNCkKICAgICAgICBfRy5UcnlsdXggPSB2NjA0CiAgICAgICAgU3RvcFR3ZWVuKF9HLlRyeWx1eCkKICAgIGVuZAp9KQpzcGF3bihmdW5jdGlvbigpCiAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgd2hpbGUgd2FpdCgwLjEpIGRvCiAgICAgICAgICAgIGlmIF9HLlRyeWx1eCB0aGVuCiAgICAgICAgICAgICAgICBUUDEoQ0ZyYW1lLm5ldygtODY1Mi45OTcwNywgMTQzLjQ1MDExOSwgNjE3MC41MDg3OSwgLTAuOTgzMDY0MTE1LCAtMi40ODAwNTUzM0UtMTAsIDAuMTgzMjYyMDUsIC0xLjc4OTEwMzg3RS05LCAxLCAtOC4yNDM5MjI4OEUtOSwgLTAuMTgzMjYyMDUsIC04LjQzMjE4MDI5RS05LCAtMC45ODMwNjQxMTUpKQogICAgICAgICAgICAgICAgd2FpdCgpCiAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJncmF2ZXN0b25lRXZlbnQiLCAyKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZCkKZW5kKQpsb2NhbCB2YXJfOGJldnI4ID0gdjQ4NTpBZGRTZWN0aW9uKHsiS2F0YWt1cmkifSkKbG9jYWwgdmFyX204ZWc5cCA9IHY0ODU6QWRkUGFyYWdyYXBoKHtUaXRsZSA9ICJDaGVjayBDYWtlIFByaW5jZSIsIENvbnRlbnQgPSAiTG9hZGluZy4uLiJ9KQp0YXNrLnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHRhc2sud2FpdCgxKSBkbwogICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgbG9jYWwgdmFyX3o3c2plNCA9IGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkNha2VQcmluY2VTcGF3bmVyIikKICAgICAgICAgICAgaWYgc3RyaW5nLmxlbih2NjA3KSA9PSA4OCB0aGVuCiAgICAgICAgICAgICAgICB2NjA2OlNldCgiS2lsbGVkIDogIiAuLiBzdHJpbmcuc3ViKHY2MDcsIDM5LCA0MSkgLi4gIiAvIDUwMCIpCiAgICAgICAgICAgIGVsc2VpZiBzdHJpbmcubGVuKHY2MDcpIH49IDg3IHRoZW4KICAgICAgICAgICAgICAgIGlmIHN0cmluZy5sZW4odjYwNykgPT0gODYgdGhlbgogICAgICAgICAgICAgICAgICAgIHY2MDY6U2V0KCJLaWxsZWQgOiAiIC4uIHN0cmluZy5zdWIodjYwNywgMzksIDM5KSAuLiAiIC8gNTAwIikKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICB2NjA2OlNldCgiUHJpbmNlIEtpbmcgU3Bhd25lZCBcMjI2XDE1NlwxMzMiKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHY2MDY6U2V0KCJLaWxsZWQgOiAiIC4uIHN0cmluZy5zdWIodjYwNywgMzksIDQwKSAuLiAiIC8gNTAwIikKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKQogICAgZW5kCmVuZCkKdjQ4NTpBZGRUb2dnbGUoewogICAgTmFtZSA9ICJGYXJtIEthdGFrdXJpIiwKICAgIERlc2NyaXB0aW9uID0gIkZyYW0gUXVcMTk1XDE2MWkgVlwxOTVcMTYwIFwxOTZcMTQ0XDE5NVwxNjFuaCBIb1wxOTVcMTYwbmcgVFwyMjVcMTg3XDE3MyBCXDIyNVwxODdcMTUzdCBWMSIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY2MDgpCiAgICAgICAgX0cuRmFybUNha2UgPSB2NjA4CiAgICAgICAgU3RvcFR3ZWVuKF9HLkZhcm1DYWtlKQogICAgZW5kCn0pCmxvY2FsIHZhcl9ja3Vpd3EgPSBDRnJhbWUubmV3KC0yMTMwLjgwNzEyODkwNjI1LCA2OS45NTYzNDQ2MDQ0OTIxOSwgLTEyMzI3LjgzOTg0Mzc1KQpsb2NhbCB2YXJfemtoY2tnID0gZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzCnRhc2suc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgdGFzay53YWl0KCkgZG8KICAgICAgICBpZiBfRy5GYXJtQ2FrZSB0aGVuCiAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGlmIG5vdCBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIkNha2UgUHJpbmNlIikgdGhlbgogICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl91ZXM5dGYgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIGZvciBfLCB2NjEzIGluIHBhaXJzKHsiQ29va2llIENyYWZ0ZXIiLCAiQ2FrZSBHdWFyZCIsICJCYWtpbmcgU3RhZmYiLCAiSGVhZCBCYWtlciJ9KSBkbwogICAgICAgICAgICAgICAgICAgICAgICBpZiBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQodjYxMykgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjYxMSA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGlmIHY2MTEgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgdjYxNSBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2NjE1Lk5hbWUgPT0gIkNvb2tpZSBDcmFmdGVyIiBvciB2NjE1Lk5hbWUgPT0gIkNha2UgR3VhcmQiIG9yIHY2MTUuTmFtZSA9PSAiQmFraW5nIFN0YWZmIiBvciB2NjE1Lk5hbWUgPT0gIkhlYWQgQmFrZXIiKSBhbmQgdjYxNTpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKSBhbmQgdjYxNTpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIGFuZCB2NjE1Lkh1bWFub2lkLkhlYWx0aCA+IDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRvSGFraSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVxdWlwV2VhcG9uKF9HLlNlbGVjdFdlYXBvbikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjYxNS5IdW1hbm9pZFJvb3RQYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NjE1Lkh1bWFub2lkLldhbGtTcGVlZCA9IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhcnRCcmluZyA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjYxNS5IdW1hbm9pZFJvb3RQYXJ0LlNpemUgPSBWZWN0b3IzLm5ldyg1MCwgNTAsIDUwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQb3NNb24gPSB2NjE1Lkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbkZhcm0gPSB2NjE1Lk5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjYxNS5IZWFkLkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3Bvcyh2NjE1Lkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldygwLCAzMCwgMCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5lZWRBdHRhY2tpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHY2MTUuTmFtZSB+PSAiQ29va2llIENyYWZ0ZXIiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHY2MTUuTmFtZSA9PSAiQ2FrZSBHdWFyZCIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJyaW5nKHY2MTUuTmFtZSwgQ0ZyYW1lLm5ldygtMTY5My45ODA0NywgMzUuMjE4ODIyNSwgLTEyNDM2Ljg0MzgsIC0wLjcxNjExNTIzNiwgMCwgLTAuNjk3OTgyMTMyLCAwLCAxLCAwLCAwLjY5Nzk4MjEzMiwgMCwgLTAuNzE2MTE1MjM2KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiB2NjE1Lk5hbWUgPT0gIkJha2luZyBTdGFmZiIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJyaW5nKHY2MTUuTmFtZSwgQ0ZyYW1lLm5ldygtMTk4MC40Mzc1LCAzNC42NjUzMDk5LCAtMTI5ODMuODQwOCwgLTAuMjU0MzM4MjY0LCAwLCAtMC45NjcxMTUyMjMsIDAsIDEsIDAsIDAuOTY3MTE1MjIzLCAwLCAtMC4yNTQzMzgyNjQpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIHY2MTUuTmFtZSA9PSAiSGVhZCBCYWtlciIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJyaW5nKHY2MTUuTmFtZSwgQ0ZyYW1lLm5ldygtMjE1MS4zNzc5MywgNTEuMDA5NTc0OSwgLTEzMDMzLjM5NzUsIC0wLjk5NjU4Nzc1MywgMCwgMC4wODI1Mzk2NzAyLCAwLCAxLCAwLCAtMC4wODI1Mzk2NzAyLCAwLCAtMC45OTY1ODc3NTMpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJyaW5nKHY2MTUuTmFtZSwgQ0ZyYW1lLm5ldygtMjIxMi44ODk2NSwgMzcuMDA1MTA0MSwgLTExOTY5LjI1NjgsIDAuNDU4MTE0MjA3LCAwLCAtMC44ODg4OTMzNjYsIDAsIDEsIDAsIDAuODg4ODkzMzY2LCAwLCAwLjQ1ODExNDIwNykpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsIG5vdCBfRy5GYXJtQ2FrZSBvciBub3QgdjYxNS5QYXJlbnQgb3IgdjYxNS5IdW1hbm9pZC5IZWFsdGggPD0gMCBvciBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLk1hcC5DYWtlTG9hZi5CaWdNaXJyb3IuT3RoZXIuVHJhbnNwYXJlbmN5ID09IDAgb3IgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOkZpbmRGaXJzdENoaWxkKCJDYWtlIFByaW5jZSBbTHYuIDIzMDBdIFtSYWlkIEJvc3NdIikgb3IgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKCJDYWtlIFByaW5jZSBbTHYuIDIzMDBdIFtSYWlkIEJvc3NdIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEYW1hZ2VBdXJhID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9hejdmMXUgPSBtYXRoLnJhbmRvbSgxLCAzKQogICAgICAgICAgICAgICAgICAgICAgICBpZiB2NjE2IH49IDEgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdjYxNiB+PSAyIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB2NjE2ID09IDMgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BvcyhDRnJhbWUubmV3KC0yMjMxLjI3OTMsIDE2OC4yNTY2NTMsIC0xMjg0NS43NTU5KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BvcyhDRnJhbWUubmV3KC0yMzgzLjc4OTc5LCAxNTAuNDUwNTkyLCAtMTIxMjYuNDk2MSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MoQ0ZyYW1lLm5ldygtMTQzNi44NjAxMSwgMTY3Ljc1MzYxNiwgLTEyMjk2Ljk1MTIpKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBpZiBCeXBhc3NUUCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbGF5ZXJQb3MgLSB2NjA5LlBvc2l0aW9uKS5NYWduaXR1ZGUgPD0gMTUwMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3Bvcyh2NjA5KQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCVFAodjYwOSkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICB0b3Bvcyh2NjA5KQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIFVuRXF1aXBXZWFwb24oX0cuU2VsZWN0d2VhcG9uKQogICAgICAgICAgICAgICAgICAgIHRvcG9zKENGcmFtZS5uZXcoLTIxMzAuODA3MTI4OTA2MjUsIDY5Ljk1NjM0NDYwNDQ5MjE5LCAtMTIzMjcuODM5ODQzNzUpKQogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIGZvciBfLCB2NjE4IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBpZiB2NjE4Lk5hbWUgPT0gIkNha2UgUHJpbmNlIiBhbmQgdjYxODpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKSBhbmQgdjYxODpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIGFuZCB2NjE4Lkh1bWFub2lkLkhlYWx0aCA+IDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRvSGFraSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXF1aXBXZWFwb24oX0cuU2VsZWN0V2VhcG9uKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY2MTguSHVtYW5vaWRSb290UGFydC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NjE4Lkh1bWFub2lkLldhbGtTcGVlZCA9IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NjE4Lkh1bWFub2lkUm9vdFBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KDUwLCA1MCwgNTApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5fV29ybGRPcmlnaW46RmluZEZpcnN0Q2hpbGQoIlJpbmciKSBvciBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLl9Xb3JsZE9yaWdpbjpGaW5kRmlyc3RDaGlsZCgiRmlzdCIpIG9yIGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuX1dvcmxkT3JpZ2luOkZpbmRGaXJzdENoaWxkKCJNb2NoaVN3aXJsIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3Bvcyh2NjE4Lkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldygwLCAtNDAsIDApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3ModjYxOC5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoNCwgMTAsIDEwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOZWVkQXR0YWNraW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdW50aWwgbm90IF9HLkZhcm1DYWtlIG9yIG5vdCB2NjE4LlBhcmVudCBvciB2NjE4Lkh1bWFub2lkLkhlYWx0aCA8PSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0KDEpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbmQKICAgIGVuZAplbmQpCnY0ODU6QWRkVG9nZ2xlKHsKICAgIE5hbWUgPSAiRmFybSBLYXRha3VyaSBWMiIsCiAgICBEZXNjcmlwdGlvbiA9ICJGcmFtIFF1XDE5NVwxNjFpIFZcMTk1XDE2MCBcMTk2XDE0NFwxOTVcMTYxbmggSG9cMTk1XDE2MG5nIFRcMjI1XDE4N1wxNzMgQlwyMjVcMTg3XDE1M3QgVjIiLAogICAgRGVmYXVsdCA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2NjE5KQogICAgICAgIF9HLkZ1bGx5a2F0YWt1cmkgPSB2NjE5CiAgICAgICAgU3RvcFR3ZWVuKF9HLkZ1bGx5a2F0YWt1cmkpCiAgICBlbmQKfSkKc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgaWYgX0cuRnVsbHlrYXRha3VyaSB0aGVuCiAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGlmIG5vdCBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQmFja3BhY2s6RmluZEZpcnN0Q2hpbGQoIkdvZCdzIENoYWxpY2UiKSBhbmQgbm90IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkdvZCdzIENoYWxpY2UiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkJhY2twYWNrOkZpbmRGaXJzdENoaWxkKCJTd2VldCBDaGFsaWNlIikgb3IgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiU3dlZXQgQ2hhbGljZSIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgaWYgc3RyaW5nLmZpbmQoZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQ2FrZVByaW5jZVNwYXduZXIiKSwgIkRvIHlvdSB3YW50IHRvIG9wZW4gdGhlIHBvcnRhbCBub3c/IikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQ2FrZVByaW5jZVNwYXduZXIiKQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgZ2FtZS5Xb3Jrc3BhY2UuRW5lbWllczpGaW5kRmlyc3RDaGlsZCgiQmFraW5nIFN0YWZmIikgb3IgZ2FtZS5Xb3Jrc3BhY2UuRW5lbWllczpGaW5kRmlyc3RDaGlsZCgiSGVhZCBCYWtlciIpIG9yIGdhbWUuV29ya3NwYWNlLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIkNha2UgR3VhcmQiKSBvciBnYW1lLldvcmtzcGFjZS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKCJDb29raWUgQ3JhZnRlciIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCB2NjIxIGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2NjIxLk5hbWUgPT0gIkJha2luZyBTdGFmZiIgb3IgdjYyMS5OYW1lID09ICJIZWFkIEJha2VyIiBvciB2NjIxLk5hbWUgPT0gIkNha2UgR3VhcmQiIG9yIHY2MjEuTmFtZSA9PSAiQ29va2llIENyYWZ0ZXIiKSBhbmQgdjYyMS5IdW1hbm9pZC5IZWFsdGggPiAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dG9IYWtpKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVxdWlwV2VhcG9uKF9HLlNlbGVjdFdlYXBvbikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dG9IYWtpKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBvc01vbiA9IHY2MjEuSHVtYW5vaWRSb290UGFydC5DRnJhbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKHY2MjEuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDAsIDMwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY2MjEuSHVtYW5vaWRSb290UGFydC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY2MjEuSHVtYW5vaWQuV2Fsa1NwZWVkID0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjYyMS5IZWFkLkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNrR3VuRW5lbWllcyh2NjIxLk5hbWUsIDUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NjIxLkh1bWFub2lkUm9vdFBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KDcwLCA3MCwgNzApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGFydEJyaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbkZhcm0gPSB2NjIxLk5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiVmlydHVhbFVzZXIiKTpDYXB0dXJlQ29udHJvbGxlcigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxVc2VyIik6QnV0dG9uMURvd24oVmVjdG9yMi5uZXcoMTI4MCwgNjcyKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW50aWwgX0cuRnVsbHlrYXRha3VyaSA9PSBmYWxzZSBvciBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6RmluZEZpcnN0Q2hpbGQoIkNha2UgUHJpbmNlIikgb3Igbm90IHY2MjEuUGFyZW50IG9yIHY2MjEuSHVtYW5vaWQuSGVhbHRoIDw9IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYWtlQnJpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhcnRCcmluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BvcyhDRnJhbWUubmV3KC0xODIwLjA2MzQ3NjU2MjUsIDIxMC43NDc4MTc5OTMxNjQwNiwgLTEyMjk3LjQ5NjA5Mzc1KSkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZWxzZWlmIGdhbWUuUmVwbGljYXRlZFN0b3JhZ2U6RmluZEZpcnN0Q2hpbGQoIkRvdWdoIEtpbmciKSBvciBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIkRvdWdoIEtpbmciKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIkRvdWdoIEtpbmciKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BvcyhDRnJhbWUubmV3KC0yMDA5LjI4MDI3MzQzNzUsIDQ1MzIuOTcyMTY3OTY4NzUsIC0xNDkzNy4zMDc2MTcxODc1KSkKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHY2MjMgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdjYyMy5OYW1lID09ICJEb3VnaCBLaW5nIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRvSGFraSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFcXVpcFdlYXBvbihfRy5TZWxlY3RXZWFwb24pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NjIzLkh1bWFub2lkUm9vdFBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KDcwLCA3MCwgNzApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NjIzLkh1bWFub2lkUm9vdFBhcnQuQ2FuQ29sbGlkZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGFydEJyaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKHY2MjMuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDAsIC00MCwgMCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxVc2VyIik6Q2FwdHVyZUNvbnRyb2xsZXIoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsVXNlciIpOkJ1dHRvbjFEb3duKFZlY3RvcjIubmV3KDEyODAsIDY3MikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsIF9HLkZ1bGx5a2F0YWt1cmkgPT0gZmFsc2Ugb3Igbm90IHY2MjMuUGFyZW50IG9yIHY2MjMuSHVtYW5vaWQuSGVhbHRoIDw9IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbHNlaWYgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkJhY2twYWNrOkZpbmRGaXJzdENoaWxkKCJSZWQgS2V5Iikgb3IgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiUmVkIEtleSIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX3BlN29tYSA9IHtbMV0gPSAiQ2FrZVNjaWVudGlzdCIsIFsyXSA9ICJDaGVjayJ9CiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIodW5wYWNrKHY2MjQpKQogICAgICAgICAgICAgICAgICAgIGVsc2VpZiBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5QbGF5ZXJHdWkuTWFpbi5RdWVzdC5WaXNpYmxlIH49IHRydWUgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICB3YWl0KDAuNSkKICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiRWxpdGVIdW50ZXIiKQogICAgICAgICAgICAgICAgICAgIGVsc2VpZiBzdHJpbmcuZmluZChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5QbGF5ZXJHdWkuTWFpbi5RdWVzdC5Db250YWluZXIuUXVlc3RUaXRsZS5UaXRsZS5UZXh0LCAiRGlhYmxvIikgb3Igc3RyaW5nLmZpbmQoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuUGxheWVyR3VpLk1haW4uUXVlc3QuQ29udGFpbmVyLlF1ZXN0VGl0bGUuVGl0bGUuVGV4dCwgIkRlYW5kcmUiKSBvciBzdHJpbmcuZmluZChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5QbGF5ZXJHdWkuTWFpbi5RdWVzdC5Db250YWluZXIuUXVlc3RUaXRsZS5UaXRsZS5UZXh0LCAiVXJiYW4iKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIkRpYWJsbyIpIGFuZCBub3QgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKCJEZWFuZHJlIikgYW5kIG5vdCBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIlVyYmFuIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOkZpbmRGaXJzdENoaWxkKCJEaWFibG8iKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MoZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOkZpbmRGaXJzdENoaWxkKCJEaWFibG8iKS5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoMiwgMjAsIDIpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIG5vdCBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6RmluZEZpcnN0Q2hpbGQoIkRlYW5kcmUiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOkZpbmRGaXJzdENoaWxkKCJVcmJhbiIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MoZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOkZpbmRGaXJzdENoaWxkKCJVcmJhbiIpLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldygyLCAyMCwgMikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MoZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOkZpbmRGaXJzdENoaWxkKCJEZWFuZHJlIikuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDIsIDIwLCAyKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgdjYyNiBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodjYyNi5OYW1lID09ICJEaWFibG8iIG9yIHY2MjYuTmFtZSA9PSAiRGVhbmRyZSIgb3IgdjYyNi5OYW1lID09ICJVcmJhbiIpIGFuZCB2NjI2OkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpIGFuZCB2NjI2OkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikgYW5kIHY2MjYuSHVtYW5vaWQuSGVhbHRoID4gMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRvSGFraSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFcXVpcFdlYXBvbihfRy5TZWxlY3RXZWFwb24pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQb3NNb24gPSB2NjI2Lkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3Bvcyh2NjI2Lkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldygwLCAzMCwgMCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NjI2Lkh1bWFub2lkUm9vdFBhcnQuQ2FuQ29sbGlkZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NjI2Lkh1bWFub2lkLldhbGtTcGVlZCA9IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY2MjYuSGVhZC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFja0d1bkVuZW1pZXModjYyNi5OYW1lLCA1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjYyNi5IdW1hbm9pZFJvb3RQYXJ0LlNpemUgPSBWZWN0b3IzLm5ldyg3MCwgNzAsIDcwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhcnRCcmluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb25GYXJtID0gdjYyNi5OYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxVc2VyIik6Q2FwdHVyZUNvbnRyb2xsZXIoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsVXNlciIpOkJ1dHRvbjFEb3duKFZlY3RvcjIubmV3KDEyODAsIDY3MikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRoaWRkZW5wcm9wZXJ0eShnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllciwgIlNpbXVsYXRpb25SYWRpdXMiLCBtYXRoLmh1Z2UpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsIF9HLkZ1bGx5a2F0YWt1cmkgPT0gZmFsc2Ugb3IgdjYyNi5IdW1hbm9pZC5IZWFsdGggPD0gMCBvciBub3QgdjYyNi5QYXJlbnQgb3IgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkJhY2twYWNrOkZpbmRGaXJzdENoaWxkKCJHb2QncyBDaGFsaWNlIikgb3IgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiR29kJ3MgQ2hhbGljZSIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbHNlaWYgc3RyaW5nLmZpbmQoZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiU3dlZXRDaGFsaWNlTnBjIiksICJXaGVyZSIpIHRoZW4KICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJTd2VldENoYWxpY2VOcGMiKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbmQKICAgIGVuZAplbmQpCmxvY2FsIHZhcl8wcGh5NDkgPSB2NDg1OkFkZFNlY3Rpb24oeyJBdXRvIEZhcm0gQ2hlc3QgQW5kIEJlcnJ5In0pCnY0ODU6QWRkVG9nZ2xlKHsKICAgIE5hbWUgPSAiQXV0byBDb2xsZWN0IEJlcnJ5IiwKICAgIERlc2NyaXB0aW9uID0gIlRcMjI1XDE4N1wxNzcgXDE5NlwxNDVcMjI1XDE4N1wxNTNuZyBOaFwyMjVcMTg2XDE4M3QgQmVycnkiLAogICAgRGVmYXVsdCA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2NjI4KQogICAgICAgIF9HLkNvbGxlY3RCZXJyeSA9IHY2MjgKICAgICAgICBTdG9wVHdlZW4oX0cuQ29sbGVjdEJlcnJ5KQogICAgZW5kCn0pCnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHdhaXQoKSBkbwogICAgICAgIGlmIF9HLkNvbGxlY3RCZXJyeSB0aGVuCiAgICAgICAgICAgIGxvY2FsIHZhcl9scnBvcnYgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllcgogICAgICAgICAgICBsb2NhbCB2YXJfajBpMGtmID0gKGxfTG9jYWxQbGF5ZXJfOC5DaGFyYWN0ZXIgb3IgbF9Mb2NhbFBsYXllcl84LkNoYXJhY3RlckFkZGVkOldhaXQoKSk6R2V0UGl2b3QoKS5Qb3NpdGlvbgogICAgICAgICAgICBsb2NhbCB2YXJfZTBpbWh1ID0gZ2FtZTpHZXRTZXJ2aWNlKCJDb2xsZWN0aW9uU2VydmljZSIpOkdldFRhZ2dlZCgiQmVycnlCdXNoIikKICAgICAgICAgICAgbG9jYWwgdmFyXzFyYmtidiA9IG1hdGguaHVnZQogICAgICAgICAgICBsb2NhbCB2YXJfNmI1OGxyID0gbmlsCiAgICAgICAgICAgIGxvY2FsIHZhcl91bHYyMGsgPSBuaWwKICAgICAgICAgICAgZm9yIF8sIHY2MzYgaW4gaXBhaXJzKGxfVGFnZ2VkXzEpIGRvCiAgICAgICAgICAgICAgICBmb3IgdjYzNywgXyBpbiBwYWlycyh2NjM2OkdldEF0dHJpYnV0ZXMoKSkgZG8KICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfMzZuNnptID0gKHY2MzYuUGFyZW50OkdldFBpdm90KCkuUG9zaXRpb24gLSBsX1Bvc2l0aW9uXzIpLk1hZ25pdHVkZQogICAgICAgICAgICAgICAgICAgIGlmIGxfTWFnbml0dWRlXzQgPCBsX2h1Z2VfMSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGxfaHVnZV8xID0gbF9NYWduaXR1ZGVfNAogICAgICAgICAgICAgICAgICAgICAgICB2NjMzID0gdjYzNgogICAgICAgICAgICAgICAgICAgICAgICB2NjM0ID0gdjYzNwogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICBpZiB2NjMzIGFuZCB2NjM0IHRoZW4KICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9hejN1eXogPSB2NjMzLlBhcmVudAogICAgICAgICAgICAgICAgbG9jYWwgdmFyXzQ2d2t5ayA9IGxfUGFyZW50XzA6R2V0UGl2b3QoKS5Qb3NpdGlvbgogICAgICAgICAgICAgICAgVFAxKENGcmFtZS5uZXcobF9Qb3NpdGlvbl8zICsgVmVjdG9yMy5uZXcoMCwgMiwgMCkpKQogICAgICAgICAgICAgICAgdGFzay53YWl0KDAuNSkKICAgICAgICAgICAgICAgIGxvY2FsIHZhcl8xY2J5ZmwgPSBsX1BhcmVudF8wOkZpbmRGaXJzdENoaWxkKHY2MzQpCiAgICAgICAgICAgICAgICBpZiBsX2xfUGFyZW50XzBfRmlyc3RDaGlsZF8wIGFuZCBsX2xfUGFyZW50XzBfRmlyc3RDaGlsZF8wOklzQSgiQmFzZVBhcnQiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgVFAxKGxfbF9QYXJlbnRfMF9GaXJzdENoaWxkXzAuQ0ZyYW1lICsgVmVjdG9yMy5uZXcoMCwgMSwgMCkpCiAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KDAuMykKICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfNW0xMGM2ID0gZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsSW5wdXRNYW5hZ2VyIikKICAgICAgICAgICAgICAgICAgICBsX1ZpcnR1YWxJbnB1dE1hbmFnZXJfMjpTZW5kS2V5RXZlbnQodHJ1ZSwgRW51bS5LZXlDb2RlLkUsIGZhbHNlLCBnYW1lKQogICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgwLjEpCiAgICAgICAgICAgICAgICAgICAgbF9WaXJ0dWFsSW5wdXRNYW5hZ2VyXzI6U2VuZEtleUV2ZW50KGZhbHNlLCBFbnVtLktleUNvZGUuRSwgZmFsc2UsIGdhbWUpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZWxzZWlmIF9HLkNvbGxlY3RCZXJyeUhvcCB0aGVuCiAgICAgICAgICAgICAgICBIb3AoKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAplbmQpCnY0ODU6QWRkVG9nZ2xlKHsKICAgIE5hbWUgPSAiQXV0byBGYXJtIENoZXN0IFsgVHdlZW4gXSIsCiAgICBEZXNjcmlwdGlvbiA9ICJUXDIyNVwxODdcMTc3IFwxOTZcMTQ1XDIyNVwxODdcMTUzbmcgTmhcMjI1XDE4NlwxODN0IHJcMTk4XDE3NlwxOThcMTYxbmcgYlwyMjVcMTg2XDE3N25nIHR3ZWVuIiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjY0NCkKICAgICAgICBfRy5GYXJtQ2hlc3QgPSB2NjQ0CiAgICAgICAgU3RvcFR3ZWVuKF9HLkZhcm1DaGVzdCkKICAgIGVuZAp9KQpzcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB3YWl0KCkgZG8KICAgICAgICBpZiBfRy5GYXJtQ2hlc3QgdGhlbgogICAgICAgICAgICBsb2NhbCB2YXJfZHJ0ZjMzID0gZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIKICAgICAgICAgICAgbG9jYWwgdmFyXzF3N2owcSA9IChsX0xvY2FsUGxheWVyXzkuQ2hhcmFjdGVyIG9yIGxfTG9jYWxQbGF5ZXJfOS5DaGFyYWN0ZXJBZGRlZDpXYWl0KCkpOkdldFBpdm90KCkuUG9zaXRpb24KICAgICAgICAgICAgbG9jYWwgdmFyXzk1a2Q5bSA9IGdhbWU6R2V0U2VydmljZSgiQ29sbGVjdGlvblNlcnZpY2UiKTpHZXRUYWdnZWQoIl9DaGVzdFRhZ2dlZCIpCiAgICAgICAgICAgIGxvY2FsIHZhcl9wcWgyN2ggPSBtYXRoLmh1Z2UKICAgICAgICAgICAgbG9jYWwgdmFyXzdhNGVidCA9IG5pbAogICAgICAgICAgICBmb3IgdjY1MCA9IDEsICNsX1RhZ2dlZF8yIGRvCiAgICAgICAgICAgICAgICBsb2NhbCB2YXJfOHFzbG1oID0gbF9UYWdnZWRfMlt2NjUwXQogICAgICAgICAgICAgICAgbG9jYWwgdmFyX3ZxM2ZmdyA9ICh2NjUxOkdldFBpdm90KCkuUG9zaXRpb24gLSBsX1Bvc2l0aW9uXzQpLk1hZ25pdHVkZQogICAgICAgICAgICAgICAgaWYgbm90IHY2NTE6R2V0QXR0cmlidXRlKCJJc0Rpc2FibGVkIikgYW5kIGxfTWFnbml0dWRlXzUgPCBsX2h1Z2VfMiB0aGVuCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX3ptbzF5NyA9IGxfTWFnbml0dWRlXzUKICAgICAgICAgICAgICAgICAgICB2NjQ5ID0gdjY1MQogICAgICAgICAgICAgICAgICAgIGxfaHVnZV8yID0gbF9sX01hZ25pdHVkZV81XzAKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICAgICAgaWYgdjY0OSB0aGVuCiAgICAgICAgICAgICAgICBsb2NhbCB2YXJfOHgyNzBsID0gdjY0OS5HZXRQaXZvdCh2NjQ5KS5Qb3NpdGlvbgogICAgICAgICAgICAgICAgbG9jYWwgdmFyXzQ3cWd0byA9IENGcmFtZS5uZXcobF9Qb3NpdGlvbl81KQogICAgICAgICAgICAgICAgdG9wb3ModjY1NSkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKZW5kKQpsb2NhbCB2YXJfc3pxdXM0ID0gdjQ4NTpBZGRTZWN0aW9uKHsiQm9zcyBGcmFtIn0pCnY0ODU6QWRkQnV0dG9uKHsKICAgIE5hbWUgPSAiQ1wyMjVcMTg2XDE3M3AgTmhcMjI1XDE4NlwxNzN0IEJvc3MiLAogICAgRGVzY3JpcHRpb24gPSAiTFwxOTVcMTYwbSBtXDIyNVwxODdcMTU1aSBkYW5oIHNcMTk1XDE2MWNoIGJvc3MiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgLS0gZW1wdHkgYmxvY2sKICAgIGVuZAp9KQpsb2NhbCB2YXJfN3Mxb3h1ID0gdjQ4NTpBZGRQYXJhZ3JhcGgoe1RpdGxlID0gIkJvc3MgU3Bhd24gU3RhdHVzIiwgQ29udGVudCA9ICJJbml0aWFsaXppbmcuLi4ifSkKdGFzay5zcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB0YXNrLndhaXQoMSkgZG8KICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgIGlmIF9HLlNlbGVjdEJvc3MgYW5kIChnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6RmluZEZpcnN0Q2hpbGQoX0cuU2VsZWN0Qm9zcykgb3IgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKF9HLlNlbGVjdEJvc3MpKSB0aGVuCiAgICAgICAgICAgICAgICB2NjU3OlNldCgiU3RhdHVzOiBCb3NzIFNwYXduIFwyMjZcMTU2XDEzMyIpCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHY2NTc6U2V0KCJTdGF0dXM6IEJvc3MgTm90IFNwYXduIFwyMjZcMTU3XDE0MCIpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZCkKICAgIGVuZAplbmQpCmxvY2FsIHZhcl92emJ0eWIgPSB7fQppZiBXb3JsZDEgdGhlbgogICAgdjY1OCA9IHsKICAgICAgICAiVGhlIEdvcmlsbGEgS2luZyIsCiAgICAgICAgIkJvYmJ5IiwKICAgICAgICAiWWV0aSIsCiAgICAgICAgIk1vYiBMZWFkZXIiLAogICAgICAgICJWaWNlIEFkbWlyYWwiLAogICAgICAgICJXYXJkZW4iLAogICAgICAgICJDaGllZiBXYXJkZW4iLAogICAgICAgICJTd2FuIiwKICAgICAgICAiTWFnbWEgQWRtaXJhbCIsCiAgICAgICAgIkZpc2htYW4gTG9yZCIsCiAgICAgICAgIld5c3BlciIsCiAgICAgICAgIlRodW5kZXIgR29kIiwKICAgICAgICAiQ3lib3JnIiwKICAgICAgICAiU2FiZXIgRXhwZXJ0IgogICAgfQplbHNlaWYgbm90IFdvcmxkMiB0aGVuCiAgICBpZiBXb3JsZDMgdGhlbgogICAgICAgIHY2NTggPSB7CiAgICAgICAgICAgICIiLAogICAgICAgICAgICAiVHlyYW50IG9mIHRoZSBTa2llcyIsCiAgICAgICAgICAgICJTdG9uZSIsCiAgICAgICAgICAgICJJc2xhbmQgRW1wcmVzcyIsCiAgICAgICAgICAgICJLaWxvIEFkbWlyYWwiLAogICAgICAgICAgICAiQ2FwdGFpbiBFbGVwaGFudCIsCiAgICAgICAgICAgICJCZWF1dGlmdWwgUGlyYXRlIiwKICAgICAgICAgICAgInJpcF9pbmRyYSBUcnVlIEZvcm0iLAogICAgICAgICAgICAiTG9uZ21hIiwKICAgICAgICAgICAgIlNvdWwgUmVhcGVyIiwKICAgICAgICAgICAgIkNha2UgUXVlZW4iCiAgICAgICAgfQogICAgZW5kCmVsc2UKICAgIHY2NTggPSB7CiAgICAgICAgIkRpYW1vbmQiLAogICAgICAgICJKZXJlbXkiLAogICAgICAgICJGYWppdGEiLAogICAgICAgICJEb24gU3dhbiIsCiAgICAgICAgIlNtb2tlIEFkbWlyYWwiLAogICAgICAgICJDdXJzZWQgQ2FwdGFpbiIsCiAgICAgICAgIkRhcmtiZWFyZCIsCiAgICAgICAgIk9yZGVyIiwKICAgICAgICAiQXdha2VuZWQgSWNlIEFkbWlyYWwiLAogICAgICAgICJUaWRlIEtlZXBlciIKICAgIH0KZW5kCnY0ODU6QWRkRHJvcGRvd24oewogICAgTmFtZSA9ICJBdXRvIFNlbGVjdCBCb3NzIiwKICAgIERlc2NyaXB0aW9uID0gIkNoXDIyNVwxODdcMTQxbiBCb3NzIENcMjI1XDE4NlwxNjduIEZhcm0iLAogICAgT3B0aW9ucyA9IHY2NTgsCiAgICBEZWZhdWx0ID0gdjY1OFsxXSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjY1OSkKICAgICAgICBfRy5TZWxlY3RCb3NzID0gdjY1OQogICAgZW5kCn0pCnY0ODU6QWRkVG9nZ2xlKHsKICAgIE5hbWUgPSAiRmFybSBCb3NzIiwKICAgIERlc2NyaXB0aW9uID0gIkZhcm0gQm9zcyBcMTk2XDE0NFwxOTVcMTYzIENoXDIyNVwxODdcMTQxbiIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY2NjApCiAgICAgICAgX0cuQXV0b0Jvc3MgPSB2NjYwCiAgICAgICAgU3RvcFR3ZWVuKF9HLkF1dG9Cb3NzKQogICAgZW5kCn0pCnRhc2suc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgdGFzay53YWl0KCkgZG8KICAgICAgICBpZiBfRy5BdXRvQm9zcyBhbmQgX0cuU2VsZWN0Qm9zcyB0aGVuCiAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGlmIG5vdCBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoX0cuU2VsZWN0Qm9zcykgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKTpGaW5kRmlyc3RDaGlsZChfRy5TZWxlY3RCb3NzKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKTpGaW5kRmlyc3RDaGlsZChfRy5TZWxlY3RCb3NzKS5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoNSwgMTAsIDIpKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIGZvciBfLCB2NjYyIGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBpZiB2NjYyLk5hbWUgPT0gX0cuU2VsZWN0Qm9zcyBhbmQgdjY2MjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKSBhbmQgdjY2MjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIGFuZCB2NjYyLkh1bWFub2lkLkhlYWx0aCA+IDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRvSGFraSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXF1aXBXZWFwb24oX0cuU2VsZWN0V2VhcG9uKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY2NjIuSHVtYW5vaWRSb290UGFydC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NjYyLkh1bWFub2lkLldhbGtTcGVlZCA9IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NjYyLkh1bWFub2lkUm9vdFBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KDgwLCA4MCwgODApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3ModjY2Mi5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoMCwgMzAsIDApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGhpZGRlbnByb3BlcnR5KGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLCAiU2ltdWxhdGlvblJhZGl1cyIsIG1hdGguaHVnZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsIG5vdCBfRy5BdXRvQm9zcyBvciBub3QgdjY2Mi5QYXJlbnQgb3IgdjY2Mi5IdW1hbm9pZC5IZWFsdGggPD0gMAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kKQpsb2NhbCB2YXJfdGZtYXRsID0gdjQ4NTpBZGRTZWN0aW9uKHsiTWF0ZXJpYWwifSkKbG9jYWwgdmFyXzBnZG95ZCA9IHt9CmlmIG5vdCBXb3JsZDEgdGhlbgogICAgaWYgV29ybGQyIHRoZW4KICAgICAgICB2NjY0ID0geyJSYWRpb2FjdGl2ZSIsICJNeXN0aWMgRHJvcGxldCIsICJNYWdtYSBPcmUiLCAiTGVhdGhlciIsICJFY3RvcGxhc20iLCAiU2NyYXAgTWV0YWwifQogICAgZWxzZWlmIFdvcmxkMyB0aGVuCiAgICAgICAgdjY2NCA9IHsiTGVhdGhlciIsICJTY3JhcCBNZXRhbCIsICJDb25qdXJlZCBDb2NvYSIsICJEcmFnb24gU2NhbGUiLCAiR3VucG93ZGVyIiwgIkZpc2ggVGFpbCIsICJNaW5pIFR1c2sifQogICAgZW5kCmVsc2UKICAgIHY2NjQgPSB7Ik1hZ21hIE9yZSIsICJBbmdlbCBXaW5ncyIsICJMZWF0aGVyIiwgIlNjcmFwIE1ldGFsIn0KZW5kCmZ1bmN0aW9uIGdldENvbmZpZ01hdGVyaWFsKHY2NjUpCiAgICBpZiB2NjY1IH49ICJSYWRpb2FjdGl2ZSIgb3Igbm90IFdvcmxkMiB0aGVuCiAgICAgICAgaWYgdjY2NSB+PSAiTXlzdGljIERyb3BsZXQiIG9yIG5vdCBXb3JsZDIgdGhlbgogICAgICAgICAgICBpZiB2NjY1ID09ICJNYWdtYSBPcmUiIGFuZCBXb3JsZDEgdGhlbgogICAgICAgICAgICAgICAgTWF0ZXJpYWxNb24gPSB7Ik1pbGl0YXJ5IFNweSJ9CiAgICAgICAgICAgICAgICBNYXRlcmlhbFBvcyA9IENGcmFtZS5uZXcoLTU4NTAuMjgsIDc3LjI4LCA4ODQ4LjY3KQogICAgICAgICAgICBlbHNlaWYgdjY2NSB+PSAiTWFnbWEgT3JlIiBvciBub3QgV29ybGQyIHRoZW4KICAgICAgICAgICAgICAgIGlmIHY2NjUgfj0gIkFuZ2VsIFdpbmdzIiBvciBub3QgV29ybGQxIHRoZW4KICAgICAgICAgICAgICAgICAgICBpZiB2NjY1IH49ICJMZWF0aGVyIiBvciBub3QgV29ybGQxIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgaWYgdjY2NSB+PSAiTGVhdGhlciIgb3Igbm90IFdvcmxkMiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB2NjY1IH49ICJMZWF0aGVyIiBvciBub3QgV29ybGQzIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB2NjY1IH49ICJFY3RvcGxhc20iIG9yIG5vdCBXb3JsZDIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB2NjY1IH49ICJTY3JhcCBNZXRhbCIgb3Igbm90IFdvcmxkMSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB2NjY1ID09ICJTY3JhcCBNZXRhbCIgYW5kIFdvcmxkMiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0ZXJpYWxNb24gPSB7Ik1lcmNlbmFyeSJ9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0ZXJpYWxQb3MgPSBDRnJhbWUubmV3KC05NzIuMywgNzMuMDQsIDE0MTkuMjkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgdjY2NSA9PSAiU2NyYXAgTWV0YWwiIGFuZCBXb3JsZDMgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGVyaWFsTW9uID0geyJQaXJhdGUgTWlsbGlvbmFpcmUifQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGVyaWFsUG9zID0gQ0ZyYW1lLm5ldygtMjg5LjYzLCA0My44MiwgNTU4My42NikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiB2NjY1IH49ICJDb25qdXJlZCBDb2NvYSIgb3Igbm90IFdvcmxkMyB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdjY2NSA9PSAiRHJhZ29uIFNjYWxlIiBhbmQgV29ybGQzIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0ZXJpYWxNb24gPSB7IkRyYWdvbiBDcmV3IFdhcnJpb3IifQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRlcmlhbFBvcyA9IENGcmFtZS5uZXcoNTgyNC4wNiwgNTEuMzgsIC0xMTA2LjY5KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiB2NjY1ID09ICJHdW5wb3dkZXIiIGFuZCBXb3JsZDMgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRlcmlhbE1vbiA9IHsiUGlzdG9sIEJpbGxpb25haXJlIn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0ZXJpYWxQb3MgPSBDRnJhbWUubmV3KC0zNzkuNjEsIDczLjg0LCA1OTI4LjUyKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiB2NjY1IH49ICJGaXNoIFRhaWwiIG9yIG5vdCBXb3JsZDMgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB2NjY1ID09ICJNaW5pIFR1c2siIGFuZCBXb3JsZDMgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0ZXJpYWxNb24gPSB7Ik1pdGhvbG9naWNhbCBQaXJhdGUifQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0ZXJpYWxQb3MgPSBDRnJhbWUubmV3KC0xMzUxNi4wNCwgNDY5LjgxLCAtNjg5OS4xNikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRlcmlhbE1vbiA9IHsiRmlzaG1hbiBDYXB0YWluIn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0ZXJpYWxQb3MgPSBDRnJhbWUubmV3KC0xMDk2MS4wMSwgMzMxLjc5LCAtODkxNC4yOSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRlcmlhbE1vbiA9IHsiQ2hvY29sYXRlIEJhciBCYXR0bGVyIn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRlcmlhbFBvcyA9IENGcmFtZS5uZXcoNzQ0Ljc5LCAyNC43NiwgLTEyNjM3LjcyKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGVyaWFsTW9uID0geyJCcnV0ZSJ9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRlcmlhbFBvcyA9IENGcmFtZS5uZXcoLTExMzIuNDIsIDE0Ljg0LCA0MjkzLjMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0ZXJpYWxNb24gPSB7IlNoaXAgRGVja2hhbmQiLCAiU2hpcCBFbmdpbmVlciIsICJTaGlwIFN0ZXdhcmQiLCAiU2hpcCBPZmZpY2VyIn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0ZXJpYWxQb3MgPSBDRnJhbWUubmV3KDkxMS4zNSwgMTI1Ljk1LCAzMzE1OS41MykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRlcmlhbE1vbiA9IHsiSnVuZ2xlIFBpcmF0ZSJ9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0ZXJpYWxQb3MgPSBDRnJhbWUubmV3KC0xMTk3NS43OCwgMzMxLjc3LCAtMTA2MjAuMDMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0ZXJpYWxNb24gPSB7Ik1hcmluZSBDYXB0YWluIn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGVyaWFsUG9zID0gQ0ZyYW1lLm5ldygtMjAxMC41LCA3MywgLTMzMjYuNjIpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgTWF0ZXJpYWxNb24gPSB7IlBpcmF0ZSJ9CiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGVyaWFsUG9zID0gQ0ZyYW1lLm5ldygtMTIxMS44NywgNC43OCwgMzkxNi44MykKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBNYXRlcmlhbE1vbiA9IHsiUm95YWwgU29sZGllciJ9CiAgICAgICAgICAgICAgICAgICAgTWF0ZXJpYWxQb3MgPSBDRnJhbWUubmV3KC03ODI3LjE1LCA1NjA2LjkxLCAtMTcwNS41OCkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBNYXRlcmlhbE1vbiA9IHsiTGF2YSBQaXJhdGUifQogICAgICAgICAgICAgICAgTWF0ZXJpYWxQb3MgPSBDRnJhbWUubmV3KC01MjM0LjYsIDUxLjk1LCAtNDczMi4yNykKICAgICAgICAgICAgZW5kCiAgICAgICAgZWxzZQogICAgICAgICAgICBNYXRlcmlhbE1vbiA9IHsiV2F0ZXIgRmlnaHRlciJ9CiAgICAgICAgICAgIE1hdGVyaWFsUG9zID0gQ0ZyYW1lLm5ldygtMzM1Mi45LCAyODUuMDEsIC0xMDUzNC44NCkKICAgICAgICBlbmQKICAgIGVsc2UKICAgICAgICBNYXRlcmlhbE1vbiA9IHsiRmFjdG9yeSBTdGFmZiJ9CiAgICAgICAgTWF0ZXJpYWxQb3MgPSBDRnJhbWUubmV3KC01MDcuNzgsIDczLCAtMTI2LjQ1KQogICAgZW5kCmVuZAp2NDg1OkFkZERyb3Bkb3duKHsKICAgIE5hbWUgPSAiU2VsZWN0IE1hdGVyaWFsIiwKICAgIERlc2NyaXB0aW9uID0gIkNoXDIyNVwxODdcMTQxbiB2XDIyNVwxODZcMTczdCBwaFwyMjVcMTg2XDE2OW0gY1wyMjVcMTg2XDE2N24gZmFybSIsCiAgICBPcHRpb25zID0gdjY2NCwKICAgIERlZmF1bHQgPSB2NjY0WzFdLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2NjY2KQogICAgICAgIF9HLlNlbGVjdE1hdGVyaWFsID0gdjY2NgogICAgZW5kCn0pCnY0ODU6QWRkVG9nZ2xlKHsKICAgIE5hbWUgPSAiU3RhcnQgRmFybSIsCiAgICBEZXNjcmlwdGlvbiA9ICJUXDIyNVwxODdcMTc3IFwxOTZcMTQ1XDIyNVwxODdcMTUzbmcgZmFybSBtYXRlcmlhbCBcMTk2XDE0NVwxOTVcMTYzIGNoXDIyNVwxODdcMTQxbiIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY2NjcpCiAgICAgICAgX0cuQXV0b0Zhcm1NYXRlcmlhbCA9IHY2NjcKICAgICAgICBTdG9wVHdlZW4oX0cuQXV0b0Zhcm1NYXRlcmlhbCkKICAgIGVuZAp9KQp0YXNrLnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHRhc2sud2FpdCgwLjIpIGRvCiAgICAgICAgaWYgX0cuQXV0b0Zhcm1NYXRlcmlhbCBhbmQgX0cuU2VsZWN0TWF0ZXJpYWwgdGhlbgogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBnZXRDb25maWdNYXRlcmlhbChfRy5TZWxlY3RNYXRlcmlhbCkKICAgICAgICAgICAgICAgIGZvciBfLCB2NjY5IGluIHBhaXJzKE1hdGVyaWFsTW9uKSBkbwogICAgICAgICAgICAgICAgICAgIGlmIHdvcmtzcGFjZS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKHY2NjkpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHY2NzEgaW4gcGFpcnMod29ya3NwYWNlLkVuZW1pZXM6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHY2NzEuTmFtZSA9PSB2NjY5IGFuZCB2NjcxOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpIGFuZCB2NjcxOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikgYW5kIHY2NzEuSHVtYW5vaWQuSGVhbHRoID4gMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dG9IYWtpKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXF1aXBXZWFwb24oX0cuU2VsZWN0V2VhcG9uKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQb3NNb24gPSB2NjcxLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbkZhcm0gPSB2NjcxLk5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3ModjY3MS5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoMCwgMzAsIDApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsIG5vdCBfRy5BdXRvRmFybU1hdGVyaWFsIG9yIG5vdCB2NjcxLlBhcmVudCBvciB2NjcxLkh1bWFub2lkLkhlYWx0aCA8PSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICBVbkVxdWlwV2VhcG9uKF9HLlNlbGVjdFdlYXBvbikKICAgICAgICAgICAgICAgICAgICAgICAgaWYgX0cuU2VsZWN0TWF0ZXJpYWwgPT0gIkVjdG9wbGFzbSIgYW5kIChNYXRlcmlhbFBvcy5Qb3NpdGlvbiAtIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikuTWFnbml0dWRlID4gMTgwMDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZS5SZXBsaWNhdGVkU3RvcmFnZS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoInJlcXVlc3RFbnRyYW5jZSIsIFZlY3RvcjMubmV3KDkyMy4yMSwgMTI2Ljk3LCAzMjg1Mi44MykpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICB0b3BvcyhNYXRlcmlhbFBvcykKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kKQpsb2NhbCB2YXJfd2Zra2k0ID0gdjQ4NjpBZGRTZWN0aW9uKHsiQXV0byBGaXNoaW5nIHwgIFRcMjI1XDE4N1wxNzcgXDE5NlwxNDRcMjI1XDE4N1wxNTNuZyBDXDE5NVwxNjJ1IENcMTk1XDE2MSJ9KQp2NDg2OkFkZFRvZ2dsZSh7CiAgICBUaXRsZSA9ICJBdXRvIEZpc2hpbmciLAogICAgRGVzY3JpcHRpb24gPSAiVFwyMjVcMTg3XDE3NyBcMTk2XDE0NFwyMjVcMTg3XDE1M25nIENcMTk1XDE2MnUgQ1wxOTVcMTYxIFhvXDE5NVwxNjEgSGlcMjI1XDE4N1wxMzV1IFwyMjVcMTg3XDE2OG5nIEtoaSBDXDE5NVwxNjJ1IiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjY3MykKICAgICAgICBfRy5BdXRvRmlzaGluZyA9IHY2NzMKICAgIGVuZAp9KQpsb2NhbCB2YXJfeW1na3RqID0gd29ya3NwYWNlCmxvY2FsIHZhcl93bHZ1eWMgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIKbG9jYWwgdmFyX2xlNWhiaSA9IGdhbWUuUmVwbGljYXRlZFN0b3JhZ2U6V2FpdEZvckNoaWxkKCJGaXNoUmVwbGljYXRlZCIpCmxvY2FsIHZhcl9pYmg4b3ogPSBsX0Zpc2hSZXBsaWNhdGVkXzA6V2FpdEZvckNoaWxkKCJGaXNoaW5nUmVxdWVzdCIpCmxvY2FsIHZhcl92OHg2cm0gPSByZXF1aXJlKGxfRmlzaFJlcGxpY2F0ZWRfMC5GaXNoaW5nQ2xpZW50LkNvbmZpZykuUm9kLk1heExhdW5jaERpc3RhbmNlCmxvY2FsIHZhcl92anAyZHcgPSByZXF1aXJlKGdhbWUuUmVwbGljYXRlZFN0b3JhZ2UuVXRpbC5HZXRXYXRlckhlaWdodEF0TG9jYXRpb24pCnRhc2suc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgdGFzay53YWl0KCkgZG8KICAgICAgICBpZiBfRy5BdXRvRmlzaGluZyB0aGVuCiAgICAgICAgICAgIGxvY2FsIHZhcl95N2F3aDUgPSBsX0xvY2FsUGxheWVyXzEwLkNoYXJhY3RlcgogICAgICAgICAgICBsb2NhbCB2YXJfbWR2Nmp0ID0gbF9DaGFyYWN0ZXJfNiBhbmQgbF9DaGFyYWN0ZXJfNjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCiAgICAgICAgICAgIGxvY2FsIHZhcl9pb3BzenggPSBsX0NoYXJhY3Rlcl82IGFuZCBsX0NoYXJhY3Rlcl82OkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiVG9vbCIpCiAgICAgICAgICAgIGlmIF9HLlNlbGVjdGVkUm9kIGFuZCAobm90IHY2ODIgb3IgdjY4Mi5OYW1lIH49IF9HLlNlbGVjdGVkUm9kKSB0aGVuCiAgICAgICAgICAgICAgICBsb2NhbCB2YXJfOHlobGE5ID0gbF9Mb2NhbFBsYXllcl8xMC5CYWNrcGFjazpGaW5kRmlyc3RDaGlsZChfRy5TZWxlY3RlZFJvZCkKICAgICAgICAgICAgICAgIGlmIGxfRmlyc3RDaGlsZF8yIHRoZW4KICAgICAgICAgICAgICAgICAgICBsX0xvY2FsUGxheWVyXzEwLkNoYXJhY3Rlci5IdW1hbm9pZDpFcXVpcFRvb2wobF9GaXJzdENoaWxkXzIpCiAgICAgICAgICAgICAgICAgICAgdjY4MiA9IGxfRmlyc3RDaGlsZF8yCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGlmIGxfQ2hhcmFjdGVyXzYgYW5kIHY2ODEgYW5kIHY2ODIgdGhlbgogICAgICAgICAgICAgICAgbG9jYWwgdmFyX3JuemZzOCA9IHY2NzkodjY4MS5Qb3NpdGlvbikKICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9jeGo0YzcsIHY2ODYgPSB3b3Jrc3BhY2U6RmluZFBhcnRPblJheVdpdGhJZ25vcmVMaXN0KFJheS5uZXcobF9DaGFyYWN0ZXJfNi5IZWFkLlBvc2l0aW9uLCB2NjgxLkNGcmFtZS5Mb29rVmVjdG9yICogbF9NYXhMYXVuY2hEaXN0YW5jZV8wKSwge2xfQ2hhcmFjdGVyXzYsIHdvcmtzcGFjZS5DaGFyYWN0ZXJzLCB3b3Jrc3BhY2UuRW5lbWllc30pCiAgICAgICAgICAgICAgICBsb2NhbCB2YXJfcTA5N3lkID0gdjY4NiBhbmQgVmVjdG9yMy5uZXcodjY4Ni5YLCBtYXRoLm1heCh2Njg2LlksIHY2ODQpLCB2Njg2LlopCiAgICAgICAgICAgICAgICBsb2NhbCB2YXJfNnEzOTgwID0gdjY4Mi5HZXRBdHRyaWJ1dGUodjY4MiwgIlN0YXRlIikKICAgICAgICAgICAgICAgIGxvY2FsIHZhcl84ZjdqNjkgPSB2NjgyLkdldEF0dHJpYnV0ZSh2NjgyLCAiU2VydmVyU3RhdGUiKQogICAgICAgICAgICAgICAgaWYgdjY4OCB+PSAiUmVlbGVkSW4iIGFuZCB2Njg5IH49ICJSZWVsZWRJbiIgb3Igbm90IHY2ODcgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIHY2ODkgPT0gIkJpdGluZyIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBsX0Zpc2hpbmdSZXF1ZXN0XzA6SW52b2tlU2VydmVyKCJDYXRjaGluZyIsIHRydWUpCiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgwLjEpCiAgICAgICAgICAgICAgICAgICAgICAgIGxfRmlzaGluZ1JlcXVlc3RfMDpJbnZva2VTZXJ2ZXIoIkNhdGNoIiwgMSkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBsX0Zpc2hpbmdSZXF1ZXN0XzA6SW52b2tlU2VydmVyKCJTdGFydENhc3RpbmciKQogICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgpCiAgICAgICAgICAgICAgICAgICAgbF9GaXNoaW5nUmVxdWVzdF8wOkludm9rZVNlcnZlcigiQ2FzdExpbmVBdExvY2F0aW9uIiwgdjY4NywgMTAwLCB0cnVlKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCmVuZCkKdjQ4NjpBZGREcm9wZG93bih7CiAgICBOYW1lID0gIlNlbGVjdCBGaXNoaW5nIEx1cmUiLAogICAgRGVzY3JpcHRpb24gPSAiVFwyMjVcMTg3XDE3NyBcMTk2XDE0NFwyMjVcMTg3XDE1M25nIENoXDIyNVwxODdcMTQxbiBNXDIyNVwxODdcMTQ3aSBLaGkgQ1wxOTVcMTYydSBDXDE5NVwxNjEiLAogICAgT3B0aW9ucyA9IHsiQmFzaWMgQmFpdCIsICJLZWxwIEJhaXQiLCAiR29vZCBCYWl0IiwgIkFieXNzYWwgQmFpdCIsICJGcm96ZW4gQmFpdCIsICJFcGljIEJhaXQiLCAiQ2Fybml2b3JlIEJhaXQifSwKICAgIERlZmF1bHQgPSAiQmFzaWMgQmFpdCIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY2OTApCiAgICAgICAgX0cuU2VsZWN0ZWRCYWl0ID0gdjY5MAogICAgICAgIGxfRmlzaGluZ1JlcXVlc3RfMDpJbnZva2VTZXJ2ZXIoIlNlbGVjdEJhaXQiLCB2NjkwKQogICAgZW5kCn0pCnY0ODY6QWRkRHJvcGRvd24oewogICAgTmFtZSA9ICJTZWxlY3QgRmlzaGluZyBSb2QiLAogICAgRGVzY3JpcHRpb24gPSAiVFwyMjVcMTg3XDE3NyBcMTk2XDE0NFwyMjVcMTg3XDE1M25nIENoXDIyNVwxODdcMTQxbiBDXDIyNVwxODZcMTY3biBDXDE5NVwxNjJ1IEtoaSBDXDE5NVwxNjJ1IENcMTk1XDE2MSIsCiAgICBPcHRpb25zID0geyJGaXNoaW5nIFJvZCIsICJHb2xkIFJvZCIsICJTaGFyayBSb2QiLCAiU2hlbGwgUm9kIiwgIlRyZWFzdXJlIFJvZCJ9LAogICAgRGVmYXVsdCA9ICJGaXNoaW5nIFJvZCIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY2OTEpCiAgICAgICAgX0cuU2VsZWN0ZWRSb2QgPSB2NjkxCiAgICBlbmQKfSkKaWYgV29ybGQxIHRoZW4KICAgIGxvY2FsIHZhcl9qNDAweXYgPSB2NDg3OkFkZFNlY3Rpb24oeyJRdWVzdCBTZWEgMSJ9KQogICAgdjQ4NzpBZGRUb2dnbGUoewogICAgICAgIE5hbWUgPSAiQXV0b1NlY29uZFNlYSIsCiAgICAgICAgRGVzY3JpcHRpb24gPSAiVFwyMjVcMTg3XDE3NyBcMTk2XDE0NVwyMjVcMTg3XDE1M25nIEF1dG8gUXVlc3QgU2VhIDIiLAogICAgICAgIERlZmF1bHQgPSBmYWxzZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY2OTMpCiAgICAgICAgICAgIF9HLkF1dG9TZWNvbmRTZWEgPSB2NjkzCiAgICAgICAgICAgIFN0b3BUd2VlbihfRy5BdXRvU2Vjb25kU2VhKQogICAgICAgIGVuZAogICAgfSkKICAgIHNwYXduKGZ1bmN0aW9uKCkKICAgICAgICB3aGlsZSB3YWl0KCkgZG8KICAgICAgICAgICAgaWYgX0cuQXV0b1NlY29uZFNlYSB0aGVuCiAgICAgICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgaWYgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkRhdGEuTGV2ZWwuVmFsdWUgPj0gNzAwIGFuZCBXb3JsZDEgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBfRy5BdXRvRmFybSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGdhbWUuV29ya3NwYWNlLk1hcC5JY2UuRG9vci5DYW5Db2xsaWRlID09IHRydWUgYW5kIGdhbWUuV29ya3NwYWNlLk1hcC5JY2UuRG9vci5UcmFuc3BhcmVuY3kgPT0gMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BvcyhDRnJhbWUubmV3KDQ4NTEuODcyMDcwMzEyNSwgNS42NTE0MzQ4OTgzNzY1LCA3MTguNDcwOTQ3MjY1NjMpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdW50aWwgKENGcmFtZS5uZXcoNDg1MS44NzIwNzAzMTI1LCA1LjY1MTQzNDg5ODM3NjUsIDcxOC40NzA5NDcyNjU2MykuUG9zaXRpb24gLSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikuTWFnbml0dWRlIDw9IDMgb3Igbm90IF9HLkF1dG9TZWNvbmRTZWEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkRyZXNzcm9zYVF1ZXN0UHJvZ3Jlc3MiLCAiRGV0ZWN0aXZlIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVxdWlwV2VhcG9uKCJLZXkiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX2tta3hmdSA9IENGcmFtZS5uZXcoMTM0Ny43MTI0LCAzNy4zNzUxNjAyLCAtMTMyNS42NDg4KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3ModjY5NCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsICh2Njk0LlBvc2l0aW9uIC0gZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLk1hZ25pdHVkZSA8PSAzIG9yIG5vdCBfRy5BdXRvU2Vjb25kU2VhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0KDMpCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiBnYW1lLldvcmtzcGFjZS5NYXAuSWNlLkRvb3IuQ2FuQ29sbGlkZSB+PSBmYWxzZSBvciBnYW1lLldvcmtzcGFjZS5NYXAuSWNlLkRvb3IuVHJhbnNwYXJlbmN5IH49IDEgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiVHJhdmVsRHJlc3Nyb3NhIikKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpGaW5kRmlyc3RDaGlsZCgiSWNlIEFkbWlyYWwiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgdjY5NiBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB2Njk2Lk5hbWUgPT0gIkljZSBBZG1pcmFsIiBhbmQgdjY5Ni5IdW1hbm9pZC5IZWFsdGggPiAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dG9IYWtpKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVxdWlwV2VhcG9uKF9HLlNlbGVjdFdlYXBvbikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY2OTYuSHVtYW5vaWRSb290UGFydC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXJ0QnJpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2Njk2Lkh1bWFub2lkUm9vdFBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KDYwLCA2MCwgNjApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2Njk2Lkh1bWFub2lkUm9vdFBhcnQuVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3ModjY5Ni5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoMCwgMzAsIDApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsVXNlciIpOkNhcHR1cmVDb250cm9sbGVyKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiVmlydHVhbFVzZXIiKTpCdXR0b24xRG93bihWZWN0b3IyLm5ldygxMjgwLCA4NzApLCB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5DRnJhbWUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsIHY2OTYuSHVtYW5vaWQuSGVhbHRoIDw9IDAgb3Igbm90IHY2OTYuUGFyZW50IG9yIG5vdCBfRy5BdXRvU2Vjb25kU2VhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIlRyYXZlbERyZXNzcm9zYSIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MoQ0ZyYW1lLm5ldygxMzQ3LjcxMjQsIDM3LjM3NTE2MDIsIC0xMzI1LjY0ODgpKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQpCiAgICBsb2NhbCB2YXJfcHFqdWNzID0gdjQ4NzpBZGRTZWN0aW9uKHsiQm9zcyBHcmV5YmVhcmQifSkKICAgIHY0ODc6QWRkVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIktpbGwgR3JleWJlYXJkIiwKICAgICAgICBEZXNjcmlwdGlvbiA9ICJUXDIyNVwxODdcMTc3IFwxOTZcMTQ1XDIyNVwxODdcMTUzbmcgXDE5NlwxNDRcMTk1XDE2MW5oIEdyZXliZWFyZCIsCiAgICAgICAgRGVmYXVsdCA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjY5OCkKICAgICAgICAgICAgX0cuR3JleWJlYXJkID0gdjY5OAogICAgICAgICAgICBTdG9wVHdlZW4oX0cuR3JleWJlYXJkKQogICAgICAgIGVuZAogICAgfSkKICAgIHNwYXduKGZ1bmN0aW9uKCkKICAgICAgICB3aGlsZSB3YWl0KCkgZG8KICAgICAgICAgICAgaWYgX0cuR3JleWJlYXJkIHRoZW4KICAgICAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICBpZiBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIkdyZXliZWFyZCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHY3MDAgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB2NzAwLk5hbWUgPT0gIkdyZXliZWFyZCIgYW5kIHY3MDA6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikgYW5kIHY3MDA6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBhbmQgdjcwMC5IdW1hbm9pZC5IZWFsdGggPiAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0b0hha2koKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFcXVpcFdlYXBvbihfRy5TZWxlY3RXZWFwb24pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY3MDAuSHVtYW5vaWRSb290UGFydC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjcwMC5IdW1hbm9pZC5XYWxrU3BlZWQgPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY3MDAuSHVtYW5vaWRSb290UGFydC5TaXplID0gVmVjdG9yMy5uZXcoNTAsIDUwLCA1MCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3ModjcwMC5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoMCwgMzAsIDApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxVc2VyIik6Q2FwdHVyZUNvbnRyb2xsZXIoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxVc2VyIik6QnV0dG9uMURvd24oVmVjdG9yMi5uZXcoMTI4MCwgNjcyKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aGlkZGVucHJvcGVydHkoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLCAiU2ltdWxhdGlvblJhZGl1cyIsIG1hdGguaHVnZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCBub3QgX0cuR3JleWJlYXJkIG9yIG5vdCB2NzAwLlBhcmVudCBvciB2NzAwLkh1bWFub2lkLkhlYWx0aCA8PSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICB0b3BvcyhDRnJhbWUubmV3KC01MDIzLjM4MzMwMDc4MTI1LCAyOC42NTIwMzI4NTIxNzI4NSwgNDMzMi4zODE4MzU5Mzc1KSkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgbm90IGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKTpGaW5kRmlyc3RDaGlsZCgiR3JleWJlYXJkIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgX0cuR3JleWJlYXJkaG9wIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIb3AoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKTpGaW5kRmlyc3RDaGlsZCgiR3JleWJlYXJkIikuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDIsIDIwLCAyKSkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kKQogICAgbG9jYWwgdmFyX3FkOTA5cyA9IHY0ODc6QWRkU2VjdGlvbih7IlF1ZXN0IFN3b3JkIn0pCiAgICB2NDg3OkFkZFRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICJBdXRvIEdldCBTYWJlciIsCiAgICAgICAgRGVzY3JpcHRpb24gPSAiVFwyMjVcMTg3XDE3NyBcMTk2XDE0NVwyMjVcMTg3XDE1M25nIExcMjI1XDE4NlwxNjV5IEtpXDIyNVwxODZcMTkxbSBTYWJlciIsCiAgICAgICAgRGVmYXVsdCA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjcwMikKICAgICAgICAgICAgX0cuQXV0b1NhYmVyID0gdjcwMgogICAgICAgICAgICBTdG9wVHdlZW4oX0cuQXV0b1NhYmVyKQogICAgICAgIGVuZAogICAgfSkKICAgIHNwYXduKGZ1bmN0aW9uKCkKICAgICAgICB3aGlsZSB0YXNrLndhaXQoKSBkbwogICAgICAgICAgICBpZiBfRy5BdXRvU2FiZXIgYW5kIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5EYXRhLkxldmVsLlZhbHVlID49IDIwMCB0aGVuCiAgICAgICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgaWYgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5NYXAuSnVuZ2xlLkZpbmFsLlBhcnQuVHJhbnNwYXJlbmN5IH49IDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBpZiBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIlNhYmVyIEV4cGVydCIpIG9yIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKTpGaW5kRmlyc3RDaGlsZCgiU2FiZXIgRXhwZXJ0IikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHY3MDQgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdjcwNDpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKSBhbmQgdjcwNDpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIGFuZCB2NzA0Lkh1bWFub2lkLkhlYWx0aCA+IDAgYW5kIHY3MDQuTmFtZSA9PSAiU2FiZXIgRXhwZXJ0IiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVxdWlwV2VhcG9uKF9HLlNlbGVjdFdlYXBvbikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKHY3MDQuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDAsIDMwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY3MDQuSHVtYW5vaWRSb290UGFydC5TaXplID0gVmVjdG9yMy5uZXcoNjAsIDYwLCA2MCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY3MDQuSHVtYW5vaWRSb290UGFydC5UcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NzA0Lkh1bWFub2lkLkp1bXBQb3dlciA9IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY3MDQuSHVtYW5vaWQuV2Fsa1NwZWVkID0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjcwNC5IdW1hbm9pZFJvb3RQYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmFybVBvcyA9IHY3MDQuSHVtYW5vaWRSb290UGFydC5DRnJhbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbkZhcm0gPSB2NzA0Lk5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiVmlydHVhbFVzZXIiKTpDYXB0dXJlQ29udHJvbGxlcigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxVc2VyIik6QnV0dG9uMURvd24oVmVjdG9yMi5uZXcoMTI4MCwgNjcyKSwgd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuQ0ZyYW1lKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCB2NzA0Lkh1bWFub2lkLkhlYWx0aCA8PSAwIG9yIG5vdCBfRy5BdXRvU2FiZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdjcwNC5IdW1hbm9pZC5IZWFsdGggPD0gMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJQcm9RdWVzdFByb2dyZXNzIiwgIlBsYWNlUmVsaWMiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbHNlaWYgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5NYXAuSnVuZ2xlLlF1ZXN0UGxhdGVzLkRvb3IuVHJhbnNwYXJlbmN5ID09IDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ0ZyYW1lLm5ldygtMTYxMi41NTg4NCwgMzYuOTc3NDEzMiwgMTQ4LjcxOTU0MywgMC4zNzA5MTI3OSwgMy4wNzE3MTUxRS05LCAtMC45Mjg2Njc3MjQsIDMuOTcwOTk0OTFFLTgsIDEsIDEuOTE2NzkzNDhFLTgsIDAuOTI4NjY3NzI0LCAtNC4zOTg2OTc5NEUtOCwgMC4zNzA5MTI3OSkuUG9zaXRpb24gLSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLk1hZ25pdHVkZSA+IDEwMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BvcyhDRnJhbWUubmV3KC0xNjEyLjU1ODg0LCAzNi45Nzc0MTMyLCAxNDguNzE5NTQzLCAwLjM3MDkxMjc5LCAzLjA3MTcxNTFFLTksIC0wLjkyODY2NzcyNCwgMy45NzA5OTQ5MUUtOCwgMSwgMS45MTY3OTM0OEUtOCwgMC45Mjg2Njc3MjQsIC00LjM5ODY5Nzk0RS04LCAwLjM3MDkxMjc5KSkKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgxKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuTWFwLkp1bmdsZS5RdWVzdFBsYXRlcy5QbGF0ZTEuQnV0dG9uLkNGcmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgxKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuTWFwLkp1bmdsZS5RdWVzdFBsYXRlcy5QbGF0ZTIuQnV0dG9uLkNGcmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgxKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuTWFwLkp1bmdsZS5RdWVzdFBsYXRlcy5QbGF0ZTMuQnV0dG9uLkNGcmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgxKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuTWFwLkp1bmdsZS5RdWVzdFBsYXRlcy5QbGF0ZTQuQnV0dG9uLkNGcmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgxKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuTWFwLkp1bmdsZS5RdWVzdFBsYXRlcy5QbGF0ZTUuQnV0dG9uLkNGcmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgxKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbHNlaWYgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5NYXAuRGVzZXJ0LkJ1cm4uUGFydC5UcmFuc3BhcmVuY3kgPT0gMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkJhY2twYWNrOkZpbmRGaXJzdENoaWxkKCJUb3JjaCIpIG9yIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIlRvcmNoIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgRXF1aXBXZWFwb24oIlRvcmNoIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKENGcmFtZS5uZXcoMTExNC42MTQ3NSwgNS4wNDY3OTcyOCwgNDM1MC4yMjgwMywgLTAuNjQ4NDY2NTg3LCAtMS4yODc5OTA5NEUtOSwgMC43NjEyNDMxMDUsIC01LjcwNjUyOTE0RS0xMCwgMSwgMS4yMDU4NDU0MkUtOSwgLTAuNzYxMjQzMTA1LCAzLjQ3NTQ0ODgyRS0xMCwgLTAuNjQ4NDY2NTg3KSkKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MoQ0ZyYW1lLm5ldygtMTYxMC4wMDc1NywgMTEuNTA0OTg1OCwgMTY0LjAwMTU4NywgMC45ODQ4MDc1NTEsIC0wLjE2NzcyMjI4NSwgLTAuMDQ0OTgxODE0OSwgMC4xNzM2NDk0MywgMC45NTEyNDQyMzUsIDAuMjU0OTEyMTk4LCAzLjQyMzcyODA1RS01LCAtMC4yNTg4NTA1MTUsIDAuOTY1OTE3NDA4KSkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZWxzZWlmIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIlByb1F1ZXN0UHJvZ3Jlc3MiLCAiU2lja01hbiIpIH49IDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJQcm9RdWVzdFByb2dyZXNzIiwgIkdldEN1cCIpCiAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoMC41KQogICAgICAgICAgICAgICAgICAgICAgICBFcXVpcFdlYXBvbigiQ3VwIikKICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgwLjUpCiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIlByb1F1ZXN0UHJvZ3Jlc3MiLCAiRmlsbEN1cCIsIGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5DdXApCiAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoMCkKICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiUHJvUXVlc3RQcm9ncmVzcyIsICJTaWNrTWFuIikKICAgICAgICAgICAgICAgICAgICBlbHNlaWYgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiUHJvUXVlc3RQcm9ncmVzcyIsICJSaWNoU29uIikgPT0gIlJpY2hTb24iIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiUHJvUXVlc3RQcm9ncmVzcyIsICJSaWNoU29uIikKICAgICAgICAgICAgICAgICAgICBlbHNlaWYgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiUHJvUXVlc3RQcm9ncmVzcyIsICJSaWNoU29uIikgfj0gMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIlByb1F1ZXN0UHJvZ3Jlc3MiLCAiUmljaFNvbiIpID09IDEgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiUHJvUXVlc3RQcm9ncmVzcyIsICJSaWNoU29uIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoMC41KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgRXF1aXBXZWFwb24oIlJlbGljIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoMC41KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MoQ0ZyYW1lLm5ldygtMTQwNC45MTUwNCwgMjkuOTc3MzI3MywgMy44MDU5ODExNiwgMC44NzY1MTQ0OTQsIDUuNjY5MDY4NzdFLTksIDAuNDgxMzc1NDU2LCAyLjUzODUxOTk3RS04LCAxLCAtNS43OTk5NTYwN0UtOCwgLTAuNDgxMzc1NDU2LCA2LjMwNTcyNjQzRS04LCAwLjg3NjUxNDQ5NCkpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVsc2VpZiBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIk1vYiBMZWFkZXIiKSBvciBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6RmluZEZpcnN0Q2hpbGQoIk1vYiBMZWFkZXIiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKENGcmFtZS5uZXcoLTI5NjcuNTk1MjEsIC00LjkxMDg5ODIxLCA1MzI4LjcwNzAzLCAwLjM0MjIwODU2NCwgLTAuMDIyNzg0OTA1NSwgMC45MzkzNDc4MDQsIDAuMDI1MTYwMzgxNiwgMC45OTk1Njk3MTQsIDAuMDE1MDc5NjE2NiwgLTAuOTM5Mjg3MTI2LCAwLjAxODQ3Mzk3MzUsIDAuMzQyNjM0NTU5KSkKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHY3MDYgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB2NzA2Lk5hbWUgPT0gIk1vYiBMZWFkZXIiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIk1vYiBMZWFkZXIiKSBhbmQgdjcwNjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKSBhbmQgdjcwNjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIGFuZCB2NzA2Lkh1bWFub2lkLkhlYWx0aCA+IDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRvSGFraSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFcXVpcFdlYXBvbihfRy5TZWxlY3RXZWFwb24pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NzA2Lkh1bWFub2lkUm9vdFBhcnQuQ2FuQ29sbGlkZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NzA2Lkh1bWFub2lkLldhbGtTcGVlZCA9IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY3MDYuSHVtYW5vaWRSb290UGFydC5TaXplID0gVmVjdG9yMy5uZXcoODAsIDgwLCA4MCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKHY3MDYuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDAsIDMwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiVmlydHVhbFVzZXIiKTpDYXB0dXJlQ29udHJvbGxlcigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxVc2VyIik6QnV0dG9uMURvd24oVmVjdG9yMi5uZXcoMTI4MCwgNjcyKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGhpZGRlbnByb3BlcnR5KGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLCAiU2ltdWxhdGlvblJhZGl1cyIsIG1hdGguaHVnZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW50aWwgdjcwNi5IdW1hbm9pZC5IZWFsdGggPD0gMCBvciBub3QgX0cuQXV0b1NhYmVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOkZpbmRGaXJzdENoaWxkKCJNb2IgTGVhZGVyIFtMdi4gMTIwXSBbQm9zc10iKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKTpGaW5kRmlyc3RDaGlsZCgiTW9iIExlYWRlciBbTHYuIDEyMF0gW0Jvc3NdIikuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBGYXJtX01vZGUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kKQogICAgdjQ4NzpBZGRUb2dnbGUoewogICAgICAgIE5hbWUgPSAiQXV0byBHZXQgU3dvcmQgUG9sZSIsCiAgICAgICAgRGVzY3JpcHRpb24gPSAiVFwyMjVcMTg3XDE3NyBcMTk2XDE0NVwyMjVcMTg3XDE1M25nIExcMjI1XDE4NlwxNjV5IEtpXDIyNVwxODZcMTkxbSBQb2xlIiwKICAgICAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2NzA3KQogICAgICAgICAgICBfRy5BdXRvcG9sZSA9IHY3MDcKICAgICAgICAgICAgU3RvcFR3ZWVuKF9HLkF1dG9wb2xlKQogICAgICAgIGVuZAogICAgfSkKICAgIHNwYXduKGZ1bmN0aW9uKCkKICAgICAgICB3aGlsZSB3YWl0KCkgZG8KICAgICAgICAgICAgaWYgX0cuQXV0b3BvbGUgdGhlbgogICAgICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgIGlmIGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpGaW5kRmlyc3RDaGlsZCgiVGh1bmRlciBHb2QiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCB2NzA5IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdjcwOS5OYW1lID09ICJUaHVuZGVyIEdvZCIgYW5kIHY3MDk6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikgYW5kIHY3MDk6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBhbmQgdjcwOS5IdW1hbm9pZC5IZWFsdGggPiAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0b0hha2koKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFcXVpcFdlYXBvbihfRy5TZWxlY3RXZWFwb24pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY3MDkuSHVtYW5vaWRSb290UGFydC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhcnRCcmluZyA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjcwOS5IdW1hbm9pZC5XYWxrU3BlZWQgPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY3MDkuSHVtYW5vaWRSb290UGFydC5TaXplID0gVmVjdG9yMy5uZXcoODAsIDgwLCA4MCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3ModjcwOS5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoMCwgMzAsIDApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRoaWRkZW5wcm9wZXJ0eShnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllciwgIlNpbXVsYXRpb25SYWRpdXMiLCBtYXRoLmh1Z2UpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW50aWwgbm90IF9HLkF1dG9wb2xlIG9yIG5vdCB2NzA5LlBhcmVudCBvciB2NzA5Lkh1bWFub2lkLkhlYWx0aCA8PSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZWxzZWlmIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKTpGaW5kRmlyc3RDaGlsZCgiVGh1bmRlciBHb2QiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIFRQMShnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6RmluZEZpcnN0Q2hpbGQoIlRodW5kZXIgR29kIikuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDUsIDEwLCAyKSkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQpCiAgICB2NDg3OkFkZFRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICJBdXRvIEdldCBTd29yZCBTYXciLAogICAgICAgIERlc2NyaXB0aW9uID0gIlRcMjI1XDE4N1wxNzcgXDE5NlwxNDVcMjI1XDE4N1wxNTNuZyBMXDIyNVwxODZcMTY1eSBLaVwyMjVcMTg2XDE5MW0gU2F3IiwKICAgICAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2NzEwKQogICAgICAgICAgICBfRy5BdXRvc2F3ID0gdjcxMAogICAgICAgICAgICBTdG9wVHdlZW4oX0cuQXV0b3NhdykKICAgICAgICBlbmQKICAgIH0pCiAgICBsb2NhbCB2YXJfOTl1MWRtID0gQ0ZyYW1lLm5ldygtNjkwLjMzMDgxMDU0Njg4LCAxNS4wOTQyNTE2MzI2OSwgMTU4Mi4yMzgwMzcxMDk0KQogICAgZG8KICAgICAgICBsb2NhbCB2YXJfeWh0NXJwID0gdjcxMQogICAgICAgIHNwYXduKGZ1bmN0aW9uKCkKICAgICAgICAgICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgICAgICAgICBpZiBfRy5BdXRvc2F3IHRoZW4KICAgICAgICAgICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIlRoZSBTYXciKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBCeXBhc3NUUCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIGxfdjcxMV8wLlBvc2l0aW9uKS5NYWduaXR1ZGUgPiAxNTAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQlRQKGxfdjcxMV8wKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gbF92NzExXzAuUG9zaXRpb24pLk1hZ25pdHVkZSA8IDE1MDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BvcyhsX3Y3MTFfMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BvcyhsX3Y3MTFfMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgRXF1aXBXZWFwb24oX0cuU2VsZWN0V2VhcG9uKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MoQ0ZyYW1lLm5ldygtNjkwLjMzMDgxMDU0Njg4LCAxNS4wOTQyNTE2MzI2OSwgMTU4Mi4yMzgwMzcxMDk0KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKTpGaW5kRmlyc3RDaGlsZCgiVGhlIFNhdyIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BvcyhnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6RmluZEZpcnN0Q2hpbGQoIlRoZSBTYXciKS5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoMiwgNDAsIDIpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCB2NzE0IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHY3MTQuTmFtZSA9PSAiVGhlIFNhdyIgYW5kIHY3MTQ6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikgYW5kIHY3MTQ6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBhbmQgdjcxNC5IdW1hbm9pZC5IZWFsdGggPiAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoX0cuRmFzdEF0dGFja0RlbGF5KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0b0hha2koKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXF1aXBXZWFwb24oX0cuU2VsZWN0V2VhcG9uKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjcxNC5IdW1hbm9pZFJvb3RQYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjcxNC5IdW1hbm9pZC5XYWxrU3BlZWQgPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NzE0Lkh1bWFub2lkUm9vdFBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KDUwLCA1MCwgNTApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3Bvcyh2NzE0Lkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldygwLCAzMCwgMCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdHRhY2tOb0NEKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW50aWwgbm90IF9HLkF1dG9zYXcgb3Igbm90IHY3MTQuUGFyZW50IG9yIHY3MTQuSHVtYW5vaWQuSGVhbHRoIDw9IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKQogICAgICAgIHY0ODc6QWRkVG9nZ2xlKHsKICAgICAgICAgICAgTmFtZSA9ICJBdXRvIEdldCBTd29yZCBXYXJkZW5zIiwKICAgICAgICAgICAgRGVzY3JpcHRpb24gPSAiVFwyMjVcMTg3XDE3NyBcMTk2XDE0NVwyMjVcMTg3XDE1M25nIExcMjI1XDE4NlwxNjV5IEtpXDIyNVwxODZcMTkxbSBXYXJkZW5zIiwKICAgICAgICAgICAgRGVmYXVsdCA9IGZhbHNlLAogICAgICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY3MTUpCiAgICAgICAgICAgICAgICBfRy5DaGllZldhcmRlbiA9IHY3MTUKICAgICAgICAgICAgICAgIFN0b3BUd2VlbihfRy5DaGllZldhcmRlbikKICAgICAgICAgICAgZW5kCiAgICAgICAgfSkKICAgICAgICBzcGF3bihmdW5jdGlvbigpCiAgICAgICAgICAgIHdoaWxlIHdhaXQoKSBkbwogICAgICAgICAgICAgICAgaWYgX0cuQ2hpZWZXYXJkZW4gdGhlbgogICAgICAgICAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKCJDaGllZiBXYXJkZW4iKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgdjcxNyBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB2NzE3Lk5hbWUgPT0gIkNoaWVmIFdhcmRlbiIgYW5kIHY3MTc6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikgYW5kIHY3MTc6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBhbmQgdjcxNy5IdW1hbm9pZC5IZWFsdGggPiAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0b0hha2koKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXF1aXBXZWFwb24oX0cuU2VsZWN0V2VhcG9uKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjcxNy5IdW1hbm9pZFJvb3RQYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhcnRCcmluZyA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY3MTcuSHVtYW5vaWQuV2Fsa1NwZWVkID0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjcxNy5IdW1hbm9pZFJvb3RQYXJ0LlNpemUgPSBWZWN0b3IzLm5ldyg4MCwgODAsIDgwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3ModjcxNy5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoMCwgMzAsIDApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aGlkZGVucHJvcGVydHkoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIsICJTaW11bGF0aW9uUmFkaXVzIiwgbWF0aC5odWdlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCBub3QgX0cuQ2hpZWZXYXJkZW4gb3Igbm90IHY3MTcuUGFyZW50IG9yIHY3MTcuSHVtYW5vaWQuSGVhbHRoIDw9IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOkZpbmRGaXJzdENoaWxkKCJDaGllZiBXYXJkZW4iKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUUDEoZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOkZpbmRGaXJzdENoaWxkKCJDaGllZiBXYXJkZW4iKS5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoNSwgMTAsIDIpKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKQogICAgICAgIHY0ODc6QWRkVG9nZ2xlKHsKICAgICAgICAgICAgTmFtZSA9ICJBdXRvIEdldCBTd29yZCBUcmlkZW50IiwKICAgICAgICAgICAgRGVzY3JpcHRpb24gPSAiVFwyMjVcMTg3XDE3NyBcMTk2XDE0NVwyMjVcMTg3XDE1M25nIExcMjI1XDE4NlwxNjV5IEtpXDIyNVwxODZcMTkxbSBUcmlkZW50IiwKICAgICAgICAgICAgRGVmYXVsdCA9IGZhbHNlLAogICAgICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY3MTgpCiAgICAgICAgICAgICAgICBfRy5UcmlkZW50ID0gdjcxOAogICAgICAgICAgICAgICAgU3RvcFR3ZWVuKF9HLlRyaWRlbnQpCiAgICAgICAgICAgIGVuZAogICAgICAgIH0pCiAgICAgICAgc3Bhd24oZnVuY3Rpb24oKQogICAgICAgICAgICB3aGlsZSB3YWl0KCkgZG8KICAgICAgICAgICAgICAgIGlmIF9HLlRyaWRlbnQgdGhlbgogICAgICAgICAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKCJGaXNobWFuIExvcmQiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgdjcyMCBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB2NzIwLk5hbWUgPT0gIkZpc2htYW4gTG9yZCIgYW5kIHY3MjA6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikgYW5kIHY3MjA6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBhbmQgdjcyMC5IdW1hbm9pZC5IZWFsdGggPiAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0b0hha2koKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXF1aXBXZWFwb24oX0cuU2VsZWN0V2VhcG9uKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjcyMC5IdW1hbm9pZFJvb3RQYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhcnRCcmluZyA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY3MjAuSHVtYW5vaWQuV2Fsa1NwZWVkID0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjcyMC5IdW1hbm9pZFJvb3RQYXJ0LlNpemUgPSBWZWN0b3IzLm5ldyg4MCwgODAsIDgwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3ModjcyMC5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoMCwgMzAsIDApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aGlkZGVucHJvcGVydHkoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIsICJTaW11bGF0aW9uUmFkaXVzIiwgbWF0aC5odWdlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCBub3QgX0cuVHJpZGVudCBvciBub3QgdjcyMC5QYXJlbnQgb3IgdjcyMC5IdW1hbm9pZC5IZWFsdGggPD0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6RmluZEZpcnN0Q2hpbGQoIkZpc2htYW4gTG9yZCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRQMShnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6RmluZEZpcnN0Q2hpbGQoIkZpc2htYW4gTG9yZCIpLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldyg1LCAxMCwgMikpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCiAgICBlbmQKZW5kCmlmIFdvcmxkMiB0aGVuCiAgICBsb2NhbCB2YXJfazVwbGg4ID0gdjQ4NzpBZGRTZWN0aW9uKHsiUXVlc3QgU2VhIDIifSkKICAgIHY0ODc6QWRkVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIkF1dG8gUXVlc3QgU2VhIEJhcnRpbG8iLAogICAgICAgIERlc2NyaXB0aW9uID0gIlRcMjI1XDE4N1wxNzcgXDE5NlwxNDVcMjI1XDE4N1wxNTNuZyBMXDE5NVwxNjBtIE5oaVwyMjVcMTg3XDEzNW0gVlwyMjVcMTg3XDE2NSBTZWEgQmFydGlsbyIsCiAgICAgICAgRGVmYXVsdCA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjcyMikKICAgICAgICAgICAgX0cuQXV0b0JhcnRpbG8gPSB2NzIyCiAgICAgICAgICAgIFN0b3BUd2VlbihfRy5BdXRvQmFydGlsbykKICAgICAgICBlbmQKICAgIH0pCiAgICBzcGF3bihmdW5jdGlvbigpCiAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICB3aGlsZSB3YWl0KDAuMSkgZG8KICAgICAgICAgICAgICAgIGlmIF9HLkF1dG9CYXJ0aWxvIHRoZW4KICAgICAgICAgICAgICAgICAgICBpZiBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5EYXRhLkxldmVsLlZhbHVlID49IDgwMCBhbmQgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQmFydGlsb1F1ZXN0UHJvZ3Jlc3MiLCAiQmFydGlsbyIpID09IDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBpZiBub3Qgc3RyaW5nLmZpbmQoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuUGxheWVyR3VpLk1haW4uUXVlc3QuQ29udGFpbmVyLlF1ZXN0VGl0bGUuVGl0bGUuVGV4dCwgIlN3YW4gUGlyYXRlcyIpIG9yIG5vdCBzdHJpbmcuZmluZChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5QbGF5ZXJHdWkuTWFpbi5RdWVzdC5Db250YWluZXIuUXVlc3RUaXRsZS5UaXRsZS5UZXh0LCAiNTAiKSBvciBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5QbGF5ZXJHdWkuTWFpbi5RdWVzdC5WaXNpYmxlIH49IHRydWUgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MoQ0ZyYW1lLm5ldygtNDU2LjI4OTUyLCA3My4wMjAwOTU4LCAyOTkuODk1OTY2KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsIG5vdCBfRy5BdXRvQmFydGlsbyBvciAoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygtNDU2LjI4OTUyLCA3My4wMjAwOTU4LCAyOTkuODk1OTY2KSkuTWFnbml0dWRlIDw9IDEwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0KDEuMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIlN0YXJ0UXVlc3QiLCAiQmFydGlsb1F1ZXN0IiwgMSkKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpGaW5kRmlyc3RDaGlsZCgiU3dhbiBQaXJhdGUiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNcyA9ICJTd2FuIFBpcmF0ZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCB2NzI0IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl95MHo2YmwgPSB2NzI0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxfdjcyNF8wLk5hbWUgPT0gTXMgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRoaWRkZW5wcm9wZXJ0eShnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllciwgIlNpbXVsYXRpb25SYWRpdXMiLCBtYXRoLmh1Z2UpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVxdWlwV2VhcG9uKF9HLlNlbGVjdFdlYXBvbikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0b0hha2koKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX3Y3MjRfMC5IdW1hbm9pZFJvb3RQYXJ0LlRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbF92NzI0XzAuSHVtYW5vaWRSb290UGFydC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbF92NzI0XzAuSHVtYW5vaWRSb290UGFydC5TaXplID0gVmVjdG9yMy5uZXcoNTAsIDUwLCA1MCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MobF92NzI0XzAuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDAsIDMwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUG9zTW9uQmFydG8gPSBsX3Y3MjRfMC5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxVc2VyIik6Q2FwdHVyZUNvbnRyb2xsZXIoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxVc2VyIik6QnV0dG9uMURvd24oVmVjdG9yMi5uZXcoMTI4MCwgNjcyKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhcnRCcmluZyA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCBub3QgbF92NzI0XzAuUGFyZW50IG9yIGxfdjcyNF8wLkh1bWFub2lkLkhlYWx0aCA8PSAwIG9yIF9HLkF1dG9CYXJ0aWxvID09IGZhbHNlIG9yIGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLlBsYXllckd1aS5NYWluLlF1ZXN0LlZpc2libGUgPT0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGFydEJyaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MoQ0ZyYW1lLm5ldyg5MzIuNjI0NDUxLCAxNTYuMTA2MDc5LCAxMTgwLjI3NDY2LCAtMC45NzMwODU1ODIsIDQuNTUxMzcxMTlFLTgsIC0wLjIzMDQ0Mzk2OSwgMi42NzAyNDcxM0UtOCwgMSwgOC40NzQ5MTEwOEUtOCwgMC4yMzA0NDM5NjksIDcuNjMxNDcxMjhFLTgsIC0wLjk3MzA4NTU4MikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCBub3QgX0cuQXV0b0JhcnRpbG8gb3IgKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoOTMyLjYyNDQ1MSwgMTU2LjEwNjA3OSwgMTE4MC4yNzQ2NiwgLTAuOTczMDg1NTgyLCA0LjU1MTM3MTE5RS04LCAtMC4yMzA0NDM5NjksIDIuNjcwMjQ3MTNFLTgsIDEsIDguNDc0OTExMDhFLTgsIDAuMjMwNDQzOTY5LCA3LjYzMTQ3MTI4RS04LCAtMC45NzMwODU1ODIpKS5NYWduaXR1ZGUgPD0gMTAKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZWxzZWlmIGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkRhdGEuTGV2ZWwuVmFsdWUgPCA4MDAgb3IgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQmFydGlsb1F1ZXN0UHJvZ3Jlc3MiLCAiQmFydGlsbyIpIH49IDEgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBpZiBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5EYXRhLkxldmVsLlZhbHVlID49IDgwMCBhbmQgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQmFydGlsb1F1ZXN0UHJvZ3Jlc3MiLCAiQmFydGlsbyIpID09IDIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MoQ0ZyYW1lLm5ldygtMTg1MC40OTMyOSwgMTMuMTc4OTU1MSwgMTc1MC44OTY4NSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCBub3QgX0cuQXV0b0JhcnRpbG8gb3IgKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoLTE4NTAuNDkzMjksIDEzLjE3ODk1NTEsIDE3NTAuODk2ODUpKS5NYWduaXR1ZGUgPD0gMTAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKENGcmFtZS5uZXcoLTE4NTguODczMDUsIDE5LjM3Nzc0NjYsIDE3MTIuMDE4MDcpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdW50aWwgbm90IF9HLkF1dG9CYXJ0aWxvIG9yIChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KC0xODU4Ljg3MzA1LCAxOS4zNzc3NDY2LCAxNzEyLjAxODA3KSkuTWFnbml0dWRlIDw9IDEwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0KDEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BvcyhDRnJhbWUubmV3KC0xODAzLjk0MzI0LCAxNi41Nzg5MTg1LCAxNzUwLjg5Njg1KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsIG5vdCBfRy5BdXRvQmFydGlsbyBvciAoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygtMTgwMy45NDMyNCwgMTYuNTc4OTE4NSwgMTc1MC44OTY4NSkpLk1hZ25pdHVkZSA8PSAxMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgxKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MoQ0ZyYW1lLm5ldygtMTg1OC41NTgzNSwgMTYuODYwNDMxNywgMTcyNC43OTU0MSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCBub3QgX0cuQXV0b0JhcnRpbG8gb3IgKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoLTE4NTguNTU4MzUsIDE2Ljg2MDQzMTcsIDE3MjQuNzk1NDEpKS5NYWduaXR1ZGUgPD0gMTAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKENGcmFtZS5uZXcoLTE4NjkuNTQyMjQsIDE1Ljk4Nzg1NCwgMTY4MS4wMDY1OSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCBub3QgX0cuQXV0b0JhcnRpbG8gb3IgKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoLTE4NjkuNTQyMjQsIDE1Ljk4Nzg1NCwgMTY4MS4wMDY1OSkpLk1hZ25pdHVkZSA8PSAxMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgxKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MoQ0ZyYW1lLm5ldygtMTgwMC4wOTc5LCAxNi40OTc4MDI3LCAxNjg0LjUyMzY4KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsIG5vdCBfRy5BdXRvQmFydGlsbyBvciAoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygtMTgwMC4wOTc5LCAxNi40OTc4MDI3LCAxNjg0LjUyMzY4KSkuTWFnbml0dWRlIDw9IDEwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0KDEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BvcyhDRnJhbWUubmV3KC0xODE5LjI2MzQzLCAxNC43OTUxNjYsIDE3MTcuOTA2MjUpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdW50aWwgbm90IF9HLkF1dG9CYXJ0aWxvIG9yIChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KC0xODE5LjI2MzQzLCAxNC43OTUxNjYsIDE3MTcuOTA2MjUpKS5NYWduaXR1ZGUgPD0gMTAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKENGcmFtZS5uZXcoLTE4MTMuNTE4NDMsIDE0Ljg2MDQ3MzYsIDE3MjQuNzk1NDEpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdW50aWwgbm90IF9HLkF1dG9CYXJ0aWxvIG9yIChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KC0xODEzLjUxODQzLCAxNC44NjA0NzM2LCAxNzI0Ljc5NTQxKSkuTWFnbml0dWRlIDw9IDEwCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVsc2VpZiBub3QgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKCJKZXJlbXkiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6RmluZEZpcnN0Q2hpbGQoIkplcmVteSIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKENGcmFtZS5uZXcoMjA5OS44ODE1OSwgNDQ4LjkzMSwgNjQ4Ljk5NzM3NSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCBub3QgX0cuQXV0b0JhcnRpbG8gb3IgKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMjA5OS44ODE1OSwgNDQ4LjkzMSwgNjQ4Ljk5NzM3NSkpLk1hZ25pdHVkZSA8PSAxMAogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BvcyhDRnJhbWUubmV3KC00NTYuMjg5NTIsIDczLjAyMDA5NTgsIDI5OS44OTU5NjYpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdW50aWwgbm90IF9HLkF1dG9CYXJ0aWxvIG9yIChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KC00NTYuMjg5NTIsIDczLjAyMDA5NTgsIDI5OS44OTU5NjYpKS5NYWduaXR1ZGUgPD0gMTAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoMS4xKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQmFydGlsb1F1ZXN0UHJvZ3Jlc3MiLCAiQmFydGlsbyIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0KDEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BvcyhDRnJhbWUubmV3KDIwOTkuODgxNTksIDQ0OC45MzEsIDY0OC45OTczNzUpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdW50aWwgbm90IF9HLkF1dG9CYXJ0aWxvIG9yIChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDIwOTkuODgxNTksIDQ0OC45MzEsIDY0OC45OTczNzUpKS5NYWduaXR1ZGUgPD0gMTAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoMikKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICBNcyA9ICJKZXJlbXkiCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCB2NzI3IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdjcyNy5OYW1lID09IE1zIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPbGRDRnJhbWVCYXJ0bGlvID0gdjcyNy5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRoaWRkZW5wcm9wZXJ0eShnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllciwgIlNpbXVsYXRpb25SYWRpdXMiLCBtYXRoLmh1Z2UpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVxdWlwV2VhcG9uKF9HLlNlbGVjdFdlYXBvbikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0b0hha2koKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NzI3Lkh1bWFub2lkUm9vdFBhcnQuVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NzI3Lkh1bWFub2lkUm9vdFBhcnQuQ2FuQ29sbGlkZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY3MjcuSHVtYW5vaWRSb290UGFydC5TaXplID0gVmVjdG9yMy5uZXcoNTAsIDUwLCA1MCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjcyNy5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IE9sZENGcmFtZUJhcnRsaW8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3ModjcyNy5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoMCwgMzAsIDApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxVc2VyIik6Q2FwdHVyZUNvbnRyb2xsZXIoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxVc2VyIik6QnV0dG9uMURvd24oVmVjdG9yMi5uZXcoMTI4MCwgNjcyKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aGlkZGVucHJvcGVydHkoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIsICJTaW11bGF0aW9uUmFkaXVzIiwgbWF0aC5odWdlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsIG5vdCB2NzI3LlBhcmVudCBvciB2NzI3Lkh1bWFub2lkLkhlYWx0aCA8PSAwIG9yIF9HLkF1dG9CYXJ0aWxvID09IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKQogICAgZW5kKQogICAgdjQ4NzpBZGRUb2dnbGUoewogICAgICAgIE5hbWUgPSAiQXV0byBRdWVzdCBTZWEgMyIsCiAgICAgICAgRGVzY3JpcHRpb24gPSAiVFwyMjVcMTg3XDE3NyBcMTk2XDE0NVwyMjVcMTg3XDE1M25nIExcMTk1XDE2MG0gTmhpXDIyNVwxODdcMTM1bSBWXDIyNVwxODdcMTY1IFNhbmcgU2VhIDMiLAogICAgICAgIERlZmF1bHQgPSBmYWxzZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY3MjgpCiAgICAgICAgICAgIF9HLlRoaXJkU2VhID0gdjcyOAogICAgICAgICAgICBTdG9wVHdlZW4oX0cuVGhpcmRTZWEpCiAgICAgICAgZW5kCiAgICB9KQogICAgc3Bhd24oZnVuY3Rpb24oKQogICAgICAgIHdoaWxlIHdhaXQoKSBkbwogICAgICAgICAgICBpZiBfRy5UaGlyZFNlYSB0aGVuCiAgICAgICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgaWYgZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuRGF0YS5MZXZlbC5WYWx1ZSA+PSAxNTAwIGFuZCBXb3JsZDIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBfRy5BdXRvRmFybSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIlpRdWVzdFByb2dyZXNzIiwgIkdlbmVyYWwiKSA9PSAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKENGcmFtZS5uZXcoLTE5MjYuMzIyMTQzNTU0NywgMTIuODE5ODUxODc1MzA1LCAxNzM4LjMwOTIwNDEwMTYpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENGcmFtZS5uZXcoLTE5MjYuMzIyMTQzNTU0NywgMTIuODE5ODUxODc1MzA1LCAxNzM4LjMwOTIwNDEwMTYpLlBvc2l0aW9uIC0gZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLk1hZ25pdHVkZSA8PSAxMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgxLjUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiWlF1ZXN0UHJvZ3Jlc3MiLCAiQmVnaW4iKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0KDEuOCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoInJpcF9pbmRyYSIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBub3QgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKCJyaXBfaW5kcmEiKSBhbmQgKENGcmFtZS5uZXcoLTI2ODgwLjkzMzU5Mzc1LCAyMi44NDg1NTQ2MTEyMDYsIDQ3My4xODk1MTQxNjAxNikuUG9zaXRpb24gLSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikuTWFnbml0dWRlIDw9IDEwMDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUUDEoQ0ZyYW1lLm5ldygtMjY4ODAuOTMzNTkzNzUsIDIyLjg0ODU1NDYxMTIwNiwgNDczLjE4OTUxNDE2MDE2KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgdjczMCBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdjczMC5OYW1lID09ICJyaXBfaW5kcmEiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9sZENGcmFtZVRoaXJkID0gdjczMC5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRvSGFraSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXF1aXBXZWFwb24oX0cuU2VsZWN0V2VhcG9uKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKHY3MzAuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDAsIDMwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NzMwLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lID0gT2xkQ0ZyYW1lVGhpcmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NzMwLkh1bWFub2lkUm9vdFBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KDUwLCA1MCwgNTApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjczMC5IdW1hbm9pZFJvb3RQYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXJ0QnJpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjczMC5IdW1hbm9pZC5XYWxrU3BlZWQgPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiVHJhdmVsWm91IikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRoaWRkZW5wcm9wZXJ0eShnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllciwgIlNpbXVsYXRpb25SYWRpdXMiLCBtYXRoLmh1Z2UpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCBfRy5UaGlyZFNlYSA9PSBmYWxzZSBvciB2NzMwLkh1bWFub2lkLkhlYWx0aCA8PSAwIG9yIG5vdCB2NzMwLlBhcmVudAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQpCiAgICBsb2NhbCB2YXJfYXpmYmY0ID0gdjQ4NzpBZGRTZWN0aW9uKHsiRmFjdG9yeSBTZWEgMiJ9KQogICAgdjQ4NzpBZGRUb2dnbGUoewogICAgICAgIE5hbWUgPSAiQXV0byBGYWN0b3J5IiwKICAgICAgICBEZXNjcmlwdGlvbiA9ICJUXDIyNVwxODdcMTc3IFwxOTZcMTQ1XDIyNVwxODdcMTUzbmcgXDE5NlwxNDRcMTk1XDE2MW5oIE5oXDE5NVwxNjAgTVwxOTVcMTYxeSIsCiAgICAgICAgRGVmYXVsdCA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjczMikKICAgICAgICAgICAgX0cuQXV0b0ZhY3RvcnkgPSB2NzMyCiAgICAgICAgICAgIFN0b3BUd2VlbihfRy5BdXRvRmFjdG9yeSkKICAgICAgICBlbmQKICAgIH0pCiAgICBzcGF3bihmdW5jdGlvbigpCiAgICAgICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgICAgIHNwYXduKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGlmIF9HLkF1dG9GYWN0b3J5IHRoZW4KICAgICAgICAgICAgICAgICAgICBpZiBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIkNvcmUiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCB2NzM0IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdjczNC5OYW1lID09ICJDb3JlIiBhbmQgdjczNC5IdW1hbm9pZC5IZWFsdGggPiAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0b0hha2koKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFcXVpcFdlYXBvbihfRy5TZWxlY3RXZWFwb24pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKENGcmFtZS5uZXcoNDQ4LjQ2NzU2LCAxOTkuMzU2NzgxLCAtNDQxLjM4OTI1MikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiVmlydHVhbFVzZXIiKTpDYXB0dXJlQ29udHJvbGxlcigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiVmlydHVhbFVzZXIiKTpCdXR0b24xRG93bihWZWN0b3IyLm5ldygxMjgwLCA2NzIpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsIHY3MzQuSHVtYW5vaWQuSGVhbHRoIDw9IDAgb3IgX0cuQXV0b0ZhY3RvcnkgPT0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKENGcmFtZS5uZXcoNDQ4LjQ2NzU2LCAxOTkuMzU2NzgxLCAtNDQxLjM4OTI1MikpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kKQogICAgbG9jYWwgdmFyX3RibDZ3ZyA9IHY0ODc6QWRkU2VjdGlvbih7IkJvc3MgRGFyayBCZWFyZCJ9KQogICAgdjQ4NzpBZGRUb2dnbGUoewogICAgICAgIE5hbWUgPSAiQXV0byBLaWxsIERhcmsgQmVhcmQiLAogICAgICAgIERlc2NyaXB0aW9uID0gIlRcMjI1XDE4N1wxNzcgXDE5NlwxNDVcMjI1XDE4N1wxNTNuZyBcMTk2XDE0NFwxOTVcMTYxbmggUlwxOTVcMTYydSBcMTk2XDE0NGVuIiwKICAgICAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2NzM2KQogICAgICAgICAgICBfRy5BdXRvRGFya0Jvc3MgPSB2NzM2CiAgICAgICAgICAgIFN0b3BUd2VlbihfRy5BdXRvRGFya0Jvc3MpCiAgICAgICAgZW5kCiAgICB9KQogICAgc3Bhd24oZnVuY3Rpb24oKQogICAgICAgIHdoaWxlIHdhaXQoKSBkbwogICAgICAgICAgICBpZiBfRy5BdXRvRGFya0Jvc3MgdGhlbgogICAgICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIkRhcmtiZWFyZCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgTmVlZEF0dGFja2luZyA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgaWYgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOkZpbmRGaXJzdENoaWxkKCJEYXJrYmVhcmQiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BvcyhnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6RmluZEZpcnN0Q2hpbGQoIkRhcmtiZWFyZCIpLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldyg1LCAxMCwgMikpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHY3MzggaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB2NzM4Lk5hbWUgPT0gIkRhcmtiZWFyZCIgYW5kIHY3Mzg6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikgYW5kIHY3Mzg6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBhbmQgdjczOC5IdW1hbm9pZC5IZWFsdGggPiAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmVlZEF0dGFja2luZyA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0b0hha2koKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFcXVpcFdlYXBvbihfRy5TZWxlY3RXZWFwb24pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY3MzguSHVtYW5vaWRSb290UGFydC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjczOC5IdW1hbm9pZC5XYWxrU3BlZWQgPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKHY3MzguSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDAsIDMwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aGlkZGVucHJvcGVydHkoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIsICJTaW11bGF0aW9uUmFkaXVzIiwgbWF0aC5odWdlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsIG5vdCBfRy5BdXRvRGFya0Jvc3Mgb3Igbm90IHY3MzguUGFyZW50IG9yIHY3MzguSHVtYW5vaWQuSGVhbHRoIDw9IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQpCiAgICB2NDg3OkFkZFRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICJBdXRvIEtpbGwgQ3Vyc2VkIENhcHRhaW4iLAogICAgICAgIERlc2NyaXB0aW9uID0gIlRcMjI1XDE4N1wxNzcgXDE5NlwxNDVcMjI1XDE4N1wxNTNuZyBcMTk2XDE0NFwxOTVcMTYxbmggQ3Vyc2VkIENhcHRhaW4iLAogICAgICAgIERlZmF1bHQgPSBmYWxzZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY3MzkpCiAgICAgICAgICAgIF9HLkN1cnNlZENhcHRhaW4gPSB2NzM5CiAgICAgICAgICAgIFN0b3BUd2VlbihfRy5DdXJzZWRDYXB0YWluKQogICAgICAgIGVuZAogICAgfSkKICAgIHNwYXduKGZ1bmN0aW9uKCkKICAgICAgICB3aGlsZSB3YWl0KCkgZG8KICAgICAgICAgICAgaWYgX0cuQ3Vyc2VkQ2FwdGFpbiB0aGVuCiAgICAgICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgaWYgbm90IGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpGaW5kRmlyc3RDaGlsZCgiQ3Vyc2VkIENhcHRhaW4iKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIE5lZWRBdHRhY2tpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChWZWN0b3IzLm5ldyg5MTEuMzU4Mjc2MzY3MTksIDEyNS45NTgxMjk4ODI4MSwgMzMxNTkuNTM5MDYyNSkgLSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikuTWFnbml0dWRlIDw9IDE4MDAwIGFuZCBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6RmluZEZpcnN0Q2hpbGQoIkN1cnNlZCBDYXB0YWluIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MoZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOkZpbmRGaXJzdENoaWxkKCJDdXJzZWQgQ2FwdGFpbiIpLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldyg1LCAxMCwgMikpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHY3NDEgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB2NzQxLk5hbWUgPT0gIkN1cnNlZCBDYXB0YWluIiBhbmQgdjc0MTpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKSBhbmQgdjc0MTpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIGFuZCB2NzQxLkh1bWFub2lkLkhlYWx0aCA+IDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOZWVkQXR0YWNraW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRvSGFraSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVxdWlwV2VhcG9uKF9HLlNlbGVjdFdlYXBvbikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjc0MS5IdW1hbm9pZFJvb3RQYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NzQxLkh1bWFub2lkLldhbGtTcGVlZCA9IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3Modjc0MS5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoMCwgMzAsIDApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRoaWRkZW5wcm9wZXJ0eShnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllciwgIlNpbXVsYXRpb25SYWRpdXMiLCBtYXRoLmh1Z2UpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW50aWwgbm90IF9HLkN1cnNlZENhcHRhaW4gb3Igbm90IHY3NDEuUGFyZW50IG9yIHY3NDEuSHVtYW5vaWQuSGVhbHRoIDw9IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQpCiAgICBsb2NhbCB2YXJfaDh5dnBoID0gdjQ4NzpBZGRTZWN0aW9uKHsiQXV0byBCdXkgSGFraSBNXDE5NVwxNjB1In0pCiAgICB2NDg3OkFkZFRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICJBdXRvIEJ1eSBIYWtpIENvbG9ycyIsCiAgICAgICAgRGVzY3JpcHRpb24gPSAiVFwyMjVcMTg3XDE3NyBcMTk2XDE0NVwyMjVcMTg3XDE1M25nIE11YSBIYWtpIiwKICAgICAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2NzQzKQogICAgICAgICAgICBfRy5BdXRvQnV5RW5jaGFuY2VtZW50Q29sb3VyID0gdjc0MwogICAgICAgICAgICBTdG9wVHdlZW4oX0cuQXV0b0J1eUVuY2hhbmNlbWVudENvbG91cikKICAgICAgICBlbmQKICAgIH0pCiAgICBzcGF3bihmdW5jdGlvbigpCiAgICAgICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgICAgIGlmIF9HLkF1dG9CdXlFbmNoYW5jZW1lbnRDb2xvdXIgdGhlbgogICAgICAgICAgICAgICAgbG9jYWwgdmFyX210MnFhYyA9IHtbMV0gPSAiQ29sb3JzRGVhbGVyIiwgWzJdID0gIjIifQogICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcih1bnBhY2sodjc0NCkpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kKQogICAgdjQ4NzpBZGRUb2dnbGUoewogICAgICAgIFRpdGxlID0gIkF1dG8gQnV5IExlZ2VuZGFyeSBTd29yZCIsCiAgICAgICAgVmFsdWUgPSBmYWxzZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY3NDUpCiAgICAgICAgICAgIF9HLkF1dG9CdXlMZWdlbmRhcnlTd29yZCA9IHY3NDUKICAgICAgICBlbmQKICAgIH0pCiAgICBzcGF3bihmdW5jdGlvbigpCiAgICAgICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgICAgIGlmIF9HLkF1dG9CdXlMZWdlbmRhcnlTd29yZCB0aGVuCiAgICAgICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyXzhmdWIwMyA9IHtbMV0gPSAiTGVnZW5kYXJ5U3dvcmREZWFsZXIiLCBbMl0gPSAiMSJ9CiAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcih1bnBhY2sodjc0NikpCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyXzJlanU4MyA9IHtbMV0gPSAiTGVnZW5kYXJ5U3dvcmREZWFsZXIiLCBbMl0gPSAiMiJ9CiAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcih1bnBhY2sodjc0NykpCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX2pnZTN1NiA9IHtbMV0gPSAiTGVnZW5kYXJ5U3dvcmREZWFsZXIiLCBbMl0gPSAiMyJ9CiAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcih1bnBhY2sodjc0OCkpCiAgICAgICAgICAgICAgICBlbmQpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kKQogICAgbG9jYWwgdmFyXzJpa241aSA9IHY0ODc6QWRkU2VjdGlvbih7IlF1ZXN0IFN3b3JkIn0pCiAgICB2NDg3OkFkZFRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICJBdXRvIEdldCBMb25nc3dvcmQiLAogICAgICAgIERlc2NyaXB0aW9uID0gIlRcMjI1XDE4N1wxNzcgXDE5NlwxNDVcMjI1XDE4N1wxNTNuZyBHZXQgTG9uZ3N3b3JkIiwKICAgICAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2NzUwKQogICAgICAgICAgICBfRy5Mb25nc3dvcmQgPSB2NzUwCiAgICAgICAgICAgIFN0b3BUd2VlbihfRy5Mb25nc3dvcmQpCiAgICAgICAgZW5kCiAgICB9KQogICAgc3Bhd24oZnVuY3Rpb24oKQogICAgICAgIHdoaWxlIHdhaXQoKSBkbwogICAgICAgICAgICBpZiBfRy5Mb25nc3dvcmQgdGhlbgogICAgICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgIGlmIGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpGaW5kRmlyc3RDaGlsZCgiRGlhbW9uZCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHY3NTIgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB2NzUyLk5hbWUgPT0gIkRpYW1vbmQiIGFuZCB2NzUyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpIGFuZCB2NzUyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikgYW5kIHY3NTIuSHVtYW5vaWQuSGVhbHRoID4gMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dG9IYWtpKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXF1aXBXZWFwb24oX0cuU2VsZWN0V2VhcG9uKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NzUyLkh1bWFub2lkUm9vdFBhcnQuQ2FuQ29sbGlkZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXJ0QnJpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY3NTIuSHVtYW5vaWQuV2Fsa1NwZWVkID0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NzUyLkh1bWFub2lkUm9vdFBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KDgwLCA4MCwgODApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKHY3NTIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDAsIDMwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aGlkZGVucHJvcGVydHkoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIsICJTaW11bGF0aW9uUmFkaXVzIiwgbWF0aC5odWdlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsIG5vdCBfRy5Mb25nc3dvcmQgb3Igbm90IHY3NTIuUGFyZW50IG9yIHY3NTIuSHVtYW5vaWQuSGVhbHRoIDw9IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbHNlaWYgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOkZpbmRGaXJzdENoaWxkKCJEaWFtb25kIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBUUDEoZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOkZpbmRGaXJzdENoaWxkKCJEaWFtb25kIikuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDUsIDEwLCAyKSkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQpCiAgICB2NDg3OkFkZFRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICJBdXRvIEdldCBTd29yZCBHcmF2aXR5IEJsYWRlIiwKICAgICAgICBEZXNjcmlwdGlvbiA9ICJUXDIyNVwxODdcMTc3IFwxOTZcMTQ1XDIyNVwxODdcMTUzbmcgTFwyMjVcMTg2XDE2NXkgR3Jhdml0eSBCbGFkZSIsCiAgICAgICAgRGVmYXVsdCA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjc1MykKICAgICAgICAgICAgX0cuR3Jhdml0eUJsYWRlID0gdjc1MwogICAgICAgICAgICBTdG9wVHdlZW4oX0cuR3Jhdml0eUJsYWRlKQogICAgICAgIGVuZAogICAgfSkKICAgIHNwYXduKGZ1bmN0aW9uKCkKICAgICAgICB3aGlsZSB3YWl0KCkgZG8KICAgICAgICAgICAgaWYgX0cuR3Jhdml0eUJsYWRlIHRoZW4KICAgICAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICBpZiBub3QgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKCJGYWppdGEiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKTpGaW5kRmlyc3RDaGlsZCgiRmFqaXRhIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgVFAxKGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKTpGaW5kRmlyc3RDaGlsZCgiRmFqaXRhIikuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDUsIDEwLCAyKSkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgdjc1NSBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHY3NTUuTmFtZSA9PSAiRmFqaXRhIiBhbmQgdjc1NTpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKSBhbmQgdjc1NTpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIGFuZCB2NzU1Lkh1bWFub2lkLkhlYWx0aCA+IDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRvSGFraSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVxdWlwV2VhcG9uKF9HLlNlbGVjdFdlYXBvbikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjc1NS5IdW1hbm9pZFJvb3RQYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGFydEJyaW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NzU1Lkh1bWFub2lkLldhbGtTcGVlZCA9IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjc1NS5IdW1hbm9pZFJvb3RQYXJ0LlNpemUgPSBWZWN0b3IzLm5ldyg4MCwgODAsIDgwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3Bvcyh2NzU1Lkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldygwLCAzMCwgMCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGhpZGRlbnByb3BlcnR5KGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLCAiU2ltdWxhdGlvblJhZGl1cyIsIG1hdGguaHVnZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCBub3QgX0cuR3Jhdml0eUJsYWRlIG9yIG5vdCB2NzU1LlBhcmVudCBvciB2NzU1Lkh1bWFub2lkLkhlYWx0aCA8PSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kKQogICAgdjQ4NzpBZGRUb2dnbGUoewogICAgICAgIE5hbWUgPSAiQXV0byBHZXQgU3dvcmQgRmxhaWwiLAogICAgICAgIERlc2NyaXB0aW9uID0gIlRcMjI1XDE4N1wxNzcgXDE5NlwxNDVcMjI1XDE4N1wxNTNuZyBMXDIyNVwxODZcMTY1eSBGbGFpbCIsCiAgICAgICAgRGVmYXVsdCA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjc1NikKICAgICAgICAgICAgX0cuU3dvZHNGbGFpbCA9IHY3NTYKICAgICAgICAgICAgU3RvcFR3ZWVuKF9HLlN3b2RzRmxhaWwpCiAgICAgICAgZW5kCiAgICB9KQogICAgc3Bhd24oZnVuY3Rpb24oKQogICAgICAgIHdoaWxlIHdhaXQoKSBkbwogICAgICAgICAgICBpZiBfRy5Td29kc0ZsYWlsIHRoZW4KICAgICAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICBpZiBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIlNtb2tlIEFkbWlyYWwiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCB2NzU4IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdjc1OC5OYW1lID09ICJTbW9rZSBBZG1pcmFsIiBhbmQgdjc1ODpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKSBhbmQgdjc1ODpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIGFuZCB2NzU4Lkh1bWFub2lkLkhlYWx0aCA+IDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRvSGFraSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVxdWlwV2VhcG9uKF9HLlNlbGVjdFdlYXBvbikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjc1OC5IdW1hbm9pZFJvb3RQYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGFydEJyaW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NzU4Lkh1bWFub2lkLldhbGtTcGVlZCA9IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjc1OC5IdW1hbm9pZFJvb3RQYXJ0LlNpemUgPSBWZWN0b3IzLm5ldyg4MCwgODAsIDgwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3Bvcyh2NzU4Lkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldygwLCAzMCwgMCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGhpZGRlbnByb3BlcnR5KGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLCAiU2ltdWxhdGlvblJhZGl1cyIsIG1hdGguaHVnZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCBub3QgX0cuU3dvZHNGbGFpbCBvciBub3Qgdjc1OC5QYXJlbnQgb3Igdjc1OC5IdW1hbm9pZC5IZWFsdGggPD0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVsc2VpZiBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6RmluZEZpcnN0Q2hpbGQoIlNtb2tlIEFkbWlyYWwiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIFRQMShnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6RmluZEZpcnN0Q2hpbGQoIlNtb2tlIEFkbWlyYWwiKS5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoNSwgMTAsIDIpKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZCkKICAgIHY0ODc6QWRkVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIkF1dG8gR2V0IFN3b3JkIFJlbmdva3UiLAogICAgICAgIERlc2NyaXB0aW9uID0gIlRcMjI1XDE4N1wxNzcgXDE5NlwxNDVcMjI1XDE4N1wxNTNuZyBMXDIyNVwxODZcMTY1eSBSZW5nb2t1IiwKICAgICAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2NzU5KQogICAgICAgICAgICBfRy5BdXRvUmVuZ29rdSA9IHY3NTkKICAgICAgICAgICAgU3RvcFR3ZWVuKF9HLkF1dG9SZW5nb2t1KQogICAgICAgIGVuZAogICAgfSkKICAgIHNwYXduKGZ1bmN0aW9uKCkKICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgIHdoaWxlIHdhaXQoKSBkbwogICAgICAgICAgICAgICAgaWYgX0cuQXV0b1Jlbmdva3UgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkJhY2twYWNrOkZpbmRGaXJzdENoaWxkKCJIaWRkZW4gS2V5Iikgb3IgZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIaWRkZW4gS2V5IikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBFcXVpcFdlYXBvbigiSGlkZGVuIEtleSIpCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKENGcmFtZS5uZXcoNjU3MS4xMjAxMTcxODc1LCAyOTkuMjMwMjg1NjQ0NTMsIC02OTY3Ljg0MTc5Njg3NSkpCiAgICAgICAgICAgICAgICAgICAgZWxzZWlmIG5vdCBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIkF3YWtlbmVkIEljZSBBZG1pcmFsIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBTdGFydEJyaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MoQ0ZyYW1lLm5ldyg1NDM5LjcxNjc5Njg3NSwgODQuNDIwOTQ0MjEzODY3LCAtNjcxNS4xNjM1NzQyMTg4KSkKICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCB2NzYxIGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdjc2MS5OYW1lID09ICJBd2FrZW5lZCBJY2UgQWRtaXJhbCIgYW5kIHY3NjE6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikgYW5kIHY3NjE6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBhbmQgdjc2MS5IdW1hbm9pZC5IZWFsdGggPiAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXF1aXBXZWFwb24oX0cuU2VsZWN0V2VhcG9uKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRvSGFraSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY3NjEuSHVtYW5vaWRSb290UGFydC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjc2MS5IdW1hbm9pZFJvb3RQYXJ0LlNpemUgPSBWZWN0b3IzLm5ldyg1MCwgNTAsIDUwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQb3NNb24gPSB2NzYxLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbkZhcm0gPSB2NzYxLk5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3Modjc2MS5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoMCwgMzAsIDApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdHRhY2tOb0NEKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhcnRCcmluZyA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5CYWNrcGFjazpGaW5kRmlyc3RDaGlsZCgiSGlkZGVuIEtleSIpIG9yIF9HLkF1dG9SZW5nb2t1ID09IGZhbHNlIG9yIG5vdCB2NzYxLlBhcmVudCBvciB2NzYxLkh1bWFub2lkLkhlYWx0aCA8PSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhcnRCcmluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKQogICAgZW5kKQogICAgdjQ4NzpBZGRUb2dnbGUoewogICAgICAgIE5hbWUgPSAiQXV0byBHZXQgU3dvcmQgRHJhZ29uIFRyaWRlbnQiLAogICAgICAgIERlc2NyaXB0aW9uID0gIlRcMjI1XDE4N1wxNzcgXDE5NlwxNDVcMjI1XDE4N1wxNTNuZyBMXDIyNVwxODZcMTY1eSBEcmFnb24gVHJpZGVudCIsCiAgICAgICAgRGVmYXVsdCA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjc2MikKICAgICAgICAgICAgX0cuU3dvZHNEUlRyaWRlbnQgPSB2NzYyCiAgICAgICAgICAgIFN0b3BUd2VlbihfRy5Td29kc0RSVHJpZGVudCkKICAgICAgICBlbmQKICAgIH0pCiAgICBzcGF3bihmdW5jdGlvbigpCiAgICAgICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgICAgIGlmIF9HLlN3b2RzRFJUcmlkZW50IHRoZW4KICAgICAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICBpZiBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIlRpZGUgS2VlcGVyIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgdjc2NCBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHY3NjQuTmFtZSA9PSAiVGlkZSBLZWVwZXIiIGFuZCB2NzY0OkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpIGFuZCB2NzY0OkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikgYW5kIHY3NjQuSHVtYW5vaWQuSGVhbHRoID4gMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dG9IYWtpKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXF1aXBXZWFwb24oX0cuU2VsZWN0V2VhcG9uKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NzY0Lkh1bWFub2lkUm9vdFBhcnQuQ2FuQ29sbGlkZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXJ0QnJpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY3NjQuSHVtYW5vaWQuV2Fsa1NwZWVkID0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NzY0Lkh1bWFub2lkUm9vdFBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KDgwLCA4MCwgODApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKHY3NjQuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDAsIDMwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aGlkZGVucHJvcGVydHkoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIsICJTaW11bGF0aW9uUmFkaXVzIiwgbWF0aC5odWdlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsIG5vdCBfRy5Td29kc0RSVHJpZGVudCBvciBub3Qgdjc2NC5QYXJlbnQgb3Igdjc2NC5IdW1hbm9pZC5IZWFsdGggPD0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVsc2VpZiBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6RmluZEZpcnN0Q2hpbGQoIlRpZGUgS2VlcGVyIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBUUDEoZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOkZpbmRGaXJzdENoaWxkKCJUaWRlIEtlZXBlciIpLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldyg1LCAxMCwgMikpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kKQplbmQKaWYgV29ybGQzIHRoZW4KICAgIGxvY2FsIHZhcl84Z2pvNGggPSB2NDg3OkFkZFNlY3Rpb24oeyJRdWVzdCBTZWEgMyJ9KQogICAgbG9jYWwgdmFyX3Vta293aiA9IHY0ODc6QWRkU2VjdGlvbih7IkJvc3MgUmlwIGluZHJhIn0pCiAgICB2NDg3OkFkZFRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICJBdXRvIGtpbGwgUmlwIEluZHJhIiwKICAgICAgICBEZXNjcmlwdGlvbiA9ICJUXDIyNVwxODdcMTc3IFwxOTZcMTQ1XDIyNVwxODdcMTUzbmcgXDE5NlwxNDRcMTk1XDE2MW5oIFJpcCBJbmRyYSIsCiAgICAgICAgRGVmYXVsdCA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjc2NykKICAgICAgICAgICAgX0cuUmlwSW5kcmFLaWxsID0gdjc2NwogICAgICAgICAgICBTdG9wVHdlZW4oX0cuUmlwSW5kcmFLaWxsKQogICAgICAgIGVuZAogICAgfSkKICAgIGxvY2FsIHZhcl9uY29oZW8gPSBDRnJhbWUubmV3KC01MzQ0LjgyMjI2NTYyNSwgNDIzLjk4NTQxMjU5NzY2LCAtMjcyNS4wOTMwMTc1NzgxKQogICAgZG8KICAgICAgICBsb2NhbCB2YXJfZXVjanphID0gdjc2OAogICAgICAgIHNwYXduKGZ1bmN0aW9uKCkKICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgICAgICAgICAgICAgaWYgX0cuUmlwSW5kcmFLaWxsIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgaWYgbm90IGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpGaW5kRmlyc3RDaGlsZCgicmlwX2luZHJhIFRydWUgRm9ybSIpIGFuZCBub3QgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKCJyaXBfaW5kcmEiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBCeXBhc3NUUCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIGxfdjc2OF8wLlBvc2l0aW9uKS5NYWduaXR1ZGUgPiAxNTAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVFAxKGxfdjc2OF8wKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gbF92NzY4XzAuUG9zaXRpb24pLk1hZ25pdHVkZSA8IDE1MDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUUDEobF92NzY4XzApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVFAxKGxfdjc2OF8wKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUUDEoQ0ZyYW1lLm5ldygtNTM0NC44MjIyNjU2MjUsIDQyMy45ODU0MTI1OTc2NiwgLTI3MjUuMDkzMDE3NTc4MSkpCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCB2NzcxIGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9vbngzd2IgPSB2NzcxLk5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfdGJmejRvID0gInJpcF9pbmRyYSBUcnVlIEZvcm0iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbm90IHY3NzMgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB2NzcxLk5hbWUgfj0gInJpcF9pbmRyYSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjc3MyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2NzczID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9pY3NqeXkgPSB2NzcxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxfTmFtZV8wID09IHY3NzMgYW5kIGxfdjc3MV8wLkh1bWFub2lkLkhlYWx0aCA+IDAgYW5kIGxfdjc3MV8wOklzQSgiTW9kZWwiKSBhbmQgbF92NzcxXzA6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikgYW5kIGxfdjc3MV8wOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dG9IYWtpKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXF1aXBXZWFwb24oX0cuU2VsZWN0V2VhcG9uKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX3Y3NzFfMC5IdW1hbm9pZFJvb3RQYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX3Y3NzFfMC5IdW1hbm9pZFJvb3RQYXJ0LlNpemUgPSBWZWN0b3IzLm5ldyg1MCwgNTAsIDUwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BvcyhsX3Y3NzFfMC5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoMCwgLTQwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsVXNlciIpOkNhcHR1cmVDb250cm9sbGVyKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsVXNlciIpOkJ1dHRvbjFEb3duKFZlY3RvcjIubmV3KDEyODAsIDY3MCksIHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLkNGcmFtZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCBfRy5SaXBJbmRyYUtpbGwgPT0gZmFsc2Ugb3IgbF92NzcxXzAuSHVtYW5vaWQuSGVhbHRoIDw9IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZCkKICAgICAgICB2NDg3OkFkZFRvZ2dsZSh7CiAgICAgICAgICAgIE5hbWUgPSAiQXV0byBIYWtpIENvbG9ycyIsCiAgICAgICAgICAgIERlc2NyaXB0aW9uID0gIlRcMjI1XDE4N1wxNzcgXDE5NlwxNDRcMjI1XDE4N1wxNTNuZyBIYWtpIENvbG9ycyIsCiAgICAgICAgICAgIERlZmF1bHQgPSBmYWxzZSwKICAgICAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2Nzc1KQogICAgICAgICAgICAgICAgX0cuUmlwSW5kcmFLaWxsID0gdjc3NQogICAgICAgICAgICAgICAgU3RvcFR3ZWVuKF9HLlJpcEluZHJhS2lsbCkKICAgICAgICAgICAgZW5kCiAgICAgICAgfSkKICAgICAgICBzcGF3bihmdW5jdGlvbigpCiAgICAgICAgICAgIHdoaWxlIHdhaXQoKSBkbwogICAgICAgICAgICAgICAgaWYgX0cuQXV0b0J1eUVuY2hhbmNlbWVudENvbG91ciB0aGVuCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX3FyY2F0NyA9IHtbMV0gPSAiQ29sb3JzRGVhbGVyIiwgWzJdID0gIjIifQogICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIodW5wYWNrKHY3NzYpKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZCkKICAgICAgICBsb2NhbCB2YXJfNGFrNWp2ID0gdjQ4NzpBZGRTZWN0aW9uKHsiUXVlc3QgU2t1bGwgR3VpdGFyIn0pCiAgICAgICAgdjQ4NzpBZGRUb2dnbGUoewogICAgICAgICAgICBOYW1lID0gIkF1dG8gU2t1bGwgR3VpdGFyIiwKICAgICAgICAgICAgRGVzY3JpcHRpb24gPSAiVFwyMjVcMTg3XDE3NyBcMTk2XDE0NFwyMjVcMTg3XDE1M25nIExcMjI1XDE4NlwxNjV5IFwxOTZcMTQ0XDE5NVwxNjBuIEd1aVRhciIsCiAgICAgICAgICAgIERlZmF1bHQgPSBmYWxzZSwKICAgICAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2Nzc4KQogICAgICAgICAgICAgICAgX0cuQXV0b1NrdWxsR3VpdGFyID0gdjc3OAogICAgICAgICAgICAgICAgU3RvcFR3ZWVuKF9HLkF1dG9Ta3VsbEd1aXRhcikKICAgICAgICAgICAgZW5kCiAgICAgICAgfSkKICAgICAgICBzcGF3bihmdW5jdGlvbigpCiAgICAgICAgICAgIHdoaWxlIHRhc2sud2FpdCgpIGRvCiAgICAgICAgICAgICAgICBpZiBnZXRnZW52KCkuQXV0b1NrdWxsR3VpdGFyIHRoZW4KICAgICAgICAgICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCBHZXRXZWFwb25JbnZlbnRvcnkoIlNrdWxsIEd1aXRhciIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl85YjdpazggPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX2Y0c3k3eSA9IGxfTG9jYWxQbGF5ZXJfMTEuQ2hhcmFjdGVyIGFuZCBsX0xvY2FsUGxheWVyXzExLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB2NzgwIGFuZCAoVmVjdG9yMy5uZXcoLTk2ODEuNDU4LCA2LjEzOSwgNjM0MS4zNzIpIC0gdjc4MC5Qb3NpdGlvbikuTWFnbml0dWRlIDw9IDUwMDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuTlBDczpGaW5kRmlyc3RDaGlsZCgiU2tlbGV0b24gTWFjaGluZSIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUY6SW52b2tlU2VydmVyKCJzb3VsR3VpdGFyQnV5IiwgdHJ1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9kczlyN3QgPSBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLk1hcDpGaW5kRmlyc3RDaGlsZCgiSGF1bnRlZCBDYXN0bGUiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBub3QgbF9GaXJzdENoaWxkXzMgb3IgbF9GaXJzdENoaWxkXzMuQ2FuZGxlMS5UcmFuc3BhcmVuY3kgfj0gMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBub3QgbF9GaXJzdENoaWxkXzMgb3Igbm90IGxfRmlyc3RDaGlsZF8zLlRhYmxldCBvciBub3QgbF9GaXJzdENoaWxkXzMuVGFibGV0OkZpbmRGaXJzdENoaWxkKCJTZWdtZW50MSIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLk5QQ3M6RmluZEZpcnN0Q2hpbGQoIkdob3N0IikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRjpJbnZva2VTZXJ2ZXIoIkd1aXRhclB1enpsZVByb2dyZXNzIiwgIkdob3N0IikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfa2tsZWVlID0gZ2FtZS5Xb3Jrc3BhY2U6RmluZEZpcnN0Q2hpbGQoIkVuZW1pZXMiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxfRW5lbWllc18yIGFuZCBsX0VuZW1pZXNfMjpGaW5kRmlyc3RDaGlsZCgiTGl2aW5nIFpvbWJpZSIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHY3ODQgaW4gcGFpcnMobF9FbmVtaWVzXzI6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHY3ODQ6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBhbmQgdjc4NDpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKSBhbmQgdjc4NC5IdW1hbm9pZC5IZWFsdGggPiAwIGFuZCB2Nzg0Lk5hbWUgPT0gIkxpdmluZyBab21iaWUiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRvSGFraSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXF1aXBXZWFwb24oZ2V0Z2VudigpLlNlbGVjdFdlYXBvbikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2Nzg0Lkh1bWFub2lkUm9vdFBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KDYwLCA2MCwgNjApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjc4NC5IdW1hbm9pZFJvb3RQYXJ0LlRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2Nzg0Lkh1bWFub2lkLkp1bXBQb3dlciA9IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2Nzg0Lkh1bWFub2lkLldhbGtTcGVlZCA9IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2Nzg0Lkh1bWFub2lkUm9vdFBhcnQuQ2FuQ29sbGlkZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjc4NC5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IHY3ODAuQ0ZyYW1lICogQ0ZyYW1lLm5ldygwLCAyMCwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BvcyhDRnJhbWUubmV3KC0xMDE2MC43ODcsIDEzOC42NjIsIDU5NTUuMDMxKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoMC41KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl81dHY4cnMgPSBnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxVc2VyIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX1ZpcnR1YWxVc2VyXzA6Q2FwdHVyZUNvbnRyb2xsZXIoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxfVmlydHVhbFVzZXJfMDpCdXR0b24xRG93bihWZWN0b3IyLm5ldygxMjgwLCA2NzIpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MoQ0ZyYW1lLm5ldygtMTAxNjAuNzg3LCAxMzguNjYyLCA1OTU1LjAzMSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX3BvMjl4ZyA9IGxfRmlyc3RDaGlsZF8zOkZpbmRGaXJzdENoaWxkKCJMYWIgUHV6emxlIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBub3QgbF9sX0ZpcnN0Q2hpbGRfM19GaXJzdENoaWxkXzAgb3Igbm90IGxfbF9GaXJzdENoaWxkXzNfRmlyc3RDaGlsZF8wLkNvbG9yRmxvb3IuTW9kZWwuUGFydDE6RmluZEZpcnN0Q2hpbGQoIkNsaWNrRGV0ZWN0b3IiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFF1ZXN0MyA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFF1ZXN0NCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MoQ0ZyYW1lLm5ldygtOTU1My41OTksIDY1LjYyMywgNjA0MS41ODgpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHY3ODggaW4gaXBhaXJzKHszLCA0LCA0LCA0LCA2LCA2LCA4LCAxMCwgMTAsIDEwfSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9rcnRkOTggPSBsX2xfRmlyc3RDaGlsZF8zX0ZpcnN0Q2hpbGRfMC5Db2xvckZsb29yLk1vZGVsOkZpbmRGaXJzdENoaWxkKCJQYXJ0IiAuLiB2Nzg4KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbF9GaXJzdENoaWxkXzQgYW5kIGxfRmlyc3RDaGlsZF80OkZpbmRGaXJzdENoaWxkKCJDbGlja0RldGVjdG9yIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKGxfRmlyc3RDaGlsZF80LkNGcmFtZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJlY2xpY2tkZXRlY3RvcihsX0ZpcnN0Q2hpbGRfNC5DbGlja0RldGVjdG9yKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgwLjUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX3F1dDJvZyA9IGxfRmlyc3RDaGlsZF8zOkZpbmRGaXJzdENoaWxkKCJQbGFjYXJkMSIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBsX1BsYWNhcmQxXzAgYW5kIGxfUGxhY2FyZDFfMC5MZWZ0LlBhcnQuVHJhbnNwYXJlbmN5ID09IDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFF1ZXN0MiA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BvcyhDRnJhbWUubmV3KC04NzYyLjY5MSwgMTc2Ljg0NywgNjE3MS4zMDgpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgxKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciB2NzkxID0gNywgMSwgLTEgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX2gyenRnbiA9IGxfRmlyc3RDaGlsZF8zOkZpbmRGaXJzdENoaWxkKCJQbGFjYXJkIiAuLiB2NzkxKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBsX2xfRmlyc3RDaGlsZF8zX0ZpcnN0Q2hpbGRfMSBhbmQgbF9sX0ZpcnN0Q2hpbGRfM19GaXJzdENoaWxkXzE6RmluZEZpcnN0Q2hpbGQoIkxlZnQiKSBhbmQgbF9sX0ZpcnN0Q2hpbGRfM19GaXJzdENoaWxkXzEuTGVmdDpGaW5kRmlyc3RDaGlsZCgiQ2xpY2tEZXRlY3RvciIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcmVjbGlja2RldGVjdG9yKGxfbF9GaXJzdENoaWxkXzNfRmlyc3RDaGlsZF8xLkxlZnQuQ2xpY2tEZXRlY3RvcikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgwLjUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiBub3Qgc3RyaW5nLmZpbmQoZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUY6SW52b2tlU2VydmVyKCJncmF2ZXN0b25lRXZlbnQiLCAyKSwgIkVycm9yIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgc3RyaW5nLmZpbmQoZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUY6SW52b2tlU2VydmVyKCJncmF2ZXN0b25lRXZlbnQiLCAyKSwgIk5vdGhpbmciKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MoIldhaXQgRnVsbCBNb29uIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRjpJbnZva2VTZXJ2ZXIoImdyYXZlc3RvbmVFdmVudCIsIDIsIHRydWUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MoQ0ZyYW1lLm5ldygtODY1My4yMDYsIDE0MC45ODUsIDYxNjAuMDMzKSkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZCkKICAgICAgICB2NDg3OkFkZFRvZ2dsZSh7CiAgICAgICAgICAgIE5hbWUgPSAiS2lsbCBFbGl0ZSBIdW50ZXIiLAogICAgICAgICAgICBEZXNjcmlwdGlvbiA9ICJUXDIyNVwxODdcMTc3IFwxOTZcMTQ0XDIyNVwxODdcMTUzbmcgXDE5NlwxNDRcMTk1XDE2MW5oIEVsaXRlIEh1bnRlciIsCiAgICAgICAgICAgIERlZmF1bHQgPSBmYWxzZSwKICAgICAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2NzkzKQogICAgICAgICAgICAgICAgX0cuQXV0b0VsaXRlaHVudGVyID0gdjc5MwogICAgICAgICAgICAgICAgU3RvcFR3ZWVuKF9HLkF1dG9FbGl0ZWh1bnRlcikKICAgICAgICAgICAgZW5kCiAgICAgICAgfSkKICAgICAgICBzcGF3bihmdW5jdGlvbigpCiAgICAgICAgICAgIHdoaWxlIHdhaXQoKSBkbwogICAgICAgICAgICAgICAgaWYgX0cuQXV0b0VsaXRlaHVudGVyIGFuZCBXb3JsZDMgdGhlbgogICAgICAgICAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuUGxheWVyR3VpLk1haW4uUXVlc3QuVmlzaWJsZSA9PSB0cnVlIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHN0cmluZy5maW5kKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLlBsYXllckd1aS5NYWluLlF1ZXN0LkNvbnRhaW5lci5RdWVzdFRpdGxlLlRpdGxlLlRleHQsICJEaWFibG8iKSBvciBzdHJpbmcuZmluZChnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5QbGF5ZXJHdWkuTWFpbi5RdWVzdC5Db250YWluZXIuUXVlc3RUaXRsZS5UaXRsZS5UZXh0LCAiRGVhbmRyZSIpIG9yIHN0cmluZy5maW5kKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLlBsYXllckd1aS5NYWluLlF1ZXN0LkNvbnRhaW5lci5RdWVzdFRpdGxlLlRpdGxlLlRleHQsICJVcmJhbiIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIkRpYWJsbyIpIG9yIGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpGaW5kRmlyc3RDaGlsZCgiRGVhbmRyZSIpIG9yIGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpGaW5kRmlyc3RDaGlsZCgiVXJiYW4iKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCB2Nzk1IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHY3OTUuTmFtZSA9PSAiRGlhYmxvIiBvciB2Nzk1Lk5hbWUgPT0gIkRlYW5kcmUiIG9yIHY3OTUuTmFtZSA9PSAiVXJiYW4iKSBhbmQgdjc5NTpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKSBhbmQgdjc5NTpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIGFuZCB2Nzk1Lkh1bWFub2lkLkhlYWx0aCA+IDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0b0hha2koKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFcXVpcFdlYXBvbihfRy5TZWxlY3RXZWFwb24pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5lZWRBdHRhY2tpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXJ0QnJpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY3OTUuSHVtYW5vaWRSb290UGFydC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjc5NS5IdW1hbm9pZC5XYWxrU3BlZWQgPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKHY3OTUuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDAsIDMwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsVXNlciIpOkNhcHR1cmVDb250cm9sbGVyKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsVXNlciIpOkJ1dHRvbjFEb3duKFZlY3RvcjIubmV3KDEyODAsIDY3MikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGhpZGRlbnByb3BlcnR5KGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLCAiU2ltdWxhdGlvblJhZGl1cyIsIG1hdGguaHVnZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCBfRy5BdXRvRWxpdGVodW50ZXIgPT0gZmFsc2Ugb3Igdjc5NS5IdW1hbm9pZC5IZWFsdGggPD0gMCBvciBub3Qgdjc5NS5QYXJlbnQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5lZWRBdHRhY2tpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6RmluZEZpcnN0Q2hpbGQoIkRpYWJsbyIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRQMShnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6RmluZEZpcnN0Q2hpbGQoIkRpYWJsbyIpLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldygyLCAyMCwgMikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6RmluZEZpcnN0Q2hpbGQoIkRlYW5kcmUiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUUDEoZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOkZpbmRGaXJzdENoaWxkKCJEZWFuZHJlIikuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDIsIDIwLCAyKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKTpGaW5kRmlyc3RDaGlsZCgiVXJiYW4iKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUUDEoZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOkZpbmRGaXJzdENoaWxkKCJVcmJhbiIpLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldygyLCAyMCwgMikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiBfRy5BdXRvRWxpdGVIdW50ZXJIb3AgYW5kIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkVsaXRlSHVudGVyIikgPT0gIkkgZG9uJ3QgaGF2ZSBhbnl0aGluZyBmb3IgeW91IHJpZ2h0IG5vdy4gQ29tZSBiYWNrIGxhdGVyLiIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgSG9wKCkKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiRWxpdGVIdW50ZXIiKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKQogICAgICAgIGxvY2FsIHZhcl9yN2h2c3ggPSB2NDg3OkFkZFNlY3Rpb24oeyJBdXRvIENESyJ9KQogICAgICAgIHY0ODc6QWRkVG9nZ2xlKHsKICAgICAgICAgICAgTmFtZSA9ICJBdXRvIENkayBbQmV0YV0iLAogICAgICAgICAgICBEZXNjcmlwdGlvbiA9ICJUXDIyNVwxODdcMTc3IFwxOTZcMTQ0XDIyNVwxODdcMTUzbmcgTFwyMjVcMTg2XDE2NXkgWG9uZyBLaVwyMjVcMTg2XDE5MW0gXDE5NVwxNDggXDE5NlwxNDRlbiIsCiAgICAgICAgICAgIERlZmF1bHQgPSBmYWxzZSwKICAgICAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2Nzk3KQogICAgICAgICAgICAgICAgX0cuQXV0b0dldENESyA9IHY3OTcKICAgICAgICAgICAgICAgIFN0b3BUd2VlbihfRy5BdXRvR2V0Q0RLKQogICAgICAgICAgICBlbmQKICAgICAgICB9KQogICAgICAgIHRhc2suc3Bhd24oZnVuY3Rpb24oKQogICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgIHRhc2sud2FpdCgpCiAgICAgICAgICAgIHVudGlsIGdldGdlbnYoKS5BdXRvR2V0Q0RLCiAgICAgICAgICAgIGxvY2FsIHZhcl93OWF6MXMgPSBmYWxzZQogICAgICAgICAgICBsb2NhbCB2YXJfMzE1ZG02ID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyCiAgICAgICAgICAgIGxvY2FsIHZhcl93ZXR0MnkgPSBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikKICAgICAgICAgICAgbG9jYWwgdmFyX2cwb2cxZCA9IGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikKICAgICAgICAgICAgbG9jYWwgdmFyXzBxdTQzZiA9IGxfV29ya3NwYWNlXzAuRW5lbWllcwogICAgICAgICAgICB3aGlsZSBnZXRnZW52KCkuQXV0b0dldENESyBkbwogICAgICAgICAgICAgICAgdGFzay53YWl0KDAuMikKICAgICAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICBsX1JlcGxpY2F0ZWRTdG9yYWdlXzAuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJDREtRdWVzdCIsICJQcm9ncmVzcyIsICJHb29kIikKICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoMC4yKQogICAgICAgICAgICAgICAgICAgIGxfUmVwbGljYXRlZFN0b3JhZ2VfMC5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkNES1F1ZXN0IiwgIlByb2dyZXNzIiwgIkV2aWwiKQogICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgwLjIpCiAgICAgICAgICAgICAgICAgICAgbF9SZXBsaWNhdGVkU3RvcmFnZV8wLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQ0RLUXVlc3QiLCAiU3RhcnRUcmlhbCIsICJCb3NzIikKICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoMC4yKQogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBsX0VuZW1pZXNfMzpGaW5kRmlyc3RDaGlsZCgiQ3Vyc2VkIFNrZWxldG9uIEJvc3MiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKENGcmFtZS5uZXcoLTEyMzE4LjE5MywgNjAxLjk1MSwgLTY1MzguNjYyKSkKICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KDAuNSkKICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MobF9Xb3Jrc3BhY2VfMC5NYXAuVHVydGxlLkN1cnNlZC5Cb3NzRG9vci5DRnJhbWUpCiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgdjgwNCBpbiBwYWlycyhsX0VuZW1pZXNfMzpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdjgwNC5OYW1lID09ICJDdXJzZWQgU2tlbGV0b24gQm9zcyIgYW5kIHY4MDQ6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikgYW5kIHY4MDQ6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBhbmQgdjgwNC5IdW1hbm9pZC5IZWFsdGggPiAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfOHAxZGRpID0gbF9Mb2NhbFBsYXllcl8xMi5DaGFyYWN0ZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfZmk3ODAxID0gbF9Mb2NhbFBsYXllcl8xMi5CYWNrcGFjawogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCBsX0NoYXJhY3Rlcl83OkZpbmRGaXJzdENoaWxkKCJZYW1hIikgYW5kIG5vdCBsX0JhY2twYWNrXzE6RmluZEZpcnN0Q2hpbGQoIllhbWEiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCBsX0NoYXJhY3Rlcl83OkZpbmRGaXJzdENoaWxkKCJUdXNoaXRhIikgYW5kIG5vdCBsX0JhY2twYWNrXzE6RmluZEZpcnN0Q2hpbGQoIlR1c2hpdGEiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBub3Qgdjc5OCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZS5TdGFydGVyR3VpOlNldENvcmUoIlNlbmROb3RpZmljYXRpb24iLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRpdGxlID0gIlR1XDIyNVwxODZcMTY1biBBbmggSU9TIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGV4dCA9ICJVc2UhIC0gWWFtYSBvciBUdXNoaXRhIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uID0gInJieGFzc2V0aWQ6Ly8xMTA2NTc3MjU1NDE3NDciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEdXJhdGlvbiA9IDEwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2Nzk4ID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVxdWlwV2VhcG9uKCJUdXNoaXRhIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFcXVpcFdlYXBvbigiWWFtYSIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQnVzbygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjgwNC5IdW1hbm9pZFJvb3RQYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY4MDQuSHVtYW5vaWQuV2Fsa1NwZWVkID0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKHY4MDQuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDAsIDMwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBzeW4gYW5kIG5vdCBnZXRnZW52KCkuU2ltdWxhdGlvblNldCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGhpZGRlbnByb3BlcnR5KGxfTG9jYWxQbGF5ZXJfMTIsICJTaW11bGF0aW9uUmFkaXVzIiwgbWF0aC5odWdlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRnZW52KCkuU2ltdWxhdGlvblNldCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCBub3QgZ2V0Z2VudigpLkF1dG9HZXRDREsgb3Igbm90IHY4MDQuUGFyZW50IG9yIHY4MDQuSHVtYW5vaWQuSGVhbHRoIDw9IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKQogICAgICAgIHY0ODc6QWRkVG9nZ2xlKHsKICAgICAgICAgICAgTmFtZSA9ICJBdXRvIEdldCBZYW1hIiwKICAgICAgICAgICAgRGVzY3JpcHRpb24gPSAiVFwyMjVcMTg3XDE3NyBcMTk2XDE0NFwyMjVcMTg3XDE1M25nIExcMjI1XDE4NlwxNjV5IEtpXDIyNVwxODZcMTkxbSBZYW1hIiwKICAgICAgICAgICAgRGVmYXVsdCA9IGZhbHNlLAogICAgICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY4MDcpCiAgICAgICAgICAgICAgICBfRy5BdXRvWWFtYSA9IHY4MDcKICAgICAgICAgICAgICAgIFN0b3BUd2VlbihfRy5BdXRvWWFtYSkKICAgICAgICAgICAgZW5kCiAgICAgICAgfSkKICAgICAgICBzcGF3bihmdW5jdGlvbigpCiAgICAgICAgICAgIHdoaWxlIHdhaXQoKSBkbwogICAgICAgICAgICAgICAgaWYgX0cuQXV0b1lhbWEgYW5kIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkVsaXRlSHVudGVyIiwgIlByb2dyZXNzIikgPj0gMzAgdGhlbgogICAgICAgICAgICAgICAgICAgIHJlcGVhdAogICAgICAgICAgICAgICAgICAgICAgICB3YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgZmlyZWNsaWNrZGV0ZWN0b3IoZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5NYXAuV2F0ZXJmYWxsLlNlYWxlZEthdGFuYS5IYW5kbGUuQ2xpY2tEZXRlY3RvcikKICAgICAgICAgICAgICAgICAgICB1bnRpbCBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5CYWNrcGFjazpGaW5kRmlyc3RDaGlsZCgiWWFtYSIpIG9yIG5vdCBfRy5BdXRvWWFtYQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZCkKICAgICAgICB2NDg3OkFkZFRvZ2dsZSh7CiAgICAgICAgICAgIE5hbWUgPSAiQXV0byBIb2x5IFRvcmNoIFR1c2hpdGEiLAogICAgICAgICAgICBEZXNjcmlwdGlvbiA9ICJUXDIyNVwxODdcMTc3IFwxOTZcMTQ0XDIyNVwxODdcMTUzbmcgVG9yY2ggVHVzaGl0YSIsCiAgICAgICAgICAgIERlZmF1bHQgPSBmYWxzZSwKICAgICAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2ODA4KQogICAgICAgICAgICAgICAgX0cuQXV0b0hvbHlUb3JjaCA9IHY4MDgKICAgICAgICAgICAgICAgIFN0b3BUd2VlbihfRy5BdXRvSG9seVRvcmNoKQogICAgICAgICAgICBlbmQKICAgICAgICB9KQogICAgICAgIHNwYXduKGZ1bmN0aW9uKCkKICAgICAgICAgICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgICAgICAgICBpZiBfRy5BdXRvSG9seVRvcmNoIHRoZW4KICAgICAgICAgICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoInJlcXVlc3RFbnRyYW5jZSIsIFZlY3RvcjMubmV3KDU2NTcuODg2MjMwNDY4NzUsIDEwMTMuMDc5MDQwNTI3MzQzOCwgLTMzNS40OTk2MzM3ODkwNjI1KSkKICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgxKQogICAgICAgICAgICAgICAgICAgICAgICB0b3BvcyhDRnJhbWUubmV3KDU3MTEuODc0NTExNzE4NzUsIDQ1LjgyODAyOTYzMjU2ODM2LCAyNTQuMTcwMDU5MjA0MTAxNTYpKQogICAgICAgICAgICAgICAgICAgICAgICB3YWl0KDE1KQogICAgICAgICAgICAgICAgICAgICAgICBFcXVpcFdlYXBvbigiSG9seSBUb3JjaCIpCiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MoQ0ZyYW1lLm5ldygtMTA3NTIsIDQxNywgLTkzNjYpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsIG5vdCBfRy5BdXRvSG9seVRvcmNoIG9yIChnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygtMTA3NTIsIDQxNywgLTkzNjYpKS5NYWduaXR1ZGUgPD0gMTAKICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgxKQogICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKENGcmFtZS5uZXcoLTExNjcyLCAzMzQsIC05NDc0KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCBub3QgX0cuQXV0b0hvbHlUb3JjaCBvciAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoLTExNjcyLCAzMzQsIC05NDc0KSkuTWFnbml0dWRlIDw9IDEwCiAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoMSkKICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BvcyhDRnJhbWUubmV3KC0xMjEzMiwgNTIxLCAtMTA2NTUpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsIG5vdCBfRy5BdXRvSG9seVRvcmNoIG9yIChnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygtMTIxMzIsIDUyMSwgLTEwNjU1KSkuTWFnbml0dWRlIDw9IDEwCiAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoMSkKICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BvcyhDRnJhbWUubmV3KC0xMzMzNiwgNDg2LCAtNjk4NSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgdW50aWwgbm90IF9HLkF1dG9Ib2x5VG9yY2ggb3IgKGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KC0xMzMzNiwgNDg2LCAtNjk4NSkpLk1hZ25pdHVkZSA8PSAxMAogICAgICAgICAgICAgICAgICAgICAgICB3YWl0KDEpCiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MoQ0ZyYW1lLm5ldygtMTM0ODksIDMzMiwgLTc5MjUpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsIG5vdCBfRy5BdXRvSG9seVRvcmNoIG9yIChnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygtMTM0ODksIDMzMiwgLTc5MjUpKS5NYWduaXR1ZGUgPD0gMTAKICAgICAgICAgICAgICAgICAgICBlbmQpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKQogICAgICAgIHY0ODc6QWRkVG9nZ2xlKHsKICAgICAgICAgICAgTmFtZSA9ICJBdXRvIEdldCBUdXNoaXRhIiwKICAgICAgICAgICAgRGVzY3JpcHRpb24gPSAiVFwyMjVcMTg3XDE3NyBcMTk2XDE0NFwyMjVcMTg3XDE1M25nIExcMjI1XDE4NlwxNjV5IFR1c2hpdGEiLAogICAgICAgICAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICAgICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjgwOSkKICAgICAgICAgICAgICAgIF9HLkF1dG9HZXRUdXNoaXRhID0gdjgwOQogICAgICAgICAgICAgICAgU3RvcFR3ZWVuKF9HLkF1dG9HZXRUdXNoaXRhKQogICAgICAgICAgICBlbmQKICAgICAgICB9KQogICAgICAgIHNwYXduKGZ1bmN0aW9uKCkKICAgICAgICAgICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgICAgICAgICBpZiBfRy5BdXRvR2V0VHVzaGl0YSB0aGVuCiAgICAgICAgICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICBpZiBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIkxvbmdtYSIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCB2ODExIGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHY4MTEuTmFtZSA9PSAiTG9uZ21hIiBhbmQgdjgxMTpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKSBhbmQgdjgxMTpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIGFuZCB2ODExLkh1bWFub2lkLkhlYWx0aCA+IDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRvSGFraSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFcXVpcFdlYXBvbihfRy5TZWxlY3RXZWFwb24pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ODExLkh1bWFub2lkUm9vdFBhcnQuQ2FuQ29sbGlkZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGFydEJyaW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjgxMS5IdW1hbm9pZC5XYWxrU3BlZWQgPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ODExLkh1bWFub2lkUm9vdFBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KDgwLCA4MCwgODApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3Bvcyh2ODExLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldygwLCAzMCwgMCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRoaWRkZW5wcm9wZXJ0eShnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllciwgIlNpbXVsYXRpb25SYWRpdXMiLCBtYXRoLmh1Z2UpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsIG5vdCBfRy5BdXRvR2V0VHVzaGl0YSBvciBub3QgdjgxMS5QYXJlbnQgb3IgdjgxMS5IdW1hbm9pZC5IZWFsdGggPD0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6RmluZEZpcnN0Q2hpbGQoIkxvbmdtYSIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRQMShnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6RmluZEZpcnN0Q2hpbGQoIkxvbmdtYSIpLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldyg1LCAxMCwgMikpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCiAgICAgICAgbG9jYWwgdmFyXzE4cGhzbSA9IHY0ODc6QWRkU2VjdGlvbih7IlF1ZXN0IFN3b3JkIn0pCiAgICAgICAgdjQ4NzpBZGRUb2dnbGUoewogICAgICAgICAgICBOYW1lID0gIkF1dG8gR2V0IFN3b3JkIFR3aW4gSG9va3MiLAogICAgICAgICAgICBEZXNjcmlwdGlvbiA9ICJUXDIyNVwxODdcMTc3IFwxOTZcMTQ0XDIyNVwxODdcMTUzbmcgTFwyMjVcMTg2XDE2NXkgS2lcMjI1XDE4NlwxOTFtIFR3aW4gSG9va3MiLAogICAgICAgICAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICAgICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjgxMykKICAgICAgICAgICAgICAgIF9HLlN3b2RUd2luSG9va3MgPSB2ODEzCiAgICAgICAgICAgICAgICBTdG9wVHdlZW4oX0cuU3dvZFR3aW5Ib29rcykKICAgICAgICAgICAgZW5kCiAgICAgICAgfSkKICAgICAgICBzcGF3bihmdW5jdGlvbigpCiAgICAgICAgICAgIHdoaWxlIHdhaXQoKSBkbwogICAgICAgICAgICAgICAgaWYgX0cuU3dvZFR3aW5Ib29rcyB0aGVuCiAgICAgICAgICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICBpZiBub3QgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKCJDYXB0YWluIEVsZXBoYW50IikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOkZpbmRGaXJzdENoaWxkKCJDYXB0YWluIEVsZXBoYW50IikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRQMShnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6RmluZEZpcnN0Q2hpbGQoIkNhcHRhaW4gRWxlcGhhbnQiKS5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoNSwgMTAsIDIpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCB2ODE1IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHY4MTUuTmFtZSA9PSAiQ2FwdGFpbiBFbGVwaGFudCIgYW5kIHY4MTU6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikgYW5kIHY4MTU6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBhbmQgdjgxNS5IdW1hbm9pZC5IZWFsdGggPiAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0b0hha2koKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXF1aXBXZWFwb24oX0cuU2VsZWN0V2VhcG9uKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjgxNS5IdW1hbm9pZFJvb3RQYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhcnRCcmluZyA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY4MTUuSHVtYW5vaWQuV2Fsa1NwZWVkID0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjgxNS5IdW1hbm9pZFJvb3RQYXJ0LlNpemUgPSBWZWN0b3IzLm5ldyg4MCwgODAsIDgwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3ModjgxNS5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoMCwgMzAsIDApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aGlkZGVucHJvcGVydHkoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIsICJTaW11bGF0aW9uUmFkaXVzIiwgbWF0aC5odWdlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCBub3QgX0cuU3dvZFR3aW5Ib29rcyBvciBub3QgdjgxNS5QYXJlbnQgb3IgdjgxNS5IdW1hbm9pZC5IZWFsdGggPD0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCiAgICAgICAgdjQ4NzpBZGRUb2dnbGUoewogICAgICAgICAgICBOYW1lID0gIkF1dG8gR2V0IFN3b3JkIENhbnZhbmRlciIsCiAgICAgICAgICAgIERlc2NyaXB0aW9uID0gIlRcMjI1XDE4N1wxNzcgXDE5NlwxNDRcMjI1XDE4N1wxNTNuZyBMXDIyNVwxODZcMTY1eSBLaVwyMjVcMTg2XDE5MW0gQ2FudmFuZGVyIiwKICAgICAgICAgICAgRGVmYXVsdCA9IGZhbHNlLAogICAgICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY4MTYpCiAgICAgICAgICAgICAgICBfRy5Td29kQ2FudmFuZGVyID0gdjgxNgogICAgICAgICAgICAgICAgU3RvcFR3ZWVuKF9HLlN3b2RDYW52YW5kZXIpCiAgICAgICAgICAgIGVuZAogICAgICAgIH0pCiAgICAgICAgc3Bhd24oZnVuY3Rpb24oKQogICAgICAgICAgICB3aGlsZSB3YWl0KCkgZG8KICAgICAgICAgICAgICAgIGlmIF9HLlN3b2RDYW52YW5kZXIgdGhlbgogICAgICAgICAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKCJCZWF1dGlmdWwgUGlyYXRlIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHY4MTggaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdjgxOC5OYW1lID09ICJCZWF1dGlmdWwgUGlyYXRlIiBhbmQgdjgxODpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKSBhbmQgdjgxODpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIGFuZCB2ODE4Lkh1bWFub2lkLkhlYWx0aCA+IDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRvSGFraSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFcXVpcFdlYXBvbihfRy5TZWxlY3RXZWFwb24pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ODE4Lkh1bWFub2lkUm9vdFBhcnQuQ2FuQ29sbGlkZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGFydEJyaW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjgxOC5IdW1hbm9pZC5XYWxrU3BlZWQgPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ODE4Lkh1bWFub2lkUm9vdFBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KDgwLCA4MCwgODApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3Bvcyh2ODE4Lkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldygwLCAzMCwgMCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRoaWRkZW5wcm9wZXJ0eShnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllciwgIlNpbXVsYXRpb25SYWRpdXMiLCBtYXRoLmh1Z2UpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsIG5vdCBfRy5Td29kQ2FudmFuZGVyIG9yIG5vdCB2ODE4LlBhcmVudCBvciB2ODE4Lkh1bWFub2lkLkhlYWx0aCA8PSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKTpGaW5kRmlyc3RDaGlsZCgiQmVhdXRpZnVsIFBpcmF0ZSIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRQMShnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6RmluZEZpcnN0Q2hpbGQoIkJlYXV0aWZ1bCBQaXJhdGUiKS5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoNSwgMTAsIDIpKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKQogICAgICAgIHY0ODc6QWRkVG9nZ2xlKHsKICAgICAgICAgICAgTmFtZSA9ICJBdXRvIEdldCBTd29yZCBCdWRkeSIsCiAgICAgICAgICAgIERlc2NyaXB0aW9uID0gIlRcMjI1XDE4N1wxNzcgXDE5NlwxNDRcMjI1XDE4N1wxNTNuZyBMXDIyNVwxODZcMTY1eSBLaVwyMjVcMTg2XDE5MW0gQnVkZHkiLAogICAgICAgICAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICAgICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjgxOSkKICAgICAgICAgICAgICAgIF9HLlN3b2RzQnVkZHkgPSB2ODE5CiAgICAgICAgICAgICAgICBTdG9wVHdlZW4oX0cuU3dvZHNCdWRkeSkKICAgICAgICAgICAgZW5kCiAgICAgICAgfSkKICAgICAgICBzcGF3bihmdW5jdGlvbigpCiAgICAgICAgICAgIHdoaWxlIHdhaXQoKSBkbwogICAgICAgICAgICAgICAgaWYgX0cuU3dvZHNCdWRkeSB0aGVuCiAgICAgICAgICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICBpZiBub3QgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKCJDYWtlIFF1ZWVuIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOkZpbmRGaXJzdENoaWxkKCJDYWtlIFF1ZWVuIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRQMShnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6RmluZEZpcnN0Q2hpbGQoIkNha2UgUXVlZW4iKS5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoNSwgMTAsIDIpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCB2ODIxIGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHY4MjEuTmFtZSA9PSAiQ2FrZSBRdWVlbiIgYW5kIHY4MjE6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikgYW5kIHY4MjE6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBhbmQgdjgyMS5IdW1hbm9pZC5IZWFsdGggPiAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0b0hha2koKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXF1aXBXZWFwb24oX0cuU2VsZWN0V2VhcG9uKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjgyMS5IdW1hbm9pZFJvb3RQYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhcnRCcmluZyA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY4MjEuSHVtYW5vaWQuV2Fsa1NwZWVkID0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjgyMS5IdW1hbm9pZFJvb3RQYXJ0LlNpemUgPSBWZWN0b3IzLm5ldyg4MCwgODAsIDgwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3ModjgyMS5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoMCwgMzAsIDApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aGlkZGVucHJvcGVydHkoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIsICJTaW11bGF0aW9uUmFkaXVzIiwgbWF0aC5odWdlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCBub3QgX0cuU3dvZHNCdWRkeSBvciBub3QgdjgyMS5QYXJlbnQgb3IgdjgyMS5IdW1hbm9pZC5IZWFsdGggPD0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCiAgICBlbmQKZW5kCnY0ODg6QWRkQnV0dG9uKHsKICAgIFRpdGxlID0gIlR3ZWVuIERyYWdvbiBEb2pvIiwKICAgIFZhbHVlID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJyZXF1ZXN0RW50cmFuY2UiLCBWZWN0b3IzLm5ldyg1NjYxLjUzLCAxMDEzLjA5LCAtMzM0Ljk2KSkKICAgICAgICB0b3BvcyhDRnJhbWUubmV3KDU4NDEuMjksIDEyMDguMzIsIDg4NC4zMSkpCiAgICBlbmQKfSkKdjQ4ODpBZGRUb2dnbGUoewogICAgTmFtZSA9ICJBdXRvIERyYWdvbiBIdW50ZXJ5IiwKICAgIERlc2NyaXB0aW9uID0gIlRcMjI1XDE4N1wxNzcgXDE5NlwxNDRcMjI1XDE4N1wxNTNuZyBGYXJtIEJsYXplIiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjgyMikKICAgICAgICBfRy5GYXJtQmxhemVFTSA9IHY4MjIKICAgICAgICBTdG9wVHdlZW4oX0cuRmFybUJsYXplRU0pCiAgICBlbmQKfSkKZnVuY3Rpb24gY2hlY2tRdWVzdGEoKQogICAgbG9jYWwgdmFyX3p6NTk1cSA9IHtbMV0gPSB7Q29udGV4dCA9ICJDaGVjayJ9fQogICAgbG9jYWwgdmFyX2ZoNWZiNCA9IG5pbAogICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgIGxvY2FsIHZhcl9la3RhbGkgPSB7WzFdID0ge0NvbnRleHQgPSAiUmVxdWVzdFF1ZXN0In19CiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLk1vZHVsZXMuTmV0WyJSRi9EcmFnb25IdW50ZXIiXTpJbnZva2VTZXJ2ZXIodW5wYWNrKHY4MjUpKQogICAgZW5kKQogICAgbG9jYWwgdmFyX3p5c2h6dSwgXyA9IHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICB2ODI0ID0gZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLk1vZHVsZXMuTmV0WyJSRi9EcmFnb25IdW50ZXIiXTpJbnZva2VTZXJ2ZXIodW5wYWNrKHY4MjMpKQogICAgZW5kKQogICAgbG9jYWwgdmFyXzh0ZmV0cSA9IGZhbHNlCiAgICBsb2NhbCB2YXJfMHN5bThhID0gbmlsCiAgICBsb2NhbCB2YXJfOHhzbnVhID0gbmlsCiAgICBsb2NhbCB2YXJfeXNvaTZ1ID0gbmlsCiAgICBpZiB2ODI0IGFuZCB2ODI0LlRleHQgdGhlbgogICAgICAgIHY4MjggPSB0cnVlCiAgICAgICAgbG9jYWwgdmFyX3luMWFmcCA9IHY4MjQuVGV4dAogICAgICAgIGlmIHN0cmluZy5maW5kKGxfVGV4dF8xLCAiRGVmZWF0IikgdGhlbgogICAgICAgICAgICB2ODMxID0gMQogICAgICAgICAgICB2ODMwID0gdG9udW1iZXIoc3RyaW5nLnN1YihsX1RleHRfMSwgOCwgOSkpCiAgICAgICAgICAgIGZvciBfLCB2ODM0IGluIHBhaXJzKHsiSHlkcmEgRW5mb3JjZXIiLCAiVmVub21vdXMgQXNzYWlsYW50In0pIGRvCiAgICAgICAgICAgICAgICBpZiBzdHJpbmcuZmluZChsX1RleHRfMSwgdjgzNCkgdGhlbgogICAgICAgICAgICAgICAgICAgIHY4MjkgPSB2ODM0CiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbHNlaWYgc3RyaW5nLmZpbmQobF9UZXh0XzEsICJEZXN0cm95IikgdGhlbgogICAgICAgICAgICB2ODMxID0gMgogICAgICAgICAgICB2ODMwID0gMTAKICAgICAgICBlbmQKICAgIGVuZAogICAgcmV0dXJuIHY4MjgsIHY4MjksIHY4MzAsIHY4MzEKZW5kCmZ1bmN0aW9uIEJhY2tUT0RvSm8oKQogICAgZm9yIF8sIHY4MzYgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuUGxheWVyR3VpLk5vdGlmaWNhdGlvbnM6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICBpZiB2ODM2Lk5hbWUgPT0gIk5vdGlmaWNhdGlvblRlbXBsYXRlIiBhbmQgc3RyaW5nLmZpbmQodjgzNi5UZXh0LCAiSGVhZCBiYWNrIHRvIHRoZSBEb2pvIHRvIGNvbXBsZXRlIG1vcmUgdGFza3MiKSB0aGVuCiAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgZW5kCiAgICBlbmQKICAgIHJldHVybiBmYWxzZQplbmQKZnVuY3Rpb24gRHJhZ29uTW9iQ2xlYXIodjgzNywgdjgzOCwgdjgzOSkKICAgIGlmIG5vdCB3b3Jrc3BhY2UuRW5lbWllczpGaW5kRmlyc3RDaGlsZCh2ODM4KSB0aGVuCiAgICAgICAgaWYgdjgzOSB0aGVuCiAgICAgICAgICAgIHRvcG9zKHY4MzkpCiAgICAgICAgZW5kCiAgICBlbHNlCiAgICAgICAgZm9yIF8sIHY4NDEgaW4gcGFpcnMod29ya3NwYWNlLkVuZW1pZXM6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgaWYgdjg0MS5OYW1lID09IHY4MzggYW5kIEF0dGFjay5BbGl2ZSh2ODQxKSBhbmQgdjgzNyB0aGVuCiAgICAgICAgICAgICAgICBBdHRhY2suS2lsbCh2ODQxLCB2ODM3KQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAplbmQKc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgdGFzay53YWl0KCkgZG8KICAgICAgICBpZiBfRy5GYXJtQmxhemVFTSB0aGVuCiAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGxvY2FsIHZhcl91NnBkM2ssIHY4NDMsIF8sIHY4NDUgPSBjaGVja1F1ZXN0YSgpCiAgICAgICAgICAgICAgICBpZiBub3Qgdjg0MiBvciBCYWNrVE9Eb0pvKCkgdGhlbgogICAgICAgICAgICAgICAgICAgIHRvcG9zKENGcmFtZS5uZXcoNTgxMywgMTIwOCwgODg0KSkKICAgICAgICAgICAgICAgICAgICBEcmFnb25Nb2JDbGVhcihmYWxzZSwgbmlsLCBuaWwpCiAgICAgICAgICAgICAgICBlbHNlaWYgdjg0NSB+PSAxIHRoZW4KICAgICAgICAgICAgICAgICAgICBpZiB2ODQ1ID09IDIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfczJ4ZTFtID0gd29ya3NwYWNlLk1hcC5XYXRlcmZhbGwuSXNsYW5kTW9kZWw6RmluZEZpcnN0Q2hpbGQoIk1lc2hlcy9iYW1ib290cmVlIiwgdHJ1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl8yeGI5dWYgPSBsX0ZpcnN0Q2hpbGRfNQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbF9sX0ZpcnN0Q2hpbGRfNV8wIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Bhd24oZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MobF9sX0ZpcnN0Q2hpbGRfNV8wLkNGcmFtZSAqIENGcmFtZS5uZXcoNCwgMCwgMCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxfbF9GaXJzdENoaWxkXzVfMC5Qb3NpdGlvbiAtIFJvb3QuUG9zaXRpb24pLk1hZ25pdHVkZSA8PSAyMDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW91c2VQb3MgPSBsX2xfRmlyc3RDaGlsZF81XzAuUG9zaXRpb24KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVzZXNraWxscygiTWVsZWUiLCAiWiIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVc2Vza2lsbHMoIk1lbGVlIiwgIlgiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVXNlc2tpbGxzKCJNZWxlZSIsICJDIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgwLjUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVc2Vza2lsbHMoIlN3b3JkIiwgIloiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVXNlc2tpbGxzKCJTd29yZCIsICJYIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgwLjUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVc2Vza2lsbHMoIkJsb3ggRnJ1aXQiLCAiWiIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVc2Vza2lsbHMoIkJsb3ggRnJ1aXQiLCAiWCIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVc2Vza2lsbHMoIkJsb3ggRnJ1aXQiLCAiQyIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoMC41KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVXNlc2tpbGxzKCJHdW4iLCAiWiIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVc2Vza2lsbHMoIkd1biIsICJYIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW50aWwgbm90IF9HLkZhcm1CbGF6ZUVNIG9yIG5vdCB2ODQyIG9yIEJhY2tUT0RvSm8oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZWxzZWlmIHY4NDMgPT0gIkh5ZHJhIEVuZm9yY2VyIiBvciB2ODQzID09ICJWZW5vbW91cyBBc3NhaWxhbnQiIHRoZW4KICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgRHJhZ29uTW9iQ2xlYXIodHJ1ZSwgdjg0MywgQ0ZyYW1lLm5ldyg0NjIwLjYxLCAxMDAyLjI5LCAzOTkuMDgpKQogICAgICAgICAgICAgICAgICAgIHVudGlsIG5vdCBfRy5GYXJtQmxhemVFTSBvciBub3Qgdjg0MiBvciBCYWNrVE9Eb0pvKCkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kKQpzcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB0YXNrLndhaXQoMC4xKSBkbwogICAgICAgIGlmIF9HLkZhcm1CbGF6ZUVNIHRoZW4KICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgaWYgd29ya3NwYWNlOkZpbmRGaXJzdENoaWxkKCJFbWJlclRlbXBsYXRlIikgYW5kIHdvcmtzcGFjZS5FbWJlclRlbXBsYXRlOkZpbmRGaXJzdENoaWxkKCJQYXJ0IikgdGhlbgogICAgICAgICAgICAgICAgICAgIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgPSB3b3Jrc3BhY2UuRW1iZXJUZW1wbGF0ZS5QYXJ0LkNGcmFtZQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbmQKICAgIGVuZAplbmQpCmxvY2FsIHZhcl9ka3Ixd2EgPSB2NDg4OkFkZFNlY3Rpb24oeyJWb2xjYW5pYyBJc2xhbmQifSkKdjQ4ODpBZGRCdXR0b24oewogICAgVGl0bGUgPSAiQ3JhZnQgVm9sY2FuaWMgTWFnbmV0IiwKICAgIFZhbHVlID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2NhbCB2YXJfcjVvNGFoID0ge1sxXSA9ICJDcmFmdEl0ZW0iLCBbMl0gPSAiQ3JhZnQiLCBbM10gPSAiVm9sY2FuaWMgTWFnbmV0In0KICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKHVucGFjayh2ODQ5KSkKICAgIGVuZAp9KQpsb2NhbCB2YXJfeHkwY2RiID0gdjQ4ODpBZGRQYXJhZ3JhcGgoe1RpdGxlID0gIkNoZWNrIFByZWhpc3RvcmljIElzbGFuZCIsIENvbnRlbnQgPSAiTG9hZGluZy4uLiJ9KQp0YXNrLnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHRhc2sud2FpdCgxKSBkbwogICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgaWYgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5NYXA6RmluZEZpcnN0Q2hpbGQoIlByZWhpc3RvcmljSXNsYW5kIikgdGhlbgogICAgICAgICAgICAgICAgdjg1MDpTZXQoIlByZWhpc3RvcmljIElzbGFuZCBTcGF3bmluZyBcMjI2XDE1NlwxMzMiKQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB2ODUwOlNldCgiUHJlaGlzdG9yaWMgSXNsYW5kIE5vdCBTcGF3biBcMjI2XDE1N1wxNDAiKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCiAgICBlbmQKZW5kKQp2NDg4OkFkZFRvZ2dsZSh7CiAgICBOYW1lID0gIkF1dG8gRmluZCBQcmVoaXN0b3JpYyIsCiAgICBEZXNjcmlwdGlvbiA9ICJUXDIyNVwxODdcMTc3IFwxOTZcMTQ0XDIyNVwxODdcMTUzbmcgVFwxOTVcMTcybSBcMTk2XDE0NFwyMjVcMTg2XDE2M28gVGhcMjI1XDE4N1wxNTdpIFRpXDIyNVwxODdcMTI5biBTXDIyNVwxODdcMTczICggXDE5NlwxNDRcMjI1XDE4NlwxNjNvIE5cMTk1XDE4NmkgTFwyMjVcMTg3XDE3M2EgKSIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY4NTEpCiAgICAgICAgX0cuTm9jbGlwcm9jayA9IHY4NTEKICAgICAgICBTdG9wVHdlZW4oX0cuTm9jbGlwcm9jaykKICAgIGVuZAp9KQpsb2NhbCB2YXJfY3E2bDlnID0ge30KbG9jYWwgdmFyX3Z4a3djYSA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpCmxvY2FsIHZhcl9qM3g1MnQgPSBnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKQpsb2NhbCB2YXJfM2k5YjN6ID0gZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsSW5wdXRNYW5hZ2VyIikKbG9jYWwgdmFyXzY0dWt3bCA9IGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikKbG9jYWwgdmFyXzZ3dGpheiA9IDM1MApsX1J1blNlcnZpY2VfMC5SZW5kZXJTdGVwcGVkOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgZm9yIHY4NTgsIHY4NTkgaW4gcGFpcnModjg1MikgZG8KICAgICAgICBpZiB2ODU5IGFuZCB2ODU5LlBhcmVudCBhbmQgdjg1OS5OYW1lID09ICJWZWhpY2xlU2VhdCIgYW5kIG5vdCB2ODU5Lk9jY3VwYW50IHRoZW4KICAgICAgICAgICAgdjg1Mlt2ODU4XSA9IHY4NTkKICAgICAgICBlbmQKICAgIGVuZAplbmQpCmxvY2FsIHZhcl9hMTNpNW0gPSBmdW5jdGlvbigpCiAgICBmb3IgXywgdjg2MSBpbiBwYWlycyh2ODUyKSBkbwogICAgICAgIGlmIHY4NjEgYW5kIHY4NjEuUGFyZW50IGFuZCB2ODYxLk5hbWUgPT0gIlZlaGljbGVTZWF0IiBhbmQgbm90IHY4NjEuT2NjdXBhbnQgdGhlbgogICAgICAgICAgICB0b3Bvcyh2ODYxLkNGcmFtZSkKICAgICAgICBlbmQKICAgIGVuZAplbmQKbG9jYWwgdmFyX3htNWlvbCA9IGZhbHNlCmxvY2FsIHZhcl9mZHI2bHIgPSBmYWxzZQpsX1J1blNlcnZpY2VfMC5SZW5kZXJTdGVwcGVkOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgaWYgX0cuQXV0b0ZpbmRQcmVoaXN0b3JpYyB0aGVuCiAgICAgICAgbG9jYWwgdmFyX2lnZHNnNCA9IGxfUGxheWVyc18wLkxvY2FsUGxheWVyLkNoYXJhY3RlcgogICAgICAgIGlmIGxfQ2hhcmFjdGVyXzggYW5kIGxfQ2hhcmFjdGVyXzg6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikgdGhlbgogICAgICAgICAgICBsb2NhbCB2YXJfZnd2MjVxIHY4NjgoKQogICAgICAgICAgICAgICAgaWYgbm90IHY4NjMgdGhlbgogICAgICAgICAgICAgICAgICAgIHY4NjMgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHY4NjcgaW4gcGFpcnModjg1MikgZG8KICAgICAgICAgICAgICAgICAgICAgICAgaWYgdjg2NyBhbmQgdjg2Ny5QYXJlbnQgYW5kIHY4NjcuTmFtZSA9PSAiVmVoaWNsZVNlYXQiIGFuZCBub3Qgdjg2Ny5PY2N1cGFudCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3Bvcyh2ODY3LkNGcmFtZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIHY4NjMgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIHJldHVybiAKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICByZXR1cm4gCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGxvY2FsIHZhcl92eWZ5Ym4gPSBsX0NoYXJhY3Rlcl84Lkh1bWFub2lkCiAgICAgICAgICAgIGxvY2FsIHZhcl96aG9naTEgPSBmYWxzZQogICAgICAgICAgICBsb2NhbCB2YXJfbXl2OWZ1ID0gbmlsCiAgICAgICAgICAgIGZvciBfLCB2ODczIGluIHBhaXJzKGxfV29ya3NwYWNlXzEuQm9hdHM6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9yamVpczYgPSB2ODczOkZpbmRGaXJzdENoaWxkKCJWZWhpY2xlU2VhdCIpCiAgICAgICAgICAgICAgICBpZiBsX1ZlaGljbGVTZWF0XzAgYW5kIGxfVmVoaWNsZVNlYXRfMC5PY2N1cGFudCA9PSBsX0h1bWFub2lkXzEgdGhlbgogICAgICAgICAgICAgICAgICAgIHY4NzAgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgdjg3MSA9IGxfVmVoaWNsZVNlYXRfMAogICAgICAgICAgICAgICAgICAgIHY4NTJbdjg3My5OYW1lXSA9IGxfVmVoaWNsZVNlYXRfMAogICAgICAgICAgICAgICAgZWxzZWlmIGxfVmVoaWNsZVNlYXRfMCBhbmQgbF9WZWhpY2xlU2VhdF8wLk9jY3VwYW50ID09ICJOYW1lIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgdjg2OCgpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGlmIHY4NzAgdGhlbgogICAgICAgICAgICAgICAgdjg3MS5NYXhTcGVlZCA9IHY4NTcKICAgICAgICAgICAgICAgIHY4NzEuQ0ZyYW1lID0gQ0ZyYW1lLm5ldyhWZWN0b3IzLm5ldyh2ODcxLlBvc2l0aW9uLlgsIHY4NzEuUG9zaXRpb24uWSwgdjg3MS5Qb3NpdGlvbi5aKSkgKiB2ODcxLkNGcmFtZS5Sb3RhdGlvbgogICAgICAgICAgICAgICAgbF9WaXJ0dWFsSW5wdXRNYW5hZ2VyXzM6U2VuZEtleUV2ZW50KHRydWUsICJXIiwgZmFsc2UsIGdhbWUpCiAgICAgICAgICAgICAgICBmb3IgXywgdjg3NiBpbiBwYWlycyhsX1dvcmtzcGFjZV8xLkJvYXRzOkdldERlc2NlbmRhbnRzKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgaWYgdjg3NjpJc0EoIkJhc2VQYXJ0IikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICB2ODc2LkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBmb3IgXywgdjg3OCBpbiBwYWlycyhsX0NoYXJhY3Rlcl84OkdldERlc2NlbmRhbnRzKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgaWYgdjg3ODpJc0EoIkJhc2VQYXJ0IikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICB2ODc4LkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBmb3IgXywgdjg4MCBpbiBpcGFpcnMoewogICAgICAgICAgICAgICAgICAgICJTaGlwd3JlY2tJc2xhbmQiLAogICAgICAgICAgICAgICAgICAgICJTYW5kSXNsYW5kIiwKICAgICAgICAgICAgICAgICAgICAiVHJlZUlzbGFuZCIsCiAgICAgICAgICAgICAgICAgICAgIlRpbnlJc2xhbmQiLAogICAgICAgICAgICAgICAgICAgICJNeXN0aWNJc2xhbmQiLAogICAgICAgICAgICAgICAgICAgICJLaXRzdW5lSXNsYW5kIiwKICAgICAgICAgICAgICAgICAgICAiRnJvemVuRGltZW5zaW9uIgogICAgICAgICAgICAgICAgfSkgZG8KICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfN2J2bWc3ID0gbF9Xb3Jrc3BhY2VfMS5NYXA6RmluZEZpcnN0Q2hpbGQodjg4MCkKICAgICAgICAgICAgICAgICAgICBpZiBsX0ZpcnN0Q2hpbGRfNiBhbmQgbF9GaXJzdENoaWxkXzY6SXNBKCJNb2RlbCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgbF9GaXJzdENoaWxkXzY6RGVzdHJveSgpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGlmIGxfV29ya3NwYWNlXzEuTWFwOkZpbmRGaXJzdENoaWxkKCJQcmVoaXN0b3JpY0lzbGFuZCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICBsX1ZpcnR1YWxJbnB1dE1hbmFnZXJfMzpTZW5kS2V5RXZlbnQoZmFsc2UsICJXIiwgZmFsc2UsIGdhbWUpCiAgICAgICAgICAgICAgICAgICAgX0cuQXV0b0ZpbmRQcmVoaXN0b3JpYyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgaWYgbm90IHY4NjQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICB2ODY0ID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIHJldHVybiAKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICByZXR1cm4gCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgcmV0dXJuIAogICAgICAgICAgICBlbmQKICAgICAgICBlbHNlCiAgICAgICAgICAgIHJldHVybiAKICAgICAgICBlbmQKICAgIGVsc2UKICAgICAgICB2ODY0ID0gZmFsc2UKICAgICAgICByZXR1cm4gCiAgICBlbmQKZW5kKQp2NDg4OkFkZFRvZ2dsZSh7CiAgICBOYW1lID0gIkF1dG8gVHdlZW4gUHJlaGlzdG9yaWMgSXNsYW5kIiwKICAgIERlc2NyaXB0aW9uID0gIlRcMjI1XDE4N1wxNzcgXDE5NlwxNDRcMjI1XDE4N1wxNTNuZyBCYXkgVlwxOTVcMTYwbyBcMTk2XDE0NFwyMjVcMTg2XDE2M28gTlwxOTVcMTg2aSBMXDIyNVwxODdcMTczYSBWb2xjYW5vIiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjg4MikKICAgICAgICBfRy5Ud2VlblZvbGNhbm8gPSB2ODgyCiAgICAgICAgU3RvcFR3ZWVuKF9HLlR3ZWVuVm9sY2FubykKICAgIGVuZAp9KQpzcGF3bihmdW5jdGlvbigpCiAgICBsb2NhbCB2YXJfZnh2anZmID0gbmlsCiAgICB3aGlsZSBub3Qgdjg4MyBkbwogICAgICAgIHY4ODMgPSBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLk1hcDpGaW5kRmlyc3RDaGlsZCgiUHJlaGlzdG9yaWNJc2xhbmQiKQogICAgICAgIHdhaXQoKQogICAgZW5kCiAgICB3aGlsZSB3YWl0KCkgZG8KICAgICAgICBpZiBfRy5Ud2VlblZvbGNhbm8gdGhlbgogICAgICAgICAgICBsb2NhbCB2YXJfbmYxYnBnID0gZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5NYXA6RmluZEZpcnN0Q2hpbGQoIlByZWhpc3RvcmljSXNsYW5kIikKICAgICAgICAgICAgaWYgbF9QcmVoaXN0b3JpY0lzbGFuZF8wIHRoZW4KICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9hMWxqc3AgPSBsX1ByZWhpc3RvcmljSXNsYW5kXzA6RmluZEZpcnN0Q2hpbGQoIkNvcmUiKSBhbmQgbF9QcmVoaXN0b3JpY0lzbGFuZF8wLkNvcmU6RmluZEZpcnN0Q2hpbGQoIlByZWhpc3RvcmljUmVsaWMiKQogICAgICAgICAgICAgICAgbG9jYWwgdmFyX3RvOGpjMyA9IHY4ODUgYW5kIHY4ODU6RmluZEZpcnN0Q2hpbGQoIlNrdWxsIikKICAgICAgICAgICAgICAgIGlmIHY4ODYgdGhlbgogICAgICAgICAgICAgICAgICAgIFRQMShDRnJhbWUubmV3KHY4ODYuUG9zaXRpb24pKQogICAgICAgICAgICAgICAgICAgIF9HLlR3ZWVuVm9sY2FubyA9IGZhbHNlCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKZW5kKQp2NDg4OkFkZFRvZ2dsZSh7CiAgICBOYW1lID0gIkF1dG8gRGVmZW5kIFByZWhpc3RvcmljIiwKICAgIERlc2NyaXB0aW9uID0gIlhvXDE5NVwxNjEgTGF2YSIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY4ODcpCiAgICAgICAgX0cuRGVmZW5kVm9sY2FubyA9IHY4ODcKICAgICAgICBTdG9wVHdlZW4oX0cuRGVmZW5kVm9sY2FubykKICAgIGVuZAp9KQpsb2NhbCB2YXJfd2hkeHVjIHY4ODkodjg4OCkKICAgIGdhbWU6R2V0U2VydmljZSgiVmlydHVhbElucHV0TWFuYWdlciIpOlNlbmRLZXlFdmVudCh0cnVlLCB2ODg4LCBmYWxzZSwgZ2FtZSkKICAgIGdhbWU6R2V0U2VydmljZSgiVmlydHVhbElucHV0TWFuYWdlciIpOlNlbmRLZXlFdmVudChmYWxzZSwgdjg4OCwgZmFsc2UsIGdhbWUpCmVuZApsb2NhbCB2YXJfa2dwM2dtIHY4OTgoKQogICAgbG9jYWwgdmFyX292OHYzeSA9IGdhbWUuV29ya3NwYWNlLk1hcC5QcmVoaXN0b3JpY0lzbGFuZC5Db3JlOkZpbmRGaXJzdENoaWxkKCJJbnRlcmlvckxhdmEiKQogICAgaWYgbF9JbnRlcmlvckxhdmFfMCBhbmQgbF9JbnRlcmlvckxhdmFfMDpJc0EoIk1vZGVsIikgdGhlbgogICAgICAgIGxfSW50ZXJpb3JMYXZhXzA6RGVzdHJveSgpCiAgICBlbmQKICAgIGxvY2FsIHZhcl80czlsZjkgPSBnYW1lLldvcmtzcGFjZS5NYXA6RmluZEZpcnN0Q2hpbGQoIlByZWhpc3RvcmljSXNsYW5kIikKICAgIGlmIGxfUHJlaGlzdG9yaWNJc2xhbmRfMSB0aGVuCiAgICAgICAgZm9yIF8sIHY4OTMgaW4gcGFpcnMobF9QcmVoaXN0b3JpY0lzbGFuZF8xOkdldERlc2NlbmRhbnRzKCkpIGRvCiAgICAgICAgICAgIGlmIHY4OTM6SXNBKCJQYXJ0IikgYW5kIHY4OTMuTmFtZTpsb3dlcigpOmZpbmQoImxhdmEiKSB0aGVuCiAgICAgICAgICAgICAgICB2ODkzOkRlc3Ryb3koKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAogICAgaWYgbF9QcmVoaXN0b3JpY0lzbGFuZF8xIHRoZW4KICAgICAgICBmb3IgXywgdjg5NSBpbiBwYWlycyhsX1ByZWhpc3RvcmljSXNsYW5kXzE6R2V0RGVzY2VuZGFudHMoKSkgZG8KICAgICAgICAgICAgaWYgdjg5NTpJc0EoIk1vZGVsIikgdGhlbgogICAgICAgICAgICAgICAgZm9yIF8sIHY4OTcgaW4gcGFpcnModjg5NTpHZXREZXNjZW5kYW50cygpKSBkbwogICAgICAgICAgICAgICAgICAgIGlmIHY4OTc6SXNBKCJNZXNoUGFydCIpIGFuZCB2ODk3Lk5hbWU6bG93ZXIoKTpmaW5kKCJsYXZhIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICB2ODk3OkRlc3Ryb3koKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCmVuZApsb2NhbCB2YXJfYWlhMWZtIHY5MDQoKQogICAgbG9jYWwgdmFyX3A4cmoyayA9IGdhbWUuV29ya3NwYWNlLk1hcC5QcmVoaXN0b3JpY0lzbGFuZC5Db3JlLlZvbGNhbm9Sb2NrcwogICAgZm9yIF8sIHY5MDEgaW4gcGFpcnMobF9Wb2xjYW5vUm9ja3NfMDpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgIGlmIHY5MDE6SXNBKCJNb2RlbCIpIHRoZW4KICAgICAgICAgICAgbG9jYWwgdmFyX251cmY4ZyA9IHY5MDE6RmluZEZpcnN0Q2hpbGQoInZvbGNhbm9yb2NrIikKICAgICAgICAgICAgaWYgbF92b2xjYW5vcm9ja18wIGFuZCBsX3ZvbGNhbm9yb2NrXzA6SXNBKCJNZXNoUGFydCIpIHRoZW4KICAgICAgICAgICAgICAgIGxvY2FsIHZhcl95eG82MmQgPSBsX3ZvbGNhbm9yb2NrXzAuQ29sb3IKICAgICAgICAgICAgICAgIGlmIGxfQ29sb3JfMCA9PSBDb2xvcjMuZnJvbVJHQigxODUsIDUzLCA1Nikgb3IgbF9Db2xvcl8wID09IENvbG9yMy5mcm9tUkdCKDE4NSwgNTMsIDU3KSB0aGVuCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxfdm9sY2Fub3JvY2tfMAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCiAgICByZXR1cm4gbmlsCmVuZApsb2NhbCB2YXJfY3Q5aHdqIHY5MTModjkwNSkKICAgIGxvY2FsIHZhcl9idzRwNHogPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIKICAgIGxvY2FsIHZhcl95MXFhcXEgPSBsX0xvY2FsUGxheWVyXzEzLkJhY2twYWNrCiAgICBmb3IgXywgdjkwOSBpbiBwYWlycyhsX0JhY2twYWNrXzI6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICBpZiB2OTA5OklzQSgiVG9vbCIpIGFuZCB2OTA5LlRvb2xUaXAgPT0gdjkwNSB0aGVuCiAgICAgICAgICAgIHY5MDkuUGFyZW50ID0gbF9Mb2NhbFBsYXllcl8xMy5DaGFyYWN0ZXIKICAgICAgICAgICAgZm9yIF8sIHY5MTEgaW4gaXBhaXJzKHsiWiIsICJYIiwgIkMiLCAiViIsICJGIn0pIGRvCiAgICAgICAgICAgICAgICB3YWl0KCkKICAgICAgICAgICAgICAgIGRvCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX21pMWF1ayA9IHY5MTEKICAgICAgICAgICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgIHY4ODkobF92OTExXzApCiAgICAgICAgICAgICAgICAgICAgZW5kKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICB2OTA5LlBhcmVudCA9IGxfQmFja3BhY2tfMgogICAgICAgICAgICBicmVhawogICAgICAgIGVuZAogICAgZW5kCmVuZApzcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB3YWl0KCkgZG8KICAgICAgICBpZiBfRy5EZWZlbmRWb2xjYW5vIHRoZW4KICAgICAgICAgICAgQXV0b0hha2koKQogICAgICAgICAgICBwY2FsbCh2ODk4KQogICAgICAgICAgICBsb2NhbCB2YXJfc25oNG5lID0gdjkwNCgpCiAgICAgICAgICAgIGlmIG5vdCB2OTE0IHRoZW4KICAgICAgICAgICAgICAgIF9HLlRwUHJlaGlzdG9yaWMgPSB0cnVlCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGxvY2FsIHZhcl8xMmF6dGQgPSBDRnJhbWUubmV3KHY5MTQuUG9zaXRpb24pCiAgICAgICAgICAgICAgICBUUDEodjkxNSkKICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9xem1qN24gPSB2OTE0LkNvbG9yCiAgICAgICAgICAgICAgICBpZiBsX0NvbG9yXzEgPT0gQ29sb3IzLmZyb21SR0IoMTg1LCA1MywgNTYpIG9yIGxfQ29sb3JfMSA9PSBDb2xvcjMuZnJvbVJHQigxODUsIDUzLCA1NykgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIChnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSB2OTE0LlBvc2l0aW9uKS5NYWduaXR1ZGUgPD0gMSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIF9HLlVzZU1lbGVlIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY5MTMoIk1lbGVlIikKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIF9HLlVzZVN3b3JkIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY5MTMoIlN3b3JkIikKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIF9HLlVzZUd1biB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2OTEzKCJHdW4iKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBfRy5UcFByZWhpc3RvcmljID0gZmFsc2UKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICB2OTE0ID0gdjkwNCgpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKZW5kKQpsb2NhbCB2YXJfbnd5NG0zID0gdjQ4ODpBZGRTZWN0aW9uKHsiQXV0byBTa2lsbCJ9KQp2NDg4OkFkZFRvZ2dsZSh7CiAgICBOYW1lID0gIkF1dG8gVXNlIE1lbGVlIiwKICAgIERlc2NyaXB0aW9uID0gIkRcMTk1XDE4NW5nIE1lbGVlIFwxOTZcMTQ0XDIyNVwxODdcMTMxIFBoXDE5NVwxNjEgTGF2YSIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY5MTgpCiAgICAgICAgX0cuVXNlTWVsZWUgPSB2OTE4CiAgICAgICAgU3RvcFR3ZWVuKF9HLlVzZU1lbGVlKQogICAgZW5kCn0pCnY0ODg6QWRkVG9nZ2xlKHsKICAgIE5hbWUgPSAiQXV0byBVc2UgU3dvcmQiLAogICAgRGVzY3JpcHRpb24gPSAiRFwxOTVcMTg1bmcgU3dvcmQgXDE5NlwxNDRcMjI1XDE4N1wxMzEgUGhcMTk1XDE2MSBMYXZhIiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjkxOSkKICAgICAgICBfRy5Vc2VTd29yZCA9IHY5MTkKICAgICAgICBTdG9wVHdlZW4oX0cuVXNlU3dvcmQpCiAgICBlbmQKfSkKdjQ4ODpBZGRUb2dnbGUoewogICAgTmFtZSA9ICJBdXRvIFVzZSBHdW4iLAogICAgRGVzY3JpcHRpb24gPSAiRFwxOTVcMTg1bmcgR3VuIFwxOTZcMTQ0XDIyNVwxODdcMTMxIFBoXDE5NVwxNjEgTGF2YSIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY5MjApCiAgICAgICAgX0cuVXNlR3VuID0gdjkyMAogICAgICAgIFN0b3BUd2VlbihfRy5Vc2VHdW4pCiAgICBlbmQKfSkKbG9jYWwgdmFyX3ZueGRjNCA9IHY0ODg6QWRkU2VjdGlvbih7IkF1dG8gS2lsbCBHb2xlbSJ9KQp2NDg4OkFkZFRvZ2dsZSh7CiAgICBOYW1lID0gIkF1dG8gS2lsbCBHb2xlbSIsCiAgICBEZXNjcmlwdGlvbiA9ICJUXDIyNVwxODdcMTc3IFwxOTZcMTQ0XDIyNVwxODdcMTUzbmcgS2lsbCBHb2xlbSIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY5MjIpCiAgICAgICAgX0cuS2lsbEdvbGVtID0gdjkyMgogICAgICAgIFN0b3BUd2VlbihfRy5LaWxsR29sZW0pCiAgICBlbmQKfSkKc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgaWYgX0cuS2lsbEdvbGVtIGFuZCBXb3JsZDMgdGhlbgogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIkxhdmEgR29sZW0iKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHY5MjQgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHY5MjQuTmFtZSA9PSAiTGF2YSBHb2xlbSIgYW5kIHY5MjQ6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikgYW5kIHY5MjQ6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBhbmQgdjkyNC5IdW1hbm9pZC5IZWFsdGggPiAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0b0hha2koKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVxdWlwV2VhcG9uKF9HLlNlbGVjdFdlYXBvbikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2OTI0Lkh1bWFub2lkUm9vdFBhcnQuQ2FuQ29sbGlkZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjkyNC5IdW1hbm9pZC5XYWxrU3BlZWQgPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjkyNC5IdW1hbm9pZFJvb3RQYXJ0LlNpemUgPSBWZWN0b3IzLm5ldyg1MCwgNTAsIDUwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKHY5MjQuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDAsIDMwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRoaWRkZW5wcm9wZXJ0eShnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIsICJTaW11bGF0aW9uUmFkaXVzIiwgbWF0aC5odWdlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdW50aWwgbm90IF9HLktpbGxHb2xlbSBvciBub3QgdjkyNC5QYXJlbnQgb3IgdjkyNC5IdW1hbm9pZC5IZWFsdGggPD0gMAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBVbkVxdWlwV2VhcG9uKF9HLlNlbGVjdFdlYXBvbikKICAgICAgICAgICAgICAgICAgICBpZiBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6RmluZEZpcnN0Q2hpbGQoIkxhdmEgR29sZW0iKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKTpGaW5kRmlyc3RDaGlsZCgiTGF2YSBHb2xlbSIpLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldygyLCAyMCwgMikpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCmVuZCkKdjQ4ODpBZGRUb2dnbGUoewogICAgTmFtZSA9ICJBdXRvIEtpbGwgQXVyYSBHb2xlbSIsCiAgICBEZXNjcmlwdGlvbiA9ICJUXDIyNVwxODdcMTc3IFwxOTZcMTQ0XDIyNVwxODdcMTUzbmcgS2lsbCBBdXJhIEdvbGVtIiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjkyNSkKICAgICAgICBfRy5LaWxsX0F1cmEgPSB2OTI1CiAgICAgICAgU3RvcFR3ZWVuKF9HLktpbGxfQXVyYSkKICAgIGVuZAp9KQpzcGF3bihmdW5jdGlvbigpCiAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgICAgIGlmIF9HLktpbGxfQXVyYSB0aGVuCiAgICAgICAgICAgICAgICBsb2NhbCB2YXJfOHlzbWdsID0gZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIKICAgICAgICAgICAgICAgIGxvY2FsIHZhcl91ZTl5cmMgPSBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6R2V0Q2hpbGRyZW4oKQogICAgICAgICAgICAgICAgbG9jYWwgdmFyX3cyYXNzcSA9IGxfTG9jYWxQbGF5ZXJfMTQuQ2hhcmFjdGVyIGFuZCBsX0xvY2FsUGxheWVyXzE0LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIGFuZCBsX0xvY2FsUGxheWVyXzE0LkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uCiAgICAgICAgICAgICAgICBkbwogICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl85NDN6YmYgPSBsX0xvY2FsUGxheWVyXzE0CiAgICAgICAgICAgICAgICAgICAgaWYgdjkyOCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCB2OTMxIGluIHBhaXJzKGxfQ2hpbGRyZW5fMCkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX3BuNzhjdCA9IHY5MzEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBsX3Y5MzFfMDpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKSBhbmQgbF92OTMxXzA6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBhbmQgbF92OTMxXzAuSHVtYW5vaWQuSGVhbHRoID4gMCBhbmQgKGxfdjkzMV8wLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSB2OTI4KS5NYWduaXR1ZGUgPD0gMTAwMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGhpZGRlbnByb3BlcnR5KGxfbF9Mb2NhbFBsYXllcl8xNF8wLCAiU2ltdWxhdGlvblJhZGl1cyIsIG1hdGguaHVnZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX3Y5MzFfMC5IdW1hbm9pZC5IZWFsdGggPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbF92OTMxXzAuSHVtYW5vaWRSb290UGFydC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsIG5vdCBfRy5LaWxsX0F1cmEgb3Igbm90IGxfdjkzMV8wLlBhcmVudCBvciBsX3Y5MzFfMC5IdW1hbm9pZC5IZWFsdGggPD0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQpCmVuZCkKbG9jYWwgdmFyX21odnY0NiA9IHY0ODg6QWRkU2VjdGlvbih7IkF1dG8gQ29sbGVjdCBCb25lLEVnZyJ9KQp2NDg4OkFkZFRvZ2dsZSh7CiAgICBOYW1lID0gIkF1dG8gQ29sbGVjdCBCb25lIiwKICAgIERlc2NyaXB0aW9uID0gIlRcMjI1XDE4N1wxNzcgXDE5NlwxNDRcMjI1XDE4N1wxNTNuZyBOaFwyMjVcMTg2XDE4M3QgU1wxOThcMTc2XDE5OFwxNjFuZyIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY5MzQpCiAgICAgICAgX0cuQXV0b0NvbGxlY3RCb25lID0gdjkzNAogICAgICAgIFN0b3BUd2VlbihfRy5BdXRvQ29sbGVjdEJvbmUpCiAgICBlbmQKfSkKc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgaWYgX0cuQXV0b0NvbGxlY3RCb25lIHRoZW4KICAgICAgICAgICAgZm9yIF8sIHY5MzYgaW4gcGFpcnMod29ya3NwYWNlOkdldERlc2NlbmRhbnRzKCkpIGRvCiAgICAgICAgICAgICAgICBpZiB2OTM2OklzQSgiQmFzZVBhcnQiKSBhbmQgdjkzNi5OYW1lID09ICJEaW5vQm9uZSIgdGhlbgogICAgICAgICAgICAgICAgICAgIHRvcG9zKENGcmFtZS5uZXcodjkzNi5Qb3NpdGlvbikpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKZW5kKQp2NDg4OkFkZFRvZ2dsZSh7CiAgICBOYW1lID0gIkF1dG8gQ29sbGVjdCBFZ2ciLAogICAgRGVzY3JpcHRpb24gPSAiVFwyMjVcMTg3XDE3NyBcMTk2XDE0NFwyMjVcMTg3XDE1M25nIE5oXDIyNVwxODZcMTgzdCBUclwyMjVcMTg3XDE2OW5nIiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjkzNykKICAgICAgICBfRy5Db2xsZWN0RWdnID0gdjkzNwogICAgICAgIFN0b3BUd2VlbihfRy5Db2xsZWN0RWdnKQogICAgZW5kCn0pCnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHdhaXQoKSBkbwogICAgICAgIGlmIF9HLkNvbGxlY3RFZ2cgdGhlbgogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6V2FpdEZvckNoaWxkKCJNb2R1bGVzIik6V2FpdEZvckNoaWxkKCJOZXQiKTpXYWl0Rm9yQ2hpbGQoIlJFL0NvbGxlY3RlZERyYWdvbkVnZyIpOkZpcmVTZXJ2ZXIoKQogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kKQpsb2NhbCB2YXJfemVqbXQ3ID0gdjQ4OTpBZGRTZWN0aW9uKHsiS2l0c3VuZSBJc2xhbmQifSkKbG9jYWwgdmFyX2ViZGpseSA9IHY0ODk6QWRkUGFyYWdyYXBoKHtUaXRsZSA9ICJDaGVjayBLaXRzdW5lIElzbGFuZCIsIENvbnRlbnQgPSAiTG9hZGluZy4uLiJ9KQp0YXNrLnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHRhc2sud2FpdCgxKSBkbwogICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgaWYgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5NYXA6RmluZEZpcnN0Q2hpbGQoIktpdHN1bmVJc2xhbmQiKSB0aGVuCiAgICAgICAgICAgICAgICB2OTM5OlNldCgiS2l0c3VuZSBJc2xhbmQgU3Bhd25pbmcgXDIyNlwxNTZcMTMzIikKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgdjkzOTpTZXQoIktpdHN1bmUgSXNsYW5kIE5vdCBTcGF3biBcMjI2XDE1N1wxNDAiKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCiAgICBlbmQKZW5kKQp2NDg5OkFkZFRvZ2dsZSh7CiAgICBOYW1lID0gIkF1dG8gVHdlZW4gS2l0c3VuZSBpc2xhbmQiLAogICAgRGVzY3JpcHRpb24gPSAiQmF5IFZcMTk1XDE4MCBcMTk2XDE0NFwyMjVcMTg2XDE2M28gS2l0c3VuZSIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY5NDApCiAgICAgICAgX0cuVHdlZW5Ub0tpdHN1bmUgPSB2OTQwCiAgICAgICAgU3RvcFR3ZWVuKF9HLlR3ZWVuVG9LaXRzdW5lKQogICAgZW5kCn0pCnNwYXduKGZ1bmN0aW9uKCkKICAgIGxvY2FsIHZhcl9xanY4ZmIgPSBuaWwKICAgIHdoaWxlIG5vdCB2OTQxIGRvCiAgICAgICAgdjk0MSA9IGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuTWFwOkZpbmRGaXJzdENoaWxkKCJLaXRzdW5lSXNsYW5kIikKICAgICAgICB3YWl0KDEpCiAgICBlbmQKICAgIHdoaWxlIHdhaXQoKSBkbwogICAgICAgIGlmIF9HLlR3ZWVuVG9LaXRzdW5lIHRoZW4KICAgICAgICAgICAgbG9jYWwgdmFyX2JuMWFkNyA9IHY5NDEuRmluZEZpcnN0Q2hpbGQodjk0MSwgIlNocmluZUFjdGl2ZSIpCiAgICAgICAgICAgIGlmIHY5NDIgdGhlbgogICAgICAgICAgICAgICAgZm9yIF8sIHY5NDQgaW4gcGFpcnModjk0MjpHZXREZXNjZW5kYW50cygpKSBkbwogICAgICAgICAgICAgICAgICAgIGlmIHY5NDQ6SXNBKCJCYXNlUGFydCIpIGFuZCB2OTQ0Lk5hbWU6ZmluZCgiTmVvblNocmluZVBhcnQiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIFR3ZWVuKHY5NDQuQ0ZyYW1lKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCmVuZCkKc3Bhd24oZnVuY3Rpb24oKQogICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgIHdoaWxlIHdhaXQoKSBkbwogICAgICAgICAgICBpZiBfRy5Ud2VlblRvS2l0c3VuZSB0aGVuCiAgICAgICAgICAgICAgICB0b3BvcyhnYW1lLldvcmtzcGFjZS5NYXAuS2l0c3VuZUlzbGFuZC5TaHJpbmVBY3RpdmUuTmVvblNocmluZVBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldygwLCAwLCAxMCkpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kKQplbmQpCnY0ODk6QWRkVG9nZ2xlKHsKICAgIFRpdGxlID0gIkVzcCBLaXRzdW5lIElzbGFuZCIsCiAgICBWYWx1ZSA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2OTQ1KQogICAgICAgIEtpdHN1bmVJc2xhbmRFc3AgPSB2OTQ1CiAgICAgICAgaWYgS2l0c3VuZUlzbGFuZEVzcCB0aGVuCiAgICAgICAgICAgIHRhc2suc3Bhd24oZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgd2hpbGUgS2l0c3VuZUlzbGFuZEVzcCBkbwogICAgICAgICAgICAgICAgICAgIFVwZGF0ZUlzbGFuZEtpc3VuZUVTUCgpCiAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KDEpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVsc2UKICAgICAgICAgICAgVXBkYXRlSXNsYW5kS2lzdW5lRVNQKCkKICAgICAgICBlbmQKICAgIGVuZAp9KQp2NDg5OkFkZFRvZ2dsZSh7CiAgICBOYW1lID0gIkF1dG8gQXp1ZXIgRW1iZXIiLAogICAgRGVzY3JpcHRpb24gPSAiVFwyMjVcMTg3XDE3NyBcMTk2XDE0NFwyMjVcMTg3XDE1M25nIE5oXDIyNVwxODZcMTgzdCBMaW5oIEhcMjI1XDE4N1wxNDduIFhhbmgiLAogICAgRGVmYXVsdCA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2OTQ2KQogICAgICAgIF9HLkF1dG9BenVlckVtYmVyID0gdjk0NgogICAgICAgIFN0b3BUd2VlbihfRy5BdXRvQXp1ZXJFbWJlcikKICAgIGVuZAp9KQpzcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB3YWl0KCkgZG8KICAgICAgICBpZiBfRy5BdXRvQXp1ZXJFbWJlciB0aGVuCiAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGlmIGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIik6RmluZEZpcnN0Q2hpbGQoIkF0dGFjaGVkQXp1cmVFbWJlciIpIHRoZW4KICAgICAgICAgICAgICAgICAgICBUUDEoZ2FtZS5Xb3Jrc3BhY2UuRW1iZXJUZW1wbGF0ZS5QYXJ0LkNGcmFtZSkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kKQpsb2NhbCB2YXJfc3prMTQwID0gdjQ4OTpBZGRTZWN0aW9uKHsiU2VhIEV2ZW50cyJ9KQp2NDg5OkFkZFRvZ2dsZSh7CiAgICBOYW1lID0gIkF1dG8gRHJpdmUgQm9hdHMiLAogICAgRGVzY3JpcHRpb24gPSAiVFwyMjVcMTg3XDE3NyBcMTk2XDE0NFwyMjVcMTg3XDE1M25nIExcMTk1XDE2MWkgVGh1eVwyMjVcMTg3XDEyOW4iLAogICAgRGVmYXVsdCA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2OTQ4KQogICAgICAgIF9HLlNhaWxCb2F0ID0gdjk0OAogICAgICAgIFN0b3BUd2VlbihfRy5TYWlsQm9hdCkKICAgIGVuZAp9KQpzcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB3YWl0KCkgZG8KICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgIGlmIF9HLlNhaWxCb2F0IGFuZCAobm90IGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpGaW5kRmlyc3RDaGlsZCgiU2hhcmsiKSBvciBub3QgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKCJUZXJyb3JzaGFyayIpIG9yIG5vdCBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIlBpcmFuaGEiKSBvciBub3QgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKCJGaXNoIENyZXcgTWVtYmVyIikpIHRoZW4KICAgICAgICAgICAgICAgIGlmIGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuQm9hdHM6RmluZEZpcnN0Q2hpbGQoIlBpcmF0ZUJyaWdhZGUiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5Cb2F0czpGaW5kRmlyc3RDaGlsZCgiUGlyYXRlQnJpZ2FkZSIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgaWYgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkIikuU2l0ID09IGZhbHNlIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRQUChnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkJvYXRzLlBpcmF0ZUJyaWdhZGUuVmVoaWNsZVNlYXQuQ0ZyYW1lICogQ0ZyYW1lLm5ldygwLCAxLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHY5NTAgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5Cb2F0czpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHY5NTAuTmFtZSA9PSAiUGlyYXRlQnJpZ2FkZSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENGcmFtZS5uZXcoLTE3MDEzLjgwMDc4MTI1LCAxMC45NjI0MzQ3Njg2NzY3NTgsIDQzOC4wMTY5OTgyOTEwMTU2KS5Qb3NpdGlvbiAtIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikubWFnbml0dWRlIDw9IDEwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUUEIoQ0ZyYW1lLm5ldygtMzc4MTMuNjk1MywgLTAuMzIyMTc0NCwgNjEwNS4xNjg5NSwgLTAuMjUyMzYyOTk2LCA0LjEzNjIxNTgxRS05LCAwLjk2NzYzMjY1MSwgMi44NzMyMDcwOUUtOCwgMSwgMy4yMTg4ODI0OUUtOSwgLTAuOTY3NjMyNjUxLCAyLjg2MTQ0MTc1RS04LCAtMC4yNTIzNjI5OTYpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIChDRnJhbWUubmV3KC0zNzgxMy42OTUzLCAtMC4zMjIxNzQ0LCA2MTA1LjE2ODk1LCAtMC4yNTIzNjI5OTYsIDQuMTM2MjE1ODFFLTksIDAuOTY3NjMyNjUxLCAyLjg3MzIwNzA5RS04LCAxLCAzLjIxODg4MjQ5RS05LCAtMC45Njc2MzI2NTEsIDIuODYxNDQxNzVFLTgsIC0wLjI1MjM2Mjk5NikuUG9zaXRpb24gLSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLm1hZ25pdHVkZSA+IDEwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ0ZyYW1lLm5ldygtNDIyNTAuMjIyNywgLTAuMzIyMTc0NCwgOTI0Ny4wNzcxNSwgLTAuNDU5MTY0NDcsIDYuMzkwNDMyMzZFLTgsIDAuODg4MzUxMjYyLCAtMy4zNjcxMTQyM0UtOCwgMSwgLTguOTMzOTU2NTFFLTgsIC0wLjg4ODM1MTI2MiwgLTcuMDkzMzM2MDVFLTgsIC0wLjQ1OTE2NDQ3KS5Qb3NpdGlvbiAtIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikubWFnbml0dWRlIDw9IDEwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVFBCKENGcmFtZS5uZXcoLTM3ODEzLjY5NTMsIC0wLjMyMjE3NDQsIDYxMDUuMTY4OTUsIC0wLjI1MjM2Mjk5NiwgNC4xMzYyMTU4MUUtOSwgMC45Njc2MzI2NTEsIDIuODczMjA3MDlFLTgsIDEsIDMuMjE4ODgyNDlFLTksIC0wLjk2NzYzMjY1MSwgMi44NjE0NDE3NUUtOCwgLTAuMjUyMzYyOTk2KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUUEIoQ0ZyYW1lLm5ldygtNDIyNTAuMjIyNywgLTAuMzIyMTc0NCwgOTI0Ny4wNzcxNSwgLTAuNDU5MTY0NDcsIDYuMzkwNDMyMzZFLTgsIDAuODg4MzUxMjYyLCAtMy4zNjcxMTQyM0UtOCwgMSwgLTguOTMzOTU2NTFFLTgsIC0wLjg4ODM1MTI2MiwgLTcuMDkzMzM2MDVFLTgsIC0wLjQ1OTE2NDQ3KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIlNoYXJrIikgb3IgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKCJUZXJyb3JzaGFyayIpIG9yIGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpGaW5kRmlyc3RDaGlsZCgiUGlyYW5oYSIpIG9yIGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpGaW5kRmlyc3RDaGlsZCgiRmlzaCBDcmV3IE1lbWJlciIpIG9yIF9HLlNhaWxCb2F0ID09IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgYnV5YiA9IFRQUChDRnJhbWUubmV3KC0xNjkyNy40NTExNzE4NzUsIDkuMDg2MzYxODg1MDcwOCwgNDMzLjg2NDI4ODMzMDA3ODEpKQogICAgICAgICAgICAgICAgICAgIGlmIChDRnJhbWUubmV3KC0xNjkyNy40NTExNzE4NzUsIDkuMDg2MzYxODg1MDcwOCwgNDMzLjg2NDI4ODMzMDA3ODEpLlBvc2l0aW9uIC0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKS5tYWduaXR1ZGUgPD0gMTAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBpZiBidXliIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1eWI6U3RvcCgpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfM244NHIwID0ge1sxXSA9ICJCdXlCb2F0IiwgWzJdID0gIlBpcmF0ZUJyaWdhZGUifQogICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKHVucGFjayh2OTUxKSkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCiAgICBlbmQKZW5kKQpzcGF3bihmdW5jdGlvbigpCiAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgICAgIGlmIF9HLlNhaWxCb2F0IGFuZCAoZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKCJTaGFyayIpIG9yIGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpGaW5kRmlyc3RDaGlsZCgiVGVycm9yc2hhcmsiKSBvciBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIlBpcmFuaGEiKSBvciBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIkZpc2ggQ3JldyBNZW1iZXIiKSkgdGhlbgogICAgICAgICAgICAgICAgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5TaXQgPSBmYWxzZQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZCkKZW5kKQp2NDg5OkFkZFRvZ2dsZSh7CiAgICBOYW1lID0gIkF1dG8gS2lsbCBUZXJyb3IgU2hhbmsiLAogICAgRGVzY3JpcHRpb24gPSAiVFwyMjVcMTg3XDE3NyBcMTk2XDE0NFwxOTVcMTYxbmggVGVycm9yIFNoYW5rIiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjk1MikKICAgICAgICBfRy5BdXRvdGVycm9yc2hhcmsgPSB2OTUyCiAgICAgICAgU3RvcFR3ZWVuKF9HLkF1dG90ZXJyb3JzaGFyaykKICAgIGVuZAp9KQpzcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB3YWl0KCkgZG8KICAgICAgICBpZiBfRy5BdXRvdGVycm9yc2hhcmsgYW5kIFdvcmxkMyB0aGVuCiAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGlmIG5vdCBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIlRlcnJvcnNoYXJrIikgYW5kIG5vdCBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIlBpcmFuaGEiKSBhbmQgbm90IGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpGaW5kRmlyc3RDaGlsZCgiRmlzaCBDcmV3IE1lbWJlciIpIGFuZCBub3QgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKCJTaGFyayIpIGFuZCBub3QgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5TZWFCZWFzdHM6RmluZEZpcnN0Q2hpbGQoIlNlYUJlYXN0MSIpIGFuZCBub3QgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKCJQaXJhdGVCcmlnYWRlIikgYW5kIG5vdCBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIlBpcmF0ZUJhc2ljIikgdGhlbgogICAgICAgICAgICAgICAgICAgIHRvcG9zKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuQm9hdHMuUGlyYXRlQnJpZ2FkZS5WZWhpY2xlU2VhdC5DRnJhbWUgKiBDRnJhbWUubmV3KDAsIC0xLCAwKSkKICAgICAgICAgICAgICAgICAgICBmb3IgXywgdjk1NCBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgaWYgdjk1NC5OYW1lIH49ICJUZXJyb3JzaGFyayIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5Cb2F0cy5WZWhpY2xlU2VhdC5DRnJhbWUgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKHY5NTQuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDIsIDIwLCAyKSkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHY5NTYgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHY5NTYuTmFtZSA9PSAiVGVycm9yc2hhcmsiIGFuZCB2OTU2OkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpIGFuZCB2OTU2OkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikgYW5kIHY5NTYuSHVtYW5vaWQuSGVhbHRoID4gMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dG9IYWtpKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFcXVpcFdlYXBvbihfRy5TZWxlY3RXZWFwb24pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjk1Ni5IdW1hbm9pZFJvb3RQYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY5NTYuSHVtYW5vaWQuV2Fsa1NwZWVkID0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY5NTYuSGVhZC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3Bvcyh2OTU2Lkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldyg1LCA0MCwgMTApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbkZhcm0gPSB2OTU2Lk5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQb3NNb24gPSB2OTU2Lkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5TaXQgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuX1dvcmxkT3JpZ2luOkZpbmRGaXJzdENoaWxkKCJUeXBob29uIFNwbGFzaCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3Modjk1Ni5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoMCwgMzAwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKHY5NTYuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDAsIDYwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsIG5vdCBfRy5BdXRvdGVycm9yc2hhcmsgb3Igbm90IHY5NTYuUGFyZW50IG9yIHY5NTYuSHVtYW5vaWQuSGVhbHRoIDw9IDAKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCmVuZCkKc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgaWYgX0cuZGFvIHRoZW4KICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgaWYgbm90IGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuQm9hdHM6RmluZEZpcnN0Q2hpbGQoIlBpcmF0ZUJyaWdhZGUiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQnV5Qm9hdCIsICJQaXJhdGVCcmlnYWRlIikKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kKQpzcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB3YWl0KCkgZG8KICAgICAgICBpZiBfRy5kYW8gYW5kIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuU2l0ID09IHRydWUgdGhlbgogICAgICAgICAgICBUUEIoQ0ZyYW1lLm5ldygtMjUzNTEuODQxOCwgMTAuNzU3NTYwNywgMjY0MzAuNzkxLCAtMC45OTgzNzk3NjcsIC0wLjAwNzIxMDA4NzAzLCAtMC4wNTY0NDM1MTk5LCAtMC4wMDcyMjE1OTk1OCwgMC45OTk5NzM5NTMsIC0xLjUzOTE5NDA1RS0xMCwgMC4wNTY0NDIwNDg0LCA0LjA3NjEyMzU5RS00LCAtMC45OTg0MDU4MTQpKQogICAgICAgIGVuZAogICAgZW5kCmVuZCkKc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgdGFzay53YWl0KDAuMSkgZG8KICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgIGlmIGdldGdlbnYoKS5TYWZlTW9kZSB0aGVuCiAgICAgICAgICAgICAgICBsb2NhbCB2YXJfdHNudmRqID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcgogICAgICAgICAgICAgICAgaWYgbF9DaGFyYWN0ZXJfOSBhbmQgbF9DaGFyYWN0ZXJfOTpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKSBhbmQgbF9DaGFyYWN0ZXJfOTpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfc3Q2cWxxID0gbF9DaGFyYWN0ZXJfOS5IdW1hbm9pZAogICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9vNGZyaDYgPSBsX0NoYXJhY3Rlcl85Lkh1bWFub2lkUm9vdFBhcnQKICAgICAgICAgICAgICAgICAgICBpZiBsX0h1bWFub2lkXzIuSGVhbHRoIDwgNTUwMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIGdldGdlbnYoKS5TYWZlTW9kZSBhbmQgbF9IdW1hbm9pZF8yLkhlYWx0aCA8IDU1MDAgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgwLjEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsX0h1bWFub2lkUm9vdFBhcnRfNS5DRnJhbWUgPSBsX0h1bWFub2lkUm9vdFBhcnRfNS5DRnJhbWUgKyBWZWN0b3IzLm5ldygwLCAyMDAsIDApCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZCkKICAgIGVuZAplbmQpCnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHdhaXQoKSBkbwogICAgICAgIGlmIF9HLk5vY2xpcHJvY2sgdGhlbgogICAgICAgICAgICBpZiBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLlNpdCA9PSB0cnVlIHRoZW4KICAgICAgICAgICAgICAgIGZvciBfLCB2OTYxIGluIHBhaXJzKGdhbWUuV29ya3NwYWNlLkJvYXRzOkdldERlc2NlbmRhbnRzKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgaWYgdjk2MTpJc0EoIkJhc2VQYXJ0IikgYW5kIHY5NjEuQ2FuQ29sbGlkZSA9PSB0cnVlIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgdjk2MS5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZm9yIF8sIHY5NjMgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcjpHZXREZXNjZW5kYW50cygpKSBkbwogICAgICAgICAgICAgICAgICAgIGlmIHY5NjM6SXNBKCJCYXNlUGFydCIpIGFuZCB2OTYzLkNhbkNvbGxpZGUgPT0gdHJ1ZSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHY5NjMuQ2FuQ29sbGlkZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZWxzZWlmIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuU2l0ID09IGZhbHNlIHRoZW4KICAgICAgICAgICAgICAgIGZvciBfLCB2OTY1IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlLkJvYXRzOkdldERlc2NlbmRhbnRzKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgaWYgdjk2NTpJc0EoIkJhc2VQYXJ0IikgYW5kIHY5NjUuQ2FuQ29sbGlkZSA9PSBmYWxzZSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHY5NjUuQ2FuQ29sbGlkZSA9IHRydWUKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZm9yIF8sIHY5NjcgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcjpHZXREZXNjZW5kYW50cygpKSBkbwogICAgICAgICAgICAgICAgICAgIGlmIHY5Njc6SXNBKCJCYXNlUGFydCIpIGFuZCB2OTY3LkNhbkNvbGxpZGUgPT0gZmFsc2UgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICB2OTY3LkNhbkNvbGxpZGUgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKZW5kKQp2NDg5OkFkZFRvZ2dsZSh7CiAgICBOYW1lID0gIkF1dG8gS2lsbCBTaGFyayIsCiAgICBEZXNjcmlwdGlvbiA9ICJUXDIyNVwxODdcMTc3IFwxOTZcMTQ0XDIyNVwxODdcMTUzbmcgXDE5NlwxNDRcMTk1XDE2MW5oIFNoYXJrIiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjk2OCkKICAgICAgICBfRy5LaWxsU2hhcmsgPSB2OTY4CiAgICAgICAgU3RvcFR3ZWVuKF9HLktpbGxTaGFyaykKICAgIGVuZAp9KQpzcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB3YWl0KCkgZG8KICAgICAgICBpZiBfRy5LaWxsU2hhcmsgYW5kIFdvcmxkMyBhbmQgX0cuU2FpbEJvYXQgdGhlbgogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBub3QgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKCJTaGFyayIpIGFuZCBub3QgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKCJQaXJhbmhhIikgYW5kIG5vdCBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIkZpc2ggQ3JldyBNZW1iZXIiKSBhbmQgbm90IGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpGaW5kRmlyc3RDaGlsZCgiVGVycm9yc2hhcmsiKSBhbmQgbm90IGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuU2VhQmVhc3RzOkZpbmRGaXJzdENoaWxkKCJTZWFCZWFzdDEiKSBhbmQgbm90IGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpGaW5kRmlyc3RDaGlsZCgiUGlyYXRlQnJpZ2FkZSIpIGFuZCBub3QgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKCJQaXJhdGVCYXNpYyIpIHRoZW4KICAgICAgICAgICAgICAgICAgICB0b3BvcyhnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkJvYXRzLlBpcmF0ZUJyaWdhZGUuVmVoaWNsZVNlYXQuQ0ZyYW1lICogQ0ZyYW1lLm5ldygwLCAtMSwgMCkpCiAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHY5NzAgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCB2OTcwLk5hbWUgPT0gIlNoYXJrIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkJvYXRzLlZlaGljbGVTZWF0LkNGcmFtZSA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIHY5NzAuTmFtZSA9PSAiU2hhcmsiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKHY5NzAuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDIsIDIwLCAyKSkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHY5NzIgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHY5NzIuTmFtZSA9PSAiU2hhcmsiIGFuZCB2OTcyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpIGFuZCB2OTcyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikgYW5kIHY5NzIuSHVtYW5vaWQuSGVhbHRoID4gMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dG9IYWtpKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFcXVpcFdlYXBvbihfRy5TZWxlY3RXZWFwb24pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjk3Mi5IdW1hbm9pZFJvb3RQYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY5NzIuSHVtYW5vaWQuV2Fsa1NwZWVkID0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY5NzIuSGVhZC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3Bvcyh2OTcyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldyg1LCA0MCwgMTApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbkZhcm0gPSB2OTcyLk5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQb3NNb24gPSB2OTcyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5TaXQgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdW50aWwgbm90IF9HLktpbGxTaGFyayBvciBub3Qgdjk3Mi5QYXJlbnQgb3Igdjk3Mi5IdW1hbm9pZC5IZWFsdGggPD0gMAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kKQp2NDg5OkFkZFRvZ2dsZSh7CiAgICBOYW1lID0gIkF1dG8gS2lsbCBQaXJhbmhhIiwKICAgIERlc2NyaXB0aW9uID0gIlRcMjI1XDE4N1wxNzcgXDE5NlwxNDRcMjI1XDE4N1wxNTNuZyBcMTk2XDE0NFwxOTVcMTYxbmggUGlyYW5oYSIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY5NzMpCiAgICAgICAgX0cuS2lsbFBpcmFuaGEgPSB2OTczCiAgICAgICAgU3RvcFR3ZWVuKF9HLktpbGxQaXJhbmhhKQogICAgZW5kCn0pCnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHdhaXQoKSBkbwogICAgICAgIGlmIF9HLktpbGxQaXJhbmhhIGFuZCBXb3JsZDMgdGhlbgogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIlBpcmFuaGEiKSBvciBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIlNoYXJrIikgb3IgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKCJGaXNoIENyZXcgTWVtYmVyIikgb3IgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKCJUZXJyb3JzaGFyayIpIG9yIGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuU2VhQmVhc3RzOkZpbmRGaXJzdENoaWxkKCJTZWFCZWFzdDEiKSBvciBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIlBpcmF0ZUJyaWdhZGUiKSBvciBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIlBpcmF0ZUJhc2ljIikgdGhlbgogICAgICAgICAgICAgICAgICAgIGZvciBfLCB2OTc1IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBpZiB2OTc1Lk5hbWUgPT0gIlBpcmFuaGEiIGFuZCB2OTc1OkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpIGFuZCB2OTc1OkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikgYW5kIHY5NzUuSHVtYW5vaWQuSGVhbHRoID4gMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dG9IYWtpKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFcXVpcFdlYXBvbihfRy5TZWxlY3RXZWFwb24pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjk3NS5IdW1hbm9pZFJvb3RQYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY5NzUuSHVtYW5vaWQuV2Fsa1NwZWVkID0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY5NzUuSGVhZC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3Bvcyh2OTc1Lkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLm5ldyg1LCA0MCwgMTApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vbkZhcm0gPSB2OTc1Lk5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQb3NNb24gPSB2OTc1Lkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5TaXQgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdW50aWwgbm90IF9HLktpbGxQaXJhbmhhIG9yIG5vdCB2OTc1LlBhcmVudCBvciB2OTc1Lkh1bWFub2lkLkhlYWx0aCA8PSAwCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIHRvcG9zKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuQm9hdHMuUGlyYXRlQnJpZ2FkZS5WZWhpY2xlU2VhdC5DRnJhbWUgKiBDRnJhbWUubmV3KDAsIC0xLCAwKSkKICAgICAgICAgICAgICAgICAgICBmb3IgXywgdjk3NyBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgaWYgbm90IHY5NzcuTmFtZSA9PSAiUGlyYW5oYSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5Cb2F0cy5WZWhpY2xlU2VhdC5DRnJhbWUgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiB2OTc3Lk5hbWUgPT0gIlBpcmFuaGEiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKHY5NzcuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDIsIDIwLCAyKSkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCmVuZCkKdjQ4OTpBZGRUb2dnbGUoewogICAgTmFtZSA9ICJBdXRvIEtpbGwgRmlzaCBDcmV3IE1lbWJlciIsCiAgICBEZXNjcmlwdGlvbiA9ICJUXDIyNVwxODdcMTc3IFwxOTZcMTQ0XDIyNVwxODdcMTUzbmcgVGhcMTk1XDE2MG5oIHZpXDE5NVwxNzBuIHBoaSBoXDE5NVwxNjBuaCBcMTk2XDE0NW9cMTk1XDE2MG4gQXV0byBLaWxsIEZpc2giLAogICAgRGVmYXVsdCA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2OTc4KQogICAgICAgIF9HLktpbGxGaXNoQ3JldyA9IHY5NzgKICAgICAgICBTdG9wVHdlZW4oX0cuS2lsbEZpc2hDcmV3KQogICAgZW5kCn0pCnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHdhaXQoKSBkbwogICAgICAgIGlmIF9HLktpbGxGaXNoQ3JldyBhbmQgV29ybGQzIHRoZW4KICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgaWYgbm90IGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpGaW5kRmlyc3RDaGlsZCgiRmlzaCBDcmV3IE1lbWJlciIpIGFuZCBub3QgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkZpbmRGaXJzdENoaWxkKCJQaXJhbmhhIikgYW5kIG5vdCBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIlNoYXJrIikgYW5kIG5vdCBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIlRlcnJvcnNoYXJrIikgYW5kIG5vdCBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLlNlYUJlYXN0czpGaW5kRmlyc3RDaGlsZCgiU2VhQmVhc3QxIikgYW5kIG5vdCBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIlBpcmF0ZUJyaWdhZGUiKSBhbmQgbm90IGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuRW5lbWllczpGaW5kRmlyc3RDaGlsZCgiUGlyYXRlQmFzaWMiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgdG9wb3MoZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5Cb2F0cy5QaXJhdGVCcmlnYWRlLlZlaGljbGVTZWF0LkNGcmFtZSAqIENGcmFtZS5uZXcoMCwgLTEsIDApKQogICAgICAgICAgICAgICAgICAgIGZvciBfLCB2OTgwIGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKTpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBpZiBub3Qgdjk4MC5OYW1lID09ICJGaXNoIENyZXcgTWVtYmVyIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkJvYXRzLlZlaGljbGVTZWF0LkNGcmFtZSA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHY5ODIgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHY5ODIuTmFtZSA9PSAiRmlzaCBDcmV3IE1lbWJlciIgYW5kIHY5ODI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikgYW5kIHY5ODI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBhbmQgdjk4Mi5IdW1hbm9pZC5IZWFsdGggPiAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0b0hha2koKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVxdWlwV2VhcG9uKF9HLlNlbGVjdFdlYXBvbikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2OTgyLkh1bWFub2lkUm9vdFBhcnQuQ2FuQ29sbGlkZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjk4Mi5IdW1hbm9pZC5XYWxrU3BlZWQgPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjk4Mi5IZWFkLkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKHY5ODIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDUsIDQwLCAxMCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9uRmFybSA9IHY5ODIuTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBvc01vbiA9IHY5ODIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLlNpdCA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCBub3QgX0cuS2lsbEZpc2hDcmV3IG9yIG5vdCB2OTgyLlBhcmVudCBvciB2OTgyLkh1bWFub2lkLkhlYWx0aCA8PSAwCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbmQKICAgIGVuZAplbmQpCmxvY2FsIHZhcl8yeG03ZWkgPSB2NDg5OkFkZFNlY3Rpb24oeyJNaXJhZ2UgSXNsYW5kIn0pCmxvY2FsIHZhcl81MnF5a2EgPSB2NDg5OkFkZFBhcmFncmFwaCh7VGl0bGUgPSAiQ2hlY2sgTWlyYWdlIElzbGFuZCIsIENvbnRlbnQgPSAiTG9hZGluZy4uLiJ9KQp0YXNrLnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHRhc2sud2FpdCgxKSBkbwogICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgaWYgbm90IGdhbWUuV29ya3NwYWNlLl9Xb3JsZE9yaWdpbi5Mb2NhdGlvbnM6RmluZEZpcnN0Q2hpbGQoIk1pcmFnZSBJc2xhbmQiKSB0aGVuCiAgICAgICAgICAgICAgICB2OTg0OlNldCgiTWlyYWdlIElzbGFuZCBOb3QgU3Bhd24gXDIyNlwxNTdcMTQwIikKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgdjk4NDpTZXQoIk1pcmFnZSBJc2xhbmQgU3Bhd25pbmcgXDIyNlwxNTZcMTMzIikKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKQogICAgZW5kCmVuZCkKdjQ4OTpBZGRUb2dnbGUoewogICAgTmFtZSA9ICJUd2VlbiBNaXJhZ2UgSXNsYW5kIiwKICAgIERlc2NyaXB0aW9uID0gIlRcMjI1XDE4N1wxNzcgXDE5NlwxNDRcMjI1XDE4N1wxNTNuZyBCYXkgVFwyMjVcMTg3XDE1NWkgXDE5NlwxNDRcMjI1XDE4NlwxNjNvIEJcMTk1XDE3MyBcMjI1XDE4NlwxNjhuIiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjk4NSkKICAgICAgICBfRy5BdXRvTXlzdGljSXNsYW5kID0gdjk4NQogICAgICAgIFN0b3BUd2VlbihfRy5BdXRvTXlzdGljSXNsYW5kKQogICAgZW5kCn0pCnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHRhc2sud2FpdCgwLjEpIGRvCiAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICBpZiBfRy5BdXRvTXlzdGljSXNsYW5kIHRoZW4KICAgICAgICAgICAgICAgIGZvciBfLCB2OTg3IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuX1dvcmxkT3JpZ2luLkxvY2F0aW9uczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgIGlmIHY5ODcuTmFtZSA9PSAiTWlyYWdlIElzbGFuZCIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICB0b3Bvcyh2OTg3LkNGcmFtZSAqIENGcmFtZS5uZXcoMCwgMzMzLCAwKSkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCiAgICBlbmQKZW5kKQp2NDg5OkFkZFRvZ2dsZSh7CiAgICBUaXRsZSA9ICJFc3AgTWlyYWdlIElzbGFuZCIsCiAgICBEZXNjcmlwdGlvbiA9ICJcMTk2XDE0NFwyMjVcMTg3XDEzOW5oIFZcMjI1XDE4N1wxMzkgXDE5NlwxNDRcMjI1XDE4NlwxNjNvIEJcMTk1XDE3MyBcMjI1XDE4NlwxNjhuIiwKICAgIFZhbHVlID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY5ODgpCiAgICAgICAgTWlyYWdlSXNsYW5kRVNQID0gdjk4OAogICAgICAgIGlmIE1pcmFnZUlzbGFuZEVTUCB0aGVuCiAgICAgICAgICAgIHRhc2suc3Bhd24oZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgd2hpbGUgTWlyYWdlSXNsYW5kRVNQIGRvCiAgICAgICAgICAgICAgICAgICAgVXBkYXRlSXNsYW5kTWlyYWdlRVNQKCkKICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoMSkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZWxzZQogICAgICAgICAgICBVcGRhdGVJc2xhbmRNaXJhZ2VFU1AoKQogICAgICAgIGVuZAogICAgZW5kCn0pCnY0ODk6QWRkVG9nZ2xlKHsKICAgIE5hbWUgPSAiTG9vayBNb29uICsgQXV0byBWMyIsCiAgICBEZXNjcmlwdGlvbiA9ICJUXDIyNVwxODdcMTc3IFwxOTZcMTQ0XDIyNVwxODdcMTUzbmcgTmhcMTk1XDE3Mm4gVHJcMTk2XDEzMW5nIFZcMTk1XDE2MCBCXDIyNVwxODZcMTczdCBUXDIyNVwxODdcMTUzYyBWMyIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY5ODkpCiAgICAgICAgX0cuQXV0b0Rvb0hlZSA9IHY5ODkKICAgICAgICBTdG9wVHdlZW4oX0cuQXV0b0Rvb0hlZSkKICAgIGVuZAp9KQpsb2NhbCB2YXJfdGczdGM1ID0gZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsSW5wdXRNYW5hZ2VyIikKc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICBpZiBnZXRnZW52KCkuX0cuQXV0b0Rvb0hlZSB0aGVuCiAgICAgICAgICAgICAgICBsb2NhbCB2YXJfMGd6dTV2ID0gZ2FtZS5MaWdodGluZzpHZXRNb29uRGlyZWN0aW9uKCkKICAgICAgICAgICAgICAgIGxvY2FsIHZhcl84ZzlrMm4gPSBnYW1lLldvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLkNGcmFtZS5wICsgbF9Nb29uRGlyZWN0aW9uXzAgKiAxMDAKICAgICAgICAgICAgICAgIGdhbWUuV29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuQ0ZyYW1lID0gQ0ZyYW1lLmxvb2tBdChnYW1lLldvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLkNGcmFtZS5wLCB2OTkyKQogICAgICAgICAgICAgICAgd2FpdCgyKQogICAgICAgICAgICAgICAgbF9WaXJ0dWFsSW5wdXRNYW5hZ2VyXzQ6U2VuZEtleUV2ZW50KHRydWUsICJUIiwgZmFsc2UsIGdhbWUpCiAgICAgICAgICAgICAgICB3YWl0KDAuMSkKICAgICAgICAgICAgICAgIGxfVmlydHVhbElucHV0TWFuYWdlcl80OlNlbmRLZXlFdmVudChmYWxzZSwgIlQiLCBmYWxzZSwgZ2FtZSkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKQogICAgZW5kCmVuZCkKdjQ4OTpBZGRUb2dnbGUoewogICAgTmFtZSA9ICJBdXRvIFR3ZWVuIFRvIEdlYXIiLAogICAgRGVzY3JpcHRpb24gPSAiVFwyMjVcMTg3XDE3NyBcMTk2XDE0NFwyMjVcMTg3XDE1M25nIEJheSBcMTk2XDE0NFwyMjVcMTg2XDE5MW4gR2VhciIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY5OTMpCiAgICAgICAgX0cuVHdlZW5NR2VhciA9IHY5OTMKICAgICAgICBTdG9wVHdlZW4oX0cuVHdlZW5NR2VhcikKICAgIGVuZAp9KQpzcGF3bihmdW5jdGlvbigpCiAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgICAgIGlmIF9HLlR3ZWVuTUdlYXIgYW5kIGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuTWFwOkZpbmRGaXJzdENoaWxkKCJNeXN0aWNJc2xhbmQiKSB0aGVuCiAgICAgICAgICAgICAgICBmb3IgXywgdjk5NSBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLk1hcC5NeXN0aWNJc2xhbmQ6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICBpZiB2OTk1OklzQSgiTWVzaFBhcnQiKSBhbmQgdjk5NS5NYXRlcmlhbCA9PSBFbnVtLk1hdGVyaWFsLk5lb24gdGhlbgogICAgICAgICAgICAgICAgICAgICAgICB0b3Bvcyh2OTk1LkNGcmFtZSkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZCkKZW5kKQpsb2NhbCB2YXJfaGZteWtlID0gdjQ5MDpBZGRTZWN0aW9uKHsiVGVsZXBvcnQgVjQifSkKdjQ5MDpBZGRCdXR0b24oewogICAgVGl0bGUgPSAiVGVsZXBvcnQgVG8gVG9wIEdyZWF0VHJlZSIsCiAgICBWYWx1ZSA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgR2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lID0gQ0ZyYW1lLm5ldygzMDMwLjM5NDUzMTI1LCAyMjgwLjYxNzE4NzUsIC03MzIwLjE4MzU5Mzc1KQogICAgZW5kCn0pCnY0OTA6QWRkQnV0dG9uKHsKICAgIFRpdGxlID0gIlRlbGVwb3J0IFRlbXBsZSBPZiBUaW1lIiwKICAgIFZhbHVlID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBHYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgPSBDRnJhbWUubmV3KDI4Mjg2LjM1NTQ2ODc1LCAxNDg5NS4zMDE3NTc4MTI1LCAxMDIuNjI0Njk0ODI0MjE4NzUpCiAgICBlbmQKfSkKdjQ5MDpBZGRCdXR0b24oewogICAgVGl0bGUgPSAiVGVsZXBvcnQgTGV2ZXIgUHVsbCIsCiAgICBWYWx1ZSA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgdG9wb3MoQ0ZyYW1lLm5ldygyODU3NS4xODE2NDA2MjUsIDE0OTM2LjYyNzkyOTY4NzUsIDcyLjMxNjM2ODEwMzAyNzM0KSkKICAgIGVuZAp9KQp2NDkwOkFkZEJ1dHRvbih7CiAgICBUaXRsZSA9ICJUZWxlcG9ydCBUbyBUaGUgQ2xvY2siLAogICAgVmFsdWUgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIHRvcG9zKENGcmFtZS5uZXcoMjk1NTMuNzgxMiwgMTUwNjYuNjEzMywgLTg4LjI3NTAwMTUsIDEsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDEpKQogICAgZW5kCn0pCmxvY2FsIHZhcl95dmdrZGUgPSB2NDkwOkFkZFNlY3Rpb24oeyJUcmlhbCBWNCJ9KQp2NDkwOkFkZEJ1dHRvbih7CiAgICBUaXRsZSA9ICJBdXRvIFJhY2UgRG9vciIsCiAgICBWYWx1ZSA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lID0gQ0ZyYW1lLm5ldygyODI4Ni4zNTU0Njg3NSwgMTQ4OTUuMzAxNzU3ODEyNSwgMTAyLjYyNDY5NDgyNDIxODc1KQogICAgICAgIHdhaXQoMC4xKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IENGcmFtZS5uZXcoMjgyODYuMzU1NDY4NzUsIDE0ODk1LjMwMTc1NzgxMjUsIDEwMi42MjQ2OTQ4MjQyMTg3NSkKICAgICAgICB3YWl0KDAuMSkKICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgPSBDRnJhbWUubmV3KDI4Mjg2LjM1NTQ2ODc1LCAxNDg5NS4zMDE3NTc4MTI1LCAxMDIuNjI0Njk0ODI0MjE4NzUpCiAgICAgICAgd2FpdCgwLjEpCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lID0gQ0ZyYW1lLm5ldygyODI4Ni4zNTU0Njg3NSwgMTQ4OTUuMzAxNzU3ODEyNSwgMTAyLjYyNDY5NDgyNDIxODc1KQogICAgICAgIHdhaXQoMC41KQogICAgICAgIGlmIGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkRhdGEuUmFjZS5WYWx1ZSA9PSAiSHVtYW4iIHRoZW4KICAgICAgICAgICAgdG9wb3MoQ0ZyYW1lLm5ldygyOTIyMS44MjIyNjU2MjUsIDE0ODkwLjk3NTU4NTkzNzUsIC0yMDUuOTkxMTQ5OTAyMzQzNzUpKQogICAgICAgIGVsc2VpZiBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5EYXRhLlJhY2UuVmFsdWUgfj0gIlNreXBpZWEiIHRoZW4KICAgICAgICAgICAgaWYgZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuRGF0YS5SYWNlLlZhbHVlID09ICJGaXNobWFuIiB0aGVuCiAgICAgICAgICAgICAgICB0b3BvcyhDRnJhbWUubmV3KDI4MjMxLjE3NTc4MTI1LCAxNDg5MC45NzU1ODU5Mzc1LCAtMjExLjY0MTczODg5MTYwMTU2KSkKICAgICAgICAgICAgZWxzZWlmIGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkRhdGEuUmFjZS5WYWx1ZSA9PSAiQ3lib3JnIiB0aGVuCiAgICAgICAgICAgICAgICB0b3BvcyhDRnJhbWUubmV3KDI4NTAyLjY4MTY0MDYyNSwgMTQ4OTUuOTc1NTg1OTM3NSwgLTQyMy43Mjc5MzU3OTEwMTU2KSkKICAgICAgICAgICAgZWxzZWlmIGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkRhdGEuUmFjZS5WYWx1ZSB+PSAiR2hvdWwiIHRoZW4KICAgICAgICAgICAgICAgIGlmIGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkRhdGEuUmFjZS5WYWx1ZSA9PSAiTWluayIgdGhlbgogICAgICAgICAgICAgICAgICAgIHRvcG9zKENGcmFtZS5uZXcoMjkwMTIuMzQxNzk2ODc1LCAxNDg5MC45NzU1ODU5Mzc1LCAtMzgwLjE0OTI2MTQ3NDYwOTQpKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHRvcG9zKENGcmFtZS5uZXcoMjg2NzQuMjQ0MTQwNjI1LCAxNDg5MC42NzY3NTc4MTI1LCA0NDUuNDMxMDYwNzkxMDE1NikpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVsc2UKICAgICAgICAgICAgdG9wb3MoQ0ZyYW1lLm5ldygyODk2MC4xNTgyMDMxMjUsIDE0OTE5LjYyNDAyMzQzNzUsIDIzNS4wMzk0ODk3NDYwOTM3NSkpCiAgICAgICAgZW5kCiAgICBlbmQKfSkKdjQ5MDpBZGRCdXR0b24oewogICAgVGl0bGUgPSAiQnV5IEFjaWVudCBPbmUgUXVlc3QiLAogICAgVmFsdWUgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIlVwZ3JhZGVSYWNlIiwgIkJ1eSIpCiAgICBlbmQKfSkKdjQ5MDpBZGRUb2dnbGUoewogICAgTmFtZSA9ICJBdXRvIFRyaWFsIEh1bWFuIEdob3N0IiwKICAgIERlc2NyaXB0aW9uID0gIlRcMjI1XDE4N1wxNzcgXDE5NlwxNDRcMjI1XDE4N1wxNTNuZyBUcmlhbCIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHY5OTgpCiAgICAgICAgX0cuS2lsbF9BdXJhID0gdjk5OAogICAgICAgIFN0b3BUd2VlbihfRy5LaWxsX0F1cmEpCiAgICBlbmQKfSkKdjQ5MDpBZGRUb2dnbGUoewogICAgTmFtZSA9ICJBdXRvIFRyYWlsZXIgQWxsIFJhY2UiLAogICAgRGVzY3JpcHRpb24gPSAiVFwyMjVcMTg3XDE3NyBcMTk2XDE0NFwyMjVcMTg3XDE1M25nIFRyYWlsZXIgQWxsIFJhY2UiLAogICAgRGVmYXVsdCA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2OTk5KQogICAgICAgIF9HLkF1dG9RdWVzdFJhY2UgPSB2OTk5CiAgICAgICAgU3RvcFR3ZWVuKF9HLkF1dG9RdWVzdFJhY2UpCiAgICBlbmQKfSkKc3Bhd24oZnVuY3Rpb24oKQogICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgIHdoaWxlIHdhaXQoKSBkbwogICAgICAgICAgICBpZiBfRy5BdXRvUXVlc3RSYWNlIHRoZW4KICAgICAgICAgICAgICAgIGlmIGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkRhdGEuUmFjZS5WYWx1ZSA9PSAiSHVtYW4iIHRoZW4KICAgICAgICAgICAgICAgICAgICBmb3IgXywgdjEwMDEgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2UuRW5lbWllczpHZXREZXNjZW5kYW50cygpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFyX2p0eWZ5ZCA9IHYxMDAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBsX3YxMDAxXzA6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikgYW5kIGxfdjEwMDFfMDpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIGFuZCBsX3YxMDAxXzAuSHVtYW5vaWQuSGVhbHRoID4gMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoMC4xKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbF92MTAwMV8wLkh1bWFub2lkLkhlYWx0aCA9IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxfdjEwMDFfMC5IdW1hbm9pZFJvb3RQYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aGlkZGVucHJvcGVydHkoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLCAiU2ltdWxhdGlvblJhZGl1cyIsIG1hdGguaHVnZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW50aWwgbm90IF9HLkF1dG9RdWVzdFJhY2Ugb3Igbm90IGxfdjEwMDFfMC5QYXJlbnQgb3IgbF92MTAwMV8wLkh1bWFub2lkLkhlYWx0aCA8PSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZWxzZWlmIGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkRhdGEuUmFjZS5WYWx1ZSA9PSAiU2t5cGllYSIgdGhlbgogICAgICAgICAgICAgICAgICAgIGZvciBfLCB2MTAwNCBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLk1hcC5Ta3lUcmlhbC5Nb2RlbDpHZXREZXNjZW5kYW50cygpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBpZiB2MTAwNC5OYW1lID09ICJzbm93aXNsYW5kX0N5bGluZGVyLjA4MSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3ModjEwMDQuQ0ZyYW1lICogQ0ZyYW1lLm5ldygwLCAwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbHNlaWYgZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuRGF0YS5SYWNlLlZhbHVlIH49ICJGaXNobWFuIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuRGF0YS5SYWNlLlZhbHVlID09ICJDeWJvcmciIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MoQ0ZyYW1lLm5ldygyODY1NCwgMTQ4OTguNzgzMiwgLTMwLCAxLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAxKSkKICAgICAgICAgICAgICAgICAgICBlbHNlaWYgZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuRGF0YS5SYWNlLlZhbHVlID09ICJHaG91bCIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgdjEwMDYgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2UuRW5lbWllczpHZXREZXNjZW5kYW50cygpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfeTU1cDJ5ID0gdjEwMDYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBsX3YxMDA2XzA6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikgYW5kIGxfdjEwMDZfMDpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIGFuZCBsX3YxMDA2XzAuSHVtYW5vaWQuSGVhbHRoID4gMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoMC4xKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxfdjEwMDZfMC5IdW1hbm9pZC5IZWFsdGggPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbF92MTAwNl8wLkh1bWFub2lkUm9vdFBhcnQuQ2FuQ29sbGlkZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aGlkZGVucHJvcGVydHkoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLCAiU2ltdWxhdGlvblJhZGl1cyIsIG1hdGguaHVnZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsIG5vdCBfRy5BdXRvUXVlc3RSYWNlIG9yIG5vdCBsX3YxMDA2XzAuUGFyZW50IG9yIGxfdjEwMDZfMC5IdW1hbm9pZC5IZWFsdGggPD0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZWxzZWlmIGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkRhdGEuUmFjZS5WYWx1ZSA9PSAiTWluayIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgdjEwMDkgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKTpHZXREZXNjZW5kYW50cygpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdjEwMDkuTmFtZSA9PSAiU3RhcnRQb2ludCIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKHYxMDA5LkNGcmFtZSAqIENGcmFtZS5uZXcoMCwgMywgMCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0cuQXV0b1F1ZXN0UmFjZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RvcFR3ZWVuKF9HLkF1dG9RdWVzdFJhY2UpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHYxMDExIGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuU2VhQmVhc3RzLlNlYUJlYXN0MTpHZXREZXNjZW5kYW50cygpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBpZiB2MTAxMS5OYW1lID09ICJIdW1hbm9pZFJvb3RQYXJ0IiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3Bvcyh2MTAxMS5DRnJhbWUgKiBQb3MpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgdjEwMTMgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkJhY2twYWNrOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdjEwMTM6SXNBKCJUb29sIikgYW5kIHYxMDEzLlRvb2xUaXAgPT0gIk1lbGVlIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQ6RXF1aXBUb29sKHYxMDEzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxJbnB1dE1hbmFnZXIiKTpTZW5kS2V5RXZlbnQodHJ1ZSwgMTIyLCBmYWxzZSwgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsSW5wdXRNYW5hZ2VyIik6U2VuZEtleUV2ZW50KGZhbHNlLCAxMjIsIGZhbHNlLCBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0KDAuMikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiVmlydHVhbElucHV0TWFuYWdlciIpOlNlbmRLZXlFdmVudCh0cnVlLCAxMjAsIGZhbHNlLCBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxJbnB1dE1hbmFnZXIiKTpTZW5kS2V5RXZlbnQoZmFsc2UsIDEyMCwgZmFsc2UsIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoMC4yKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsSW5wdXRNYW5hZ2VyIik6U2VuZEtleUV2ZW50KHRydWUsIDk5LCBmYWxzZSwgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsSW5wdXRNYW5hZ2VyIik6U2VuZEtleUV2ZW50KGZhbHNlLCA5OSwgZmFsc2UsIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCB2MTAxNSBpbiBwYWlycyhnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQmFja3BhY2s6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB2MTAxNTpJc0EoIlRvb2wiKSBhbmQgdjEwMTUuVG9vbFRpcCA9PSAiQmxveCBGcnVpdCIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkOkVxdWlwVG9vbCh2MTAxNSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsSW5wdXRNYW5hZ2VyIik6U2VuZEtleUV2ZW50KHRydWUsIDEyMiwgZmFsc2UsIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiVmlydHVhbElucHV0TWFuYWdlciIpOlNlbmRLZXlFdmVudChmYWxzZSwgMTIyLCBmYWxzZSwgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgwLjIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxJbnB1dE1hbmFnZXIiKTpTZW5kS2V5RXZlbnQodHJ1ZSwgMTIwLCBmYWxzZSwgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsSW5wdXRNYW5hZ2VyIik6U2VuZEtleUV2ZW50KGZhbHNlLCAxMjAsIGZhbHNlLCBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0KDAuMikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiVmlydHVhbElucHV0TWFuYWdlciIpOlNlbmRLZXlFdmVudCh0cnVlLCA5OSwgZmFsc2UsIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiVmlydHVhbElucHV0TWFuYWdlciIpOlNlbmRLZXlFdmVudChmYWxzZSwgOTksIGZhbHNlLCBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0KDAuNSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCB2MTAxNyBpbiBwYWlycyhnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQmFja3BhY2s6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB2MTAxNzpJc0EoIlRvb2wiKSBhbmQgdjEwMTcuVG9vbFRpcCA9PSAiU3dvcmQiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZDpFcXVpcFRvb2wodjEwMTcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiVmlydHVhbElucHV0TWFuYWdlciIpOlNlbmRLZXlFdmVudCh0cnVlLCAxMjIsIGZhbHNlLCBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxJbnB1dE1hbmFnZXIiKTpTZW5kS2V5RXZlbnQoZmFsc2UsIDEyMiwgZmFsc2UsIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoMC4yKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsSW5wdXRNYW5hZ2VyIik6U2VuZEtleUV2ZW50KHRydWUsIDEyMCwgZmFsc2UsIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiVmlydHVhbElucHV0TWFuYWdlciIpOlNlbmRLZXlFdmVudChmYWxzZSwgMTIwLCBmYWxzZSwgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgwLjIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxJbnB1dE1hbmFnZXIiKTpTZW5kS2V5RXZlbnQodHJ1ZSwgOTksIGZhbHNlLCBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxJbnB1dE1hbmFnZXIiKTpTZW5kS2V5RXZlbnQoZmFsc2UsIDk5LCBmYWxzZSwgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgwLjUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgdjEwMTkgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkJhY2twYWNrOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdjEwMTk6SXNBKCJUb29sIikgYW5kIHYxMDE5LlRvb2xUaXAgPT0gIkd1biIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkOkVxdWlwVG9vbCh2MTAxOSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsSW5wdXRNYW5hZ2VyIik6U2VuZEtleUV2ZW50KHRydWUsIDEyMiwgZmFsc2UsIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiVmlydHVhbElucHV0TWFuYWdlciIpOlNlbmRLZXlFdmVudChmYWxzZSwgMTIyLCBmYWxzZSwgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgwLjIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxJbnB1dE1hbmFnZXIiKTpTZW5kS2V5RXZlbnQodHJ1ZSwgMTIwLCBmYWxzZSwgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsSW5wdXRNYW5hZ2VyIik6U2VuZEtleUV2ZW50KGZhbHNlLCAxMjAsIGZhbHNlLCBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0KDAuMikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiVmlydHVhbElucHV0TWFuYWdlciIpOlNlbmRLZXlFdmVudCh0cnVlLCA5OSwgZmFsc2UsIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiVmlydHVhbElucHV0TWFuYWdlciIpOlNlbmRLZXlFdmVudChmYWxzZSwgOTksIGZhbHNlLCBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kKQplbmQpCnY0OTA6QWRkVG9nZ2xlKHsKICAgIE5hbWUgPSAiQXV0byBLaWxsIFBsYXllciBUcmFpbGVyIFY0IiwKICAgIERlc2NyaXB0aW9uID0gIlwxOTZcMTQ0XDE5NVwxNjFuaCBOZ1wxOThcMTc2XDIyNVwxODdcMTU3aSBDaFwxOThcMTYxaSBUcm9uZyBUcmlhbCIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYxMDIwKQogICAgICAgIF9HLkF1dG9LaWxsVjQgPSB2MTAyMAogICAgICAgIFN0b3BUd2VlbihfRy5BdXRvS2lsbFY0KQogICAgZW5kCn0pCnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHRhc2sud2FpdCgpIGRvCiAgICAgICAgaWYgX0cuQXV0b0tpbGxWNCB0aGVuCiAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGZvciBfLCB2MTAyMiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZS5DaGFyYWN0ZXJzOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgaWYgdjEwMjIuTmFtZSB+PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZSBhbmQgdjEwMjI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikgYW5kIHYxMDIyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikgYW5kIHYxMDIyLkh1bWFub2lkLkhlYWx0aCA+IDAgYW5kIHYxMDIyLlBhcmVudCBhbmQgKGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIHYxMDIyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLk1hZ25pdHVkZSA8PSAyMzAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRvSGFraSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFcXVpcFdlYXBvbihfRy5TZWxlY3RXZWFwb24pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3Bvcyh2MTAyMi5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoMSwgMSwgMikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTAyMi5IdW1hbm9pZFJvb3RQYXJ0LlNpemUgPSBWZWN0b3IzLm5ldyg2MCwgNjAsIDYwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjEwMjIuSHVtYW5vaWRSb290UGFydC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMDIyLkhlYWQuQ2FuQ29sbGlkZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTAyMi5IdW1hbm9pZC5XYWxrU3BlZWQgPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRoaWRkZW5wcm9wZXJ0eShnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIsICJTaW11bGF0aW9uUmFkaXVzIiwgbWF0aC5odWdlKQogICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCBub3QgX0cuQXV0b0tpbGxWNCBvciB2MTAyMi5IdW1hbm9pZC5IZWFsdGggPD0gMCBvciBub3QgdjEwMjIuUGFyZW50IG9yIG5vdCB2MTAyMjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIG9yIG5vdCB2MTAyMjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbmQKICAgIGVuZAplbmQpCmxvY2FsIHZhcl80a3ByeW4gPSB2NDkwOkFkZFNlY3Rpb24oeyJBdXRvIFNraWxsIn0pCnY0OTA6QWRkVG9nZ2xlKHsKICAgIE5hbWUgPSAiQXV0byBTa2lsbCBaIiwKICAgIERlc2NyaXB0aW9uID0gIlRcMjI1XDE4N1wxNzcgXDE5NlwxNDRcMjI1XDE4N1wxNTNuZyBEXDE5NVwxODVuZyBTa2lsbCBaIFwxOTZcMTQ0XDIyNVwxODdcMTMxIFwxOTZcMTQ0XDE5NVwxNjFuaCIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYxMDI0KQogICAgICAgIF9HLlhhaVNraWxsWiA9IHYxMDI0CiAgICAgICAgU3RvcFR3ZWVuKF9HLlhhaVNraWxsWikKICAgIGVuZAp9KQp2NDkwOkFkZFRvZ2dsZSh7CiAgICBOYW1lID0gIkF1dG8gU2tpbGwgWCIsCiAgICBEZXNjcmlwdGlvbiA9ICJUXDIyNVwxODdcMTc3IFwxOTZcMTQ0XDIyNVwxODdcMTUzbmcgRFwxOTVcMTg1bmcgU2tpbGwgWCBcMTk2XDE0NFwyMjVcMTg3XDEzMSBcMTk2XDE0NFwxOTVcMTYxbmgiLAogICAgRGVmYXVsdCA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2MTAyNSkKICAgICAgICBfRy5YYWlTa2lsbFggPSB2MTAyNQogICAgICAgIFN0b3BUd2VlbihfRy5YYWlTa2lsbFgpCiAgICBlbmQKfSkKdjQ5MDpBZGRUb2dnbGUoewogICAgTmFtZSA9ICJBdXRvIFNraWxsIEMiLAogICAgRGVzY3JpcHRpb24gPSAiVFwyMjVcMTg3XDE3NyBcMTk2XDE0NFwyMjVcMTg3XDE1M25nIERcMTk1XDE4NW5nIFNraWxsIEMgXDE5NlwxNDRcMjI1XDE4N1wxMzEgXDE5NlwxNDRcMTk1XDE2MW5oIiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjEwMjYpCiAgICAgICAgX0cuWGFpU2tpbGxDID0gdjEwMjYKICAgICAgICBTdG9wVHdlZW4oX0cuWGFpU2tpbGxDKQogICAgZW5kCn0pCmxvY2FsIHZhcl9uZzR3cXcgPSB2NDkxOkFkZFNlY3Rpb24oeyJSYWlkIEZydWl0cyJ9KQp2NDkxOkFkZERyb3Bkb3duKHsKICAgIE5hbWUgPSAiU2VsZWN0IENoaXAiLAogICAgT3B0aW9ucyA9IHsKICAgICAgICAiRmxhbWUiLAogICAgICAgICJJY2UiLAogICAgICAgICJTYW5kIiwKICAgICAgICAiRGFyayIsCiAgICAgICAgIkxpZ2h0IiwKICAgICAgICAiTWFnbWEiLAogICAgICAgICJRdWFrZSIsCiAgICAgICAgIkJ1ZGRoYSIsCiAgICAgICAgIlNwaWRlciIsCiAgICAgICAgIlBob2VuaXgiLAogICAgICAgICJMaWdodG5pbmciLAogICAgICAgICJEb3VnaCIKICAgIH0sCiAgICBEZWZhdWx0ID0gIkZsYW1lIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjEwMjgpCiAgICAgICAgX0cuU2VsZWN0Q2hpcCA9IHYxMDI4CiAgICBlbmQKfSkKdjQ5MTpBZGRUb2dnbGUoewogICAgTmFtZSA9ICJBdXRvIEJ1eSBDaGlwIiwKICAgIERlc2NyaXB0aW9uID0gIlRcMjI1XDE4N1wxNzcgXDE5NlwxNDRcMjI1XDE4N1wxNTNuZyBNdWEgQ2hpcCBSYWlkIiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjEwMjkpCiAgICAgICAgX0cuQXV0b0J1eUNoaXAgPSB2MTAyOQogICAgZW5kCn0pCnRhc2suc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgdGFzay53YWl0KCkgZG8KICAgICAgICBpZiBfRy5BdXRvQnV5Q2hpcCBhbmQgX0cuU2VsZWN0Q2hpcCB0aGVuCiAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGxvY2FsIHZhcl93YmlwMzkgPSB7IlJhaWRzTnBjIiwgIlNlbGVjdCIsIF9HLlNlbGVjdENoaXB9CiAgICAgICAgICAgICAgICBnYW1lLlJlcGxpY2F0ZWRTdG9yYWdlLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcih1bnBhY2sodjEwMzApKQogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kKQp2NDkxOkFkZFRvZ2dsZSh7CiAgICBOYW1lID0gIkF1dG8gU3RhcnQgUmFpZCIsCiAgICBEZXNjcmlwdGlvbiA9ICJCXDIyNVwxODZcMTc1dCBcMTk2XDE0NFwyMjVcMTg2XDE2N3UgUmFpZCIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYxMDMxKQogICAgICAgIF9HLlN0YXJ0UmFpZCA9IHYxMDMxCiAgICBlbmQKfSkKdGFzay5zcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB0YXNrLndhaXQoKSBkbwogICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgaWYgX0cuU3RhcnRSYWlkIHRoZW4KICAgICAgICAgICAgICAgIGxvY2FsIHZhcl8zbzlvd2ogPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIKICAgICAgICAgICAgICAgIGlmIG5vdCBsX0xvY2FsUGxheWVyXzE1LlBsYXllckd1aS5NYWluLlRpbWVyLlZpc2libGUgYW5kIG5vdCB3b3Jrc3BhY2UuX1dvcmxkT3JpZ2luLkxvY2F0aW9uczpGaW5kRmlyc3RDaGlsZCgiSXNsYW5kIDEiKSBhbmQgKGxfTG9jYWxQbGF5ZXJfMTUuQmFja3BhY2s6RmluZEZpcnN0Q2hpbGQoIlNwZWNpYWwgTWljcm9jaGlwIikgb3IgbF9Mb2NhbFBsYXllcl8xNS5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIlNwZWNpYWwgTWljcm9jaGlwIikpIHRoZW4KICAgICAgICAgICAgICAgICAgICBpZiBub3QgV29ybGQyIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgaWYgV29ybGQzIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWUuUmVwbGljYXRlZFN0b3JhZ2UuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJyZXF1ZXN0RW50cmFuY2UiLCBWZWN0b3IzLm5ldygtNTA3NS41LCAzMTQuNTEsIC0zMTUwLjAyKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKENGcmFtZS5uZXcoLTUwMTcuNCwgMzE0Ljg0LCAtMjgyMy4wMSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lLlJlcGxpY2F0ZWRTdG9yYWdlLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiU2V0U3Bhd25Qb2ludCIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJlY2xpY2tkZXRlY3Rvcih3b3Jrc3BhY2UuTWFwWyJCb2F0IENhc3RsZSJdLlJhaWRTdW1tb24yLkJ1dHRvbi5NYWluLkNsaWNrRGV0ZWN0b3IpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3MoQ0ZyYW1lLm5ldygtNjQzOC43MywgMjUwLjY0LCAtNDUwMS41KSkKICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZS5SZXBsaWNhdGVkU3RvcmFnZS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIlNldFNwYXduUG9pbnQiKQogICAgICAgICAgICAgICAgICAgICAgICBmaXJlY2xpY2tkZXRlY3Rvcih3b3Jrc3BhY2UuTWFwLkNpcmNsZUlzbGFuZC5SYWlkU3VtbW9uMi5CdXR0b24uTWFpbi5DbGlja0RldGVjdG9yKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZCkKICAgIGVuZAplbmQpCnY0OTE6QWRkVG9nZ2xlKHsKICAgIE5hbWUgPSAiQXV0byBGYXJtIFJhaWQgTmV4dCBJc2xhbmQiLAogICAgRGVzY3JpcHRpb24gPSAiXDE5NlwxNDRcMTk1XDE2MW5oIFF1XDE5NVwxNjFpIFZcMTk1XDE2MCBcMTk2XDE0NGkgQ2h1eVwyMjVcMTg3XDEzMW4gXDE5NlwxNDRcMjI1XDE4NlwxNjNvIiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjEwMzMpCiAgICAgICAgX0cuRHVuZ2VvbiA9IHYxMDMzCiAgICBlbmQKfSkKbG9jYWwgdmFyX2ZmMDE0ZCB2MTA0MCh2MTAzNCkKICAgIGlmIHdvcmtzcGFjZS5fV29ybGRPcmlnaW4uTG9jYXRpb25zOkZpbmRGaXJzdENoaWxkKCJJc2xhbmQgIiAuLiB2MTAzNCkgdGhlbgogICAgICAgIGxvY2FsIHZhcl95bXpubjkgPSA0NTAwCiAgICAgICAgZm9yIF8sIHYxMDM3IGluIHBhaXJzKHdvcmtzcGFjZS5fV29ybGRPcmlnaW4uTG9jYXRpb25zOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgIGlmIHYxMDM3Lk5hbWUgPT0gIklzbGFuZCAiIC4uIHYxMDM0IGFuZCAodjEwMzcuUG9zaXRpb24gLSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLk1hZ25pdHVkZSA8IHYxMDM1IHRoZW4KICAgICAgICAgICAgICAgIHYxMDM1ID0gKHYxMDM3LlBvc2l0aW9uIC0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKS5NYWduaXR1ZGUKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICAgICAgZm9yIF8sIHYxMDM5IGluIHBhaXJzKHdvcmtzcGFjZS5fV29ybGRPcmlnaW4uTG9jYXRpb25zOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgIGlmIHYxMDM5Lk5hbWUgPT0gIklzbGFuZCAiIC4uIHYxMDM0IGFuZCAodjEwMzkuUG9zaXRpb24gLSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLk1hZ25pdHVkZSA8PSB2MTAzNSB0aGVuCiAgICAgICAgICAgICAgICByZXR1cm4gdjEwMzkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKZW5kCmxvY2FsIHZhcl9qM2p6ZW0gdjEwNDMoKQogICAgZm9yIF8sIHYxMDQyIGluIHBhaXJzKHs1LCA0LCAzLCAyLCAxfSkgZG8KICAgICAgICBpZiB2MTA0MCh2MTA0MikgYW5kICh2MTA0MCh2MTA0MikuUG9zaXRpb24gLSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLk1hZ25pdHVkZSA8PSA0NTAwIHRoZW4KICAgICAgICAgICAgcmV0dXJuIHYxMDQwKHYxMDQyKQogICAgICAgIGVuZAogICAgZW5kCmVuZApsb2NhbCB2YXJfanQya3VrIHYxMDQ5KCkKICAgIGxvY2FsIHZhcl9vOGYwbGcgPSB7fQogICAgZm9yIF8sIHYxMDQ2IGluIHBhaXJzKHdvcmtzcGFjZS5FbmVtaWVzOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgaWYgdjEwNDY6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBhbmQgdjEwNDY6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikgYW5kIHYxMDQ2Lkh1bWFub2lkLkhlYWx0aCA+IDAgYW5kICh2MTA0Ni5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKS5NYWduaXR1ZGUgPD0gMTAwMCB0aGVuCiAgICAgICAgICAgIHRhYmxlLmluc2VydCh2MTA0NCwgdjEwNDYpCiAgICAgICAgZW5kCiAgICBlbmQKICAgIGZvciBfLCB2MTA0OCBpbiBwYWlycyh2MTA0NCkgZG8KICAgICAgICByZXBlYXQKICAgICAgICAgICAgdGFzay53YWl0KDAuMSkKICAgICAgICAgICAgaWYgdjEwNDg6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikgYW5kIHYxMDQ4Lkh1bWFub2lkLkhlYWx0aCA+IDAgdGhlbgogICAgICAgICAgICAgICAgRXF1aXBXZWFwb24oX0cuU2VsZWN0V2VhcG9uKQogICAgICAgICAgICAgICAgdG9wb3ModjEwNDguSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDAsIDMwLCAwKSkKICAgICAgICAgICAgZW5kCiAgICAgICAgdW50aWwgbm90IHYxMDQ4OkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpIG9yIHYxMDQ4Lkh1bWFub2lkLkhlYWx0aCA8PSAwCiAgICBlbmQKZW5kCnRhc2suc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgdGFzay53YWl0KCkgZG8KICAgICAgICBpZiBfRy5EdW5nZW9uIHRoZW4KICAgICAgICAgICAgdjEwNDkoKQogICAgICAgICAgICBpZiB2MTA0MygpIHRoZW4KICAgICAgICAgICAgICAgIHRvcG9zKHYxMDQzKCkuQ0ZyYW1lICogQ0ZyYW1lLm5ldygwLCA2MCwgMCkpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCmVuZCkKdjQ5MTpBZGRUb2dnbGUoewogICAgTmFtZSA9ICJBdXRvIEdldCBGcnVpdCBMb3cgQmVsaSIsCiAgICBEZXNjcmlwdGlvbiA9ICJUXDIyNVwxODdcMTc3IFwxOTZcMTQ0XDIyNVwxODdcMTUzbmcgTFwyMjVcMTg2XDE2NXkgVHJcMTk1XDE2MWkgXDE5NVwxNDF0IEJlbGkiLAogICAgRGVmYXVsdCA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2MTA1MCkKICAgICAgICBfRy5BdXRvZnJ1aXQgPSB2MTA1MAogICAgZW5kCn0pCnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHdhaXQoMC4xKSBkbwogICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgaWYgX0cuQXV0b2ZydWl0IHRoZW4KICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9hdTJzdGEgPSB7WzFdID0gIkxvYWRGcnVpdCIsIFsyXSA9ICJSb2NrZXQtUm9ja2V0In0KICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIodW5wYWNrKHYxMDUxKSkKICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9yMmN0bmUgPSB7WzFdID0gIkxvYWRGcnVpdCIsIFsyXSA9ICJTcGluLVNwaW4ifQogICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcih1bnBhY2sodjEwNTIpKQogICAgICAgICAgICAgICAgbG9jYWwgdmFyXzNtbG9xbCA9IHtbMV0gPSAiTG9hZEZydWl0IiwgWzJdID0gIkNob3AtQ2hvcCJ9CiAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKHVucGFjayh2MTA1MykpCiAgICAgICAgICAgICAgICBsb2NhbCB2YXJfampiOWl2ID0ge1sxXSA9ICJMb2FkRnJ1aXQiLCBbMl0gPSAiU3ByaW5nLVNwcmluZyJ9CiAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKHVucGFjayh2MTA1NCkpCiAgICAgICAgICAgICAgICBsb2NhbCB2YXJfYzVudWVjID0ge1sxXSA9ICJMb2FkRnJ1aXQiLCBbMl0gPSAiQm9tYi1Cb21iIn0KICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIodW5wYWNrKHYxMDU1KSkKICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9lcnZqbHMgPSB7WzFdID0gIkxvYWRGcnVpdCIsIFsyXSA9ICJTbW9rZS1TbW9rZSJ9CiAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKHVucGFjayh2MTA1NikpCiAgICAgICAgICAgICAgICBsb2NhbCB2YXJfa3p5M2tzID0ge1sxXSA9ICJMb2FkRnJ1aXQiLCBbMl0gPSAiU3Bpa2UtU3Bpa2UifQogICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcih1bnBhY2sodjEwNTcpKQogICAgICAgICAgICAgICAgbG9jYWwgdmFyX2J3ZGI2eCA9IHtbMV0gPSAiTG9hZEZydWl0IiwgWzJdID0gIkZsYW1lLUZsYW1lIn0KICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIodW5wYWNrKHYxMDU4KSkKICAgICAgICAgICAgICAgIGxvY2FsIHZhcl82YnZkaGkgPSB7WzFdID0gIkxvYWRGcnVpdCIsIFsyXSA9ICJGYWxjb24tRmFsY29uIn0KICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIodW5wYWNrKHYxMDU5KSkKICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9vNW82ZWsgPSB7WzFdID0gIkxvYWRGcnVpdCIsIFsyXSA9ICJJY2UtSWNlIn0KICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIodW5wYWNrKHYxMDYwKSkKICAgICAgICAgICAgICAgIGxvY2FsIHZhcl94MDFlbXkgPSB7WzFdID0gIkxvYWRGcnVpdCIsIFsyXSA9ICJTYW5kLVNhbmQifQogICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcih1bnBhY2sodjEwNjEpKQogICAgICAgICAgICAgICAgbG9jYWwgdmFyX3RoMGthYiA9IHtbMV0gPSAiTG9hZEZydWl0IiwgWzJdID0gIkRhcmstRGFyayJ9CiAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKHVucGFjayh2MTA2MikpCiAgICAgICAgICAgICAgICBsb2NhbCB2YXJfc3k1cG4xID0ge1sxXSA9ICJMb2FkRnJ1aXQiLCBbMl0gPSAiR2hvc3QtR2hvc3QifQogICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcih1bnBhY2sodjEwNjMpKQogICAgICAgICAgICAgICAgbG9jYWwgdmFyXzA2ajBxMSA9IHtbMV0gPSAiTG9hZEZydWl0IiwgWzJdID0gIkRpYW1vbmQtRGlhbW9uZCJ9CiAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKHVucGFjayh2MTA2NCkpCiAgICAgICAgICAgICAgICBsb2NhbCB2YXJfem14MTE3ID0ge1sxXSA9ICJMb2FkRnJ1aXQiLCBbMl0gPSAiTGlnaHQtTGlnaHQifQogICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcih1bnBhY2sodjEwNjUpKQogICAgICAgICAgICAgICAgbG9jYWwgdmFyXzNvdnQ5cSA9IHtbMV0gPSAiTG9hZEZydWl0IiwgWzJdID0gIlJ1YmJlci1SdWJiZXIifQogICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcih1bnBhY2sodjEwNjYpKQogICAgICAgICAgICAgICAgbG9jYWwgdmFyX3Q5cmhkMSA9IHtbMV0gPSAiTG9hZEZydWl0IiwgWzJdID0gIkNyZWF0aW9uLUNyZWF0aW9uIn0KICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIodW5wYWNrKHYxMDY3KSkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKQogICAgZW5kCmVuZCkKbG9jYWwgdmFyX3JuamRiZCA9IHY0OTE6QWRkU2VjdGlvbih7IlJhaWQgTGF3IFNlYSAyIn0pCnY0OTE6QWRkQnV0dG9uKHsKICAgIFRpdGxlID0gIkF1dG8gQnV5IENoaXAgTGF3IiwKICAgIERlc2NyaXB0aW9uID0gIlRcMjI1XDE4N1wxNzcgXDE5NlwxNDRcMjI1XDE4N1wxNTNuZyBNdWEgQ2hpcCBMYXcgUmFpZCIsCiAgICBWYWx1ZSA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9jYWwgdmFyXzA0enVnaiA9IHtbMV0gPSAiQmxhY2tiZWFyZFJld2FyZCIsIFsyXSA9ICJNaWNyb2NoaXAiLCBbM10gPSAiMiJ9CiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcih1bnBhY2sodjEwNjkpKQogICAgZW5kCn0pCnY0OTE6QWRkQnV0dG9uKHsKICAgIFRpdGxlID0gIkF1dG8gU3RhcnQgUmFpZCBMYXciLAogICAgVmFsdWUgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGZpcmVjbGlja2RldGVjdG9yKGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuTWFwLkNpcmNsZUlzbGFuZC5SYWlkU3VtbW9uLkJ1dHRvbi5NYWluLkNsaWNrRGV0ZWN0b3IpCiAgICBlbmQKfSkKdjQ5MTpBZGRUb2dnbGUoewogICAgTmFtZSA9ICJBdXRvIEZhcm0gTGF3IFJhaWQiLAogICAgRGVzY3JpcHRpb24gPSAiXDE5NlwxNDRcMTk1XDE2MW5oIEJvc3MgTGF3IFJhaWQiLAogICAgRGVmYXVsdCA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2MTA3MCkKICAgICAgICBfRy5BdXRvTGF3UmFpZCA9IHYxMDcwCiAgICBlbmQKfSkKc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgaWYgX0cuQXV0b0xhd1JhaWQgdGhlbgogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6RmluZEZpcnN0Q2hpbGQoIk9yZGVyIikgdGhlbgogICAgICAgICAgICAgICAgICAgIGZvciBfLCB2MTA3MiBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkVuZW1pZXM6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgaWYgdjEwNzIuTmFtZSA9PSAiT3JkZXIiIGFuZCB2MTA3MjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKSBhbmQgdjEwNzI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBhbmQgdjEwNzIuSHVtYW5vaWQuSGVhbHRoID4gMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dG9IYWtpKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFcXVpcFdlYXBvbihfRy5TZWxlY3RXZWFwb24pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjEwNzIuSHVtYW5vaWRSb290UGFydC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTA3Mi5IdW1hbm9pZC5XYWxrU3BlZWQgPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wb3ModjEwNzIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUubmV3KDAsIDMwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRoaWRkZW5wcm9wZXJ0eShnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllciwgIlNpbXVsYXRpb25SYWRpdXMiLCBtYXRoLmh1Z2UpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCBub3QgX0cuQXV0b0xhd1JhaWQgb3Igbm90IHYxMDcyLlBhcmVudCBvciB2MTA3Mi5IdW1hbm9pZC5IZWFsdGggPD0gMAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBOZWVkQXR0YWNraW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIGlmIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKTpGaW5kRmlyc3RDaGlsZCgiT3JkZXIiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9zKGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKTpGaW5kRmlyc3RDaGlsZCgiT3JkZXIiKS5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoNSwgMTAsIDIpKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbmQKICAgIGVuZAplbmQpCmxvY2FsIHZhcl9rNTA3OHUgPSB2NDkyOkFkZFNlY3Rpb24oeyJGcnVpdHMifSkKdjQ5MjpBZGRUb2dnbGUoewogICAgTmFtZSA9ICJBdXRvIFJhbmRvbSBGcnVpdHMiLAogICAgRGVzY3JpcHRpb24gPSAiVFwyMjVcMTg3XDE3NyBcMTk2XDE0NFwyMjVcMTg3XDE1M25nIFJhbmRvbSBUclwxOTVcMTYxaSBcMTk1XDEyOWMgUXVcMjI1XDE4N1wxODMiLAogICAgRGVmYXVsdCA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2MTA3NCkKICAgICAgICBfRy5SYW5kb21BdXRvID0gdjEwNzQKICAgIGVuZAp9KQpzcGF3bihmdW5jdGlvbigpCiAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgICAgIGlmIF9HLlJhbmRvbUF1dG8gdGhlbgogICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQ291c2luIiwgIkJ1eSIpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kKQplbmQpCnY0OTI6QWRkVG9nZ2xlKHsKICAgIFRpdGxlID0gIkF1dG8gU3RvcmUgRnJ1aXRzIiwKICAgIERlc2NyaXB0aW9uID0gIlRcMjI1XDE4N1wxNzcgXDE5NlwxNDRcMjI1XDE4N1wxNTNuZyBMXDE5OFwxNzZ1IFRyXDE5NVwxNjFpIFwxOTVcMTI5YyBRdVwyMjVcMTg3XDE4MyBWXDE5NVwxNjBvIEtobyBcMTk2XDE0NFwyMjVcMTg3XDE0NyIsCiAgICBWYWx1ZSA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2MTA3NSkKICAgICAgICBnZXRnZW52KCkuQXV0b1N0b3JlRnJ1aXQgPSB2MTA3NQogICAgZW5kCn0pCnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHRhc2sud2FpdCgwLjIpIGRvCiAgICAgICAgaWYgZ2V0Z2VudigpLkF1dG9TdG9yZUZydWl0IHRoZW4KICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgbG9jYWwgdmFyXzQyOGt6ZCA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyCiAgICAgICAgICAgICAgICBsb2NhbCB2YXJfZGZmbGhzID0gbF9Mb2NhbFBsYXllcl8xNi5DaGFyYWN0ZXIgb3IgbF9Mb2NhbFBsYXllcl8xNi5DaGFyYWN0ZXJBZGRlZDpXYWl0KCkKICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9oaGdudXggPSBsX0xvY2FsUGxheWVyXzE2OldhaXRGb3JDaGlsZCgiQmFja3BhY2siKQogICAgICAgICAgICAgICAgZm9yIF8sIHYxMDgwIGluIGlwYWlycyh7CiAgICAgICAgICAgICAgICAgICAgeyJSb2NrZXQgRnJ1aXQiLCAiUm9ja2V0LVJvY2tldCJ9LAogICAgICAgICAgICAgICAgICAgIHsiU3BpbiBGcnVpdCIsICJTcGluLVNwaW4ifSwKICAgICAgICAgICAgICAgICAgICB7IkJsYWRlIEZydWl0IiwgIkJsYWRlLUJsYWRlIn0sCiAgICAgICAgICAgICAgICAgICAgeyJTcHJpbmcgRnJ1aXQiLCAiU3ByaW5nLVNwcmluZyJ9LAogICAgICAgICAgICAgICAgICAgIHsiQm9tYiBGcnVpdCIsICJCb21iLUJvbWIifSwKICAgICAgICAgICAgICAgICAgICB7IlNtb2tlIEZydWl0IiwgIlNtb2tlLVNtb2tlIn0sCiAgICAgICAgICAgICAgICAgICAgeyJTcGlrZSBGcnVpdCIsICJTcGlrZS1TcGlrZSJ9LAogICAgICAgICAgICAgICAgICAgIHsiRmxhbWUgRnJ1aXQiLCAiRmxhbWUtRmxhbWUifSwKICAgICAgICAgICAgICAgICAgICB7IkVhZ2xlIEZydWl0IiwgIkVhZ2xlLUVhZ2xlIn0sCiAgICAgICAgICAgICAgICAgICAgeyJJY2UgRnJ1aXQiLCAiSWNlLUljZSJ9LAogICAgICAgICAgICAgICAgICAgIHsiU2FuZCBGcnVpdCIsICJTYW5kLVNhbmQifSwKICAgICAgICAgICAgICAgICAgICB7IkRhcmsgRnJ1aXQiLCAiRGFyay1EYXJrIn0sCiAgICAgICAgICAgICAgICAgICAgeyJEaWFtb25kIEZydWl0IiwgIkRpYW1vbmQtRGlhbW9uZCJ9LAogICAgICAgICAgICAgICAgICAgIHsiTGlnaHQgRnJ1aXQiLCAiTGlnaHQtTGlnaHQifSwKICAgICAgICAgICAgICAgICAgICB7IlJ1YmJlciBGcnVpdCIsICJSdWJiZXItUnViYmVyIn0sCiAgICAgICAgICAgICAgICAgICAgeyJDcmVhdGlvbiBGcnVpdCIsICJDcmVhdGlvbi1DcmVhdGlvbiJ9LAogICAgICAgICAgICAgICAgICAgIHsiR2hvc3QgRnJ1aXQiLCAiR2hvc3QtR2hvc3QifSwKICAgICAgICAgICAgICAgICAgICB7Ik1hZ21hIEZydWl0IiwgIk1hZ21hLU1hZ21hIn0sCiAgICAgICAgICAgICAgICAgICAgeyJRdWFrZSBGcnVpdCIsICJRdWFrZS1RdWFrZSJ9LAogICAgICAgICAgICAgICAgICAgIHsiQnVkZGhhIEZydWl0IiwgIkJ1ZGRoYS1CdWRkaGEifSwKICAgICAgICAgICAgICAgICAgICB7IkxvdmUgRnJ1aXQiLCAiTG92ZS1Mb3ZlIn0sCiAgICAgICAgICAgICAgICAgICAgeyJTcGlkZXIgRnJ1aXQiLCAiU3BpZGVyLVNwaWRlciJ9LAogICAgICAgICAgICAgICAgICAgIHsiU291bmQgRnJ1aXQiLCAiU291bmQtU291bmQifSwKICAgICAgICAgICAgICAgICAgICB7IlBob2VuaXggRnJ1aXQiLCAiUGhvZW5peC1QaG9lbml4In0sCiAgICAgICAgICAgICAgICAgICAgeyJQb3J0YWwgRnJ1aXQiLCAiUG9ydGFsLVBvcnRhbCJ9LAogICAgICAgICAgICAgICAgICAgIHsiTGlnaHRuaW5nIEZydWl0IiwgIkxpZ2h0bmluZy1MaWdodG5pbmcifSwKICAgICAgICAgICAgICAgICAgICB7IlBhaW4gRnJ1aXQiLCAiUGFpbi1QYWluIn0sCiAgICAgICAgICAgICAgICAgICAgeyJCbGl6emFyZCBGcnVpdCIsICJCbGl6emFyZC1CbGl6emFyZCJ9LAogICAgICAgICAgICAgICAgICAgIHsiR3Jhdml0eSBGcnVpdCIsICJHcmF2aXR5LUdyYXZpdHkifSwKICAgICAgICAgICAgICAgICAgICB7Ik1hbW1vdGggRnJ1aXQiLCAiTWFtbW90aC1NYW1tb3RoIn0sCiAgICAgICAgICAgICAgICAgICAgeyJULVJleCBGcnVpdCIsICJULVJleC1ULVJleCJ9LAogICAgICAgICAgICAgICAgICAgIHsiRG91Z2ggRnJ1aXQiLCAiRG91Z2gtRG91Z2gifSwKICAgICAgICAgICAgICAgICAgICB7IlNoYWRvdyBGcnVpdCIsICJTaGFkb3ctU2hhZG93In0sCiAgICAgICAgICAgICAgICAgICAgeyJWZW5vbSBGcnVpdCIsICJWZW5vbS1WZW5vbSJ9LAogICAgICAgICAgICAgICAgICAgIHsiR2FzIEZydWl0IiwgIkdhcy1HYXMifSwKICAgICAgICAgICAgICAgICAgICB7IkNvbnRyb2wgRnJ1aXQiLCAiQ29udHJvbC1Db250cm9sIn0sCiAgICAgICAgICAgICAgICAgICAgeyJTcGlyaXQgRnJ1aXQiLCAiU3Bpcml0LVNwaXJpdCJ9LAogICAgICAgICAgICAgICAgICAgIHsiTGVvcGFyZCBGcnVpdCIsICJMZW9wYXJkLUxlb3BhcmQifSwKICAgICAgICAgICAgICAgICAgICB7IllldGkgRnJ1aXQiLCAiWWV0aS1ZZXRpIn0sCiAgICAgICAgICAgICAgICAgICAgeyJLaXRzdW5lIEZydWl0IiwgIktpdHN1bmUtS2l0c3VuZSJ9LAogICAgICAgICAgICAgICAgICAgIHsiRHJhZ29uIEZydWl0IiwgIkRyYWdvbi1EcmFnb24ifQogICAgICAgICAgICAgICAgfSkgZG8KICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfb2s5Nm4yID0gdjEwODBbMV0KICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfdHVkazI2ID0gdjEwODBbMl0KICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfMnh5ZjkyID0gbF9CYWNrcGFja18zOkZpbmRGaXJzdENoaWxkKHYxMDgxKSBvciB2MTA3NzpGaW5kRmlyc3RDaGlsZCh2MTA4MSkKICAgICAgICAgICAgICAgICAgICBpZiB2MTA4MyB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIlN0b3JlRnJ1aXQiLCB2MTA4MiwgdjEwODMpCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCmVuZCkKdjQ5MjpBZGRUb2dnbGUoewogICAgTmFtZSA9ICJUZWxlcG9ydCBUbyBGcnVpdCBTcGF3biIsCiAgICBEZXNjcmlwdGlvbiA9ICJUXDIyNVwxODdcMTc3IFwxOTZcMTQ0XDIyNVwxODdcMTUzbmcgTmhcMjI1XDE4NlwxODN0IFRyXDE5NVwxNjFpIFwxOTVcMTI5YyBRdVwyMjVcMTg3XDE4MyBOXDIyNVwxODZcMTkxdSBYdVwyMjVcMTg2XDE2NXQgSGlcMjI1XDE4N1wxMzVuIFRyb25nIFNldmVyIiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjEwODQpCiAgICAgICAgX0cuVHdlZW5mcnVpdCA9IHYxMDg0CiAgICBlbmQKfSkKc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgd2FpdCgwLjEpIGRvCiAgICAgICAgaWYgX0cuVHdlZW5GcnVpdCB0aGVuCiAgICAgICAgICAgIGZvciBfLCB2MTA4NiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZTpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgaWYgc3RyaW5nLmZpbmQodjEwODYuTmFtZSwgIkZydWl0IikgdGhlbgogICAgICAgICAgICAgICAgICAgIFRQMSh2MTA4Ni5IYW5kbGUuQ0ZyYW1lKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCmVuZCkKdjQ5MjpBZGRUb2dnbGUoewogICAgTmFtZSA9ICJBdXRvIFRlbGVwb3J0IEZydWl0cyIsCiAgICBEZXNjcmlwdGlvbiA9ICJUXDIyNVwxODdcMTc3IFwxOTZcMTQ0XDIyNVwxODdcMTUzbmcgVGVsZXBvcnQgXDE5NlwxNDRcMjI1XDE4NlwxOTFuIFRyXDE5NVwxNjFpIFwxOTVcMTI5YyBRdVwyMjVcMTg3XDE4MyIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYxMDg3KQogICAgICAgIF9HLkdyYWJmcnVpdCA9IHYxMDg3CiAgICBlbmQKfSkKc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgd2FpdCgwLjEpIGRvCiAgICAgICAgaWYgX0cuR3JhYmZydWl0IHRoZW4KICAgICAgICAgICAgZm9yIF8sIHYxMDg5IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICBpZiBzdHJpbmcuZmluZCh2MTA4OS5OYW1lLCAiRnJ1aXQiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IHYxMDg5LkhhbmRsZS5DRnJhbWUKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAplbmQpCmxvY2FsIHZhcl8wN3JsaTMgPSB2NDkyOkFkZFNlY3Rpb24oeyJDaGVjayBTdG9jayBGcnVpdHMifSkKbG9jYWwgdmFyX3dnYm16MyB2MTA5Nih2MTA5MSkKICAgIGxvY2FsIHZhcl8yNmswa2cgPSB0b3N0cmluZyh2MTA5MSkKICAgIHJlcGVhdAogICAgICAgIGxvY2FsIHZhcl9sanJsZzcgPSBuaWwKICAgICAgICBsb2NhbCB2YXJfYnBuY2M3LCB2MTA5NSA9IHYxMDkyLmdzdWIodjEwOTIsICJeKC0/JWQrKSglZCVkJWQpIiwgIiUxLCUyIikKICAgICAgICB2MTA5MyA9IHYxMDk1CiAgICAgICAgdjEwOTIgPSB2MTA5NAogICAgdW50aWwgdjEwOTMgPT0gMAogICAgcmV0dXJuIHYxMDkyCmVuZApsb2NhbCB2YXJfdHptb3duID0gZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfCmxvY2FsIHZhcl8wMXRpaWsgdjExMTEoKQogICAgbG9jYWwgdmFyX2dlbWQxeiA9ICJBZHZhbmNlIEZydWl0IFN0b2NrXG4iCiAgICBsb2NhbCB2YXJfMmtyZjJ4LCBsX3Jlc3VsdF8yID0gcGNhbGwoZnVuY3Rpb24oKQogICAgICAgIHJldHVybiBsX0NvbW1GX18xOkludm9rZVNlcnZlcigiR2V0RnJ1aXRzIiwgdHJ1ZSkKICAgIGVuZCkKICAgIGlmIG5vdCBsX3N0YXR1c18yIG9yIG5vdCBsX3Jlc3VsdF8yIHRoZW4KICAgICAgICB2MTA5OCA9IHYxMDk4IC4uICItIFwyMjZcMTU3XDE0MCBMXDIyNVwxODdcMTUxaSBraGkgbFwyMjVcMTg2XDE2NXkgZFwyMjVcMTg3XDE3NSBsaVwyMjVcMTg3XDEzNXUuXG4iCiAgICBlbHNlCiAgICAgICAgbG9jYWwgdmFyX3Y3czJ4MSA9IGZhbHNlCiAgICAgICAgZm9yIF8sIHYxMTAzIGluIHBhaXJzKGxfcmVzdWx0XzIpIGRvCiAgICAgICAgICAgIGlmIHYxMTAzLk9uU2FsZSB0aGVuCiAgICAgICAgICAgICAgICB2MTEwMSA9IHRydWUKICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9uNnNwcjUgPSB2MTA5Nih2MTEwMy5QcmljZSkKICAgICAgICAgICAgICAgIHYxMDk4ID0gdjEwOTggLi4gdjExMDMuTmFtZSAuLiAiIC0gJCIgLi4gdjExMDQgLi4gIlxuIgogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgICAgICBpZiBub3QgdjExMDEgdGhlbgogICAgICAgICAgICB2MTA5OCA9IHYxMDk4IC4uICItIEtoXDE5NVwxODBuZyBjXDE5NVwxNzkgdHJcMTk1XDE2MWkgblwxOTVcMTYwby5cbiIKICAgICAgICBlbmQKICAgIGVuZAogICAgdjEwOTggPSB2MTA5OCAuLiAiXG5Ob3JtYWwgRnJ1aXQgU3RvY2tcbiIKICAgIGxvY2FsIHZhcl9uNDUyYm8sIGxfcmVzdWx0XzMgPSBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgcmV0dXJuIGxfQ29tbUZfXzE6SW52b2tlU2VydmVyKCJHZXRGcnVpdHMiKQogICAgZW5kKQogICAgaWYgbF9zdGF0dXNfMyBhbmQgbF9yZXN1bHRfMyB0aGVuCiAgICAgICAgbG9jYWwgdmFyXzQ4eThmMyA9IGZhbHNlCiAgICAgICAgZm9yIF8sIHYxMTA5IGluIHBhaXJzKGxfcmVzdWx0XzMpIGRvCiAgICAgICAgICAgIGlmIHYxMTA5Lk9uU2FsZSB0aGVuCiAgICAgICAgICAgICAgICB2MTEwNyA9IHRydWUKICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9mMmVxeDkgPSB2MTA5Nih2MTEwOS5QcmljZSkKICAgICAgICAgICAgICAgIHYxMDk4ID0gdjEwOTggLi4gdjExMDkuTmFtZSAuLiAiIC0gJCIgLi4gdjExMTAgLi4gIlxuIgogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgICAgICBpZiBub3QgdjExMDcgdGhlbgogICAgICAgICAgICB2MTA5OCA9IHYxMDk4IC4uICItIEtoXDE5NVwxODBuZyBjXDE5NVwxNzkgdHJcMTk1XDE2MWkgblwxOTVcMTYwby5cbiIKICAgICAgICBlbmQKICAgIGVsc2UKICAgICAgICB2MTA5OCA9IHYxMDk4IC4uICItIFwyMjZcMTU3XDE0MCBMXDIyNVwxODdcMTUxaSBraGkgbFwyMjVcMTg2XDE2NXkgZFwyMjVcMTg3XDE3NSBsaVwyMjVcMTg3XDEzNXUuXG4iCiAgICBlbmQKICAgIHJldHVybiB2MTA5OAplbmQKbG9jYWwgdmFyX2U0OHRheSA9IHY0OTI6QWRkUGFyYWdyYXBoKHsKICAgIFRpdGxlID0gIlN0b2NrIFRyXDE5NVwxNjFpIENcMTk1XDE2MnkiLAogICAgQ29udGVudCA9ICJcMTk2XDE0NGFuZyB0XDIyNVwxODZcMTYzaSBkXDIyNVwxODdcMTc1IGxpXDIyNVwxODdcMTM1dS4uLiIKfSkKdGFzay5zcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB0YXNrLndhaXQoNjApIGRvCiAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICB2MTExMjpTZXQodjExMTEoKSkKICAgICAgICBlbmQpCiAgICBlbmQKZW5kKQpwY2FsbChmdW5jdGlvbigpCiAgICB2MTExMjpTZXQodjExMTEoKSkKZW5kKQpsb2NhbCB2YXJfemhyM290ID0gdjQ5MzpBZGRTZWN0aW9uKHsiVGVsZXBvcnQgSXNsYW5kIHwgRGkgQ2h1eVwyMjVcMTg3XDEzMW4gXDE5NlwxNDRcMjI1XDE4NlwxOTFuIFwxOTZcMTQ0XDIyNVwxODZcMTYzbyJ9KQpsb2NhbCB2YXJfcXRpd2hpIHYxMTE2KHYxMTE0KQogICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgIGlmIHR5cGUodG9wb3MpID09ICJmdW5jdGlvbiIgdGhlbgogICAgICAgICAgICB0b3Bvcyh2MTExNCkKICAgICAgICBlbHNlCiAgICAgICAgICAgIGxvY2FsIHZhcl9tcXkxaGwgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllcgogICAgICAgICAgICBpZiBsX0xvY2FsUGxheWVyXzE3IGFuZCBsX0xvY2FsUGxheWVyXzE3LkNoYXJhY3RlciBhbmQgbF9Mb2NhbFBsYXllcl8xNy5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSB0aGVuCiAgICAgICAgICAgICAgICBsX0xvY2FsUGxheWVyXzE3LkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IHYxMTE0CiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kKQplbmQKbG9jYWwgdmFyX3Z3OTlzZyA9IG5pbAppZiBub3QgV29ybGQxIHRoZW4KICAgIGlmIFdvcmxkMiB0aGVuCiAgICAgICAgdjExMTcgPSB7CiAgICAgICAgICAgICJUaGUgQ2FmZSIsCiAgICAgICAgICAgICJGcmlzdCBTcG90IiwKICAgICAgICAgICAgIkRhcmsgQXJlYSIsCiAgICAgICAgICAgICJGbGFtaW5nbyBNYW5zaW9uIiwKICAgICAgICAgICAgIkZsYW1pbmdvIFJvb20iLAogICAgICAgICAgICAiR3JlZW4gWm9uZSIsCiAgICAgICAgICAgICJGYWN0b3J5IiwKICAgICAgICAgICAgIkNvbG9zc3VpbSIsCiAgICAgICAgICAgICJab21iaWUgSXNsYW5kIiwKICAgICAgICAgICAgIlR3byBTbm93IE1vdW50YWluIiwKICAgICAgICAgICAgIlB1bmsgSGF6YXJkIiwKICAgICAgICAgICAgIkN1cnNlZCBTaGlwIiwKICAgICAgICAgICAgIkljZSBDYXN0bGUiLAogICAgICAgICAgICAiRm9yZ290dGVuIElzbGFuZCIsCiAgICAgICAgICAgICJVc3NvcCBJc2xhbmQiLAogICAgICAgICAgICAiTWluaSBTa3kgSXNsYW5kIgogICAgICAgIH0KICAgIGVsc2VpZiBXb3JsZDMgdGhlbgogICAgICAgIHYxMTE3ID0gewogICAgICAgICAgICAiTWFuc2lvbiIsCiAgICAgICAgICAgICJQb3J0IFRvd24iLAogICAgICAgICAgICAiR3JlYXQgVHJlZSIsCiAgICAgICAgICAgICJDYXN0bGUgT24gVGhlIFNlYSIsCiAgICAgICAgICAgICJNaW5pU2t5IiwKICAgICAgICAgICAgIkh5ZHJhIElzbGFuZCIsCiAgICAgICAgICAgICJGbG9hdGluZyBUdXJ0bGUiLAogICAgICAgICAgICAiSGF1bnRlZCBDYXN0bGUiLAogICAgICAgICAgICAiSWNlIENyZWFtIElzbGFuZCIsCiAgICAgICAgICAgICJQZWFudXQgSXNsYW5kIiwKICAgICAgICAgICAgIkNha2UgSXNsYW5kIiwKICAgICAgICAgICAgIkNvY29hIElzbGFuZCIsCiAgICAgICAgICAgICJDYW5keSBJc2xhbmQiLAogICAgICAgICAgICAiVGlraSBPdXRwb3N0IiwKICAgICAgICAgICAgIkRyYWdvbiBEb2pvIgogICAgICAgIH0KICAgIGVsc2UKICAgICAgICB2MTExNyA9IHsiU3Bhd24ifQogICAgZW5kCmVsc2UKICAgIHYxMTE3ID0gewogICAgICAgICJXaW5kTWlsbCIsCiAgICAgICAgIk1hcmluZSIsCiAgICAgICAgIk1pZGRsZSBUb3duIiwKICAgICAgICAiSnVuZ2xlIiwKICAgICAgICAiUGlyYXRlIFZpbGxhZ2UiLAogICAgICAgICJEZXNlcnQiLAogICAgICAgICJTbm93IElzbGFuZCIsCiAgICAgICAgIk1hcmluZUZvcmQiLAogICAgICAgICJDb2xvc3NldW0iLAogICAgICAgICJTa3kgSXNsYW5kIDEiLAogICAgICAgICJTa3kgSXNsYW5kIDIiLAogICAgICAgICJTa3kgSXNsYW5kIDMiLAogICAgICAgICJQcmlzb24iLAogICAgICAgICJNYWdtYSBWaWxsYWdlIiwKICAgICAgICAiVW5kZXIgV2F0ZXIgSXNsYW5kIiwKICAgICAgICAiRm91bnRhaW4gQ2l0eSIsCiAgICAgICAgIlNoYW5rIFJvb20iLAogICAgICAgICJNb2IgSXNsYW5kIgogICAgfQplbmQKdjQ5MzpBZGREcm9wZG93bih7CiAgICBOYW1lID0gIlNlbGVjdCBJc2xhbmQiLAogICAgRGVzY3JpcHRpb24gPSAiQ2hcMjI1XDE4N1wxNDFuIFwxOTZcMTQ1XDIyNVwxODZcMTYzbyBcMTk2XDE0NVwyMjVcMTg3XDEzMSB0ZWxlcG9ydCIsCiAgICBPcHRpb25zID0gdjExMTcsCiAgICBEZWZhdWx0ID0gdjExMTdbMV0sCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYxMTE4KQogICAgICAgIF9HLlNlbGVjdElzbGFuZCA9IHYxMTE4CiAgICBlbmQKfSkKdjQ5MzpBZGRUb2dnbGUoewogICAgTmFtZSA9ICJBdXRvIFR3ZWVuIFRvIElzbGFuZCIsCiAgICBEZXNjcmlwdGlvbiA9ICJUXDIyNVwxODdcMTc3IFwxOTZcMTQ1XDIyNVwxODdcMTUzbmcgZGkgY2h1eVwyMjVcMTg3XDEzMW4gdFwyMjVcMTg3XDE1NWkgXDE5NlwxNDVcMjI1XDE4NlwxNjNvIFwxOTZcMTQ1XDE5NVwxNjMgY2hcMjI1XDE4N1wxNDFuIiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjExMTkpCiAgICAgICAgX0cuVGVsZXBvcnRJc2xhbmQgPSB2MTExOQogICAgICAgIFN0b3BUd2VlbihfRy5UZWxlcG9ydElzbGFuZCkKICAgIGVuZAp9KQpsb2NhbCB2YXJfY3N6ZTVuIHYxMTIwKCkKICAgIGlmIF9HLlNlbGVjdElzbGFuZCB0aGVuCiAgICAgICAgaWYgX0cuU2VsZWN0SXNsYW5kIH49ICJXaW5kTWlsbCIgdGhlbgogICAgICAgICAgICBpZiBfRy5TZWxlY3RJc2xhbmQgfj0gIk1hcmluZSIgdGhlbgogICAgICAgICAgICAgICAgaWYgX0cuU2VsZWN0SXNsYW5kIH49ICJNaWRkbGUgVG93biIgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIF9HLlNlbGVjdElzbGFuZCB+PSAiSnVuZ2xlIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIF9HLlNlbGVjdElzbGFuZCA9PSAiUGlyYXRlIFZpbGxhZ2UiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMTE2KENGcmFtZS5uZXcoLTExODEuMzA5LCA0Ljc1MSwgMzgwMy41NDYpKQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgX0cuU2VsZWN0SXNsYW5kIH49ICJEZXNlcnQiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIF9HLlNlbGVjdElzbGFuZCA9PSAiU25vdyBJc2xhbmQiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTExNihDRnJhbWUubmV3KDEzNDcuODA3LCAxMDQuNjY4LCAtMTMxOS43MzcpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIF9HLlNlbGVjdElzbGFuZCA9PSAiTWFyaW5lRm9yZCIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMTE2KENGcmFtZS5uZXcoLTQ5MTQuODIxLCA1MC45NjQsIDQyODEuMDI4KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiBfRy5TZWxlY3RJc2xhbmQgfj0gIkNvbG9zc2V1bSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIF9HLlNlbGVjdElzbGFuZCB+PSAiU2t5IElzbGFuZCAxIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIF9HLlNlbGVjdElzbGFuZCB+PSAiU2t5IElzbGFuZCAyIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBfRy5TZWxlY3RJc2xhbmQgfj0gIlNreSBJc2xhbmQgMyIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIF9HLlNlbGVjdElzbGFuZCB+PSAiUHJpc29uIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIF9HLlNlbGVjdElzbGFuZCA9PSAiTWFnbWEgVmlsbGFnZSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjExMTYoQ0ZyYW1lLm5ldygtNTI0Ny43MTYsIDEyLjg4NCwgODUwNC45NjkpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgX0cuU2VsZWN0SXNsYW5kIH49ICJVbmRlciBXYXRlciBJc2xhbmQiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIF9HLlNlbGVjdElzbGFuZCA9PSAiRm91bnRhaW4gQ2l0eSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMTE2KENGcmFtZS5uZXcoNTEyNy4xMjgsIDU5LjUwMSwgNDEwNS40NDYpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIF9HLlNlbGVjdElzbGFuZCB+PSAiU2hhbmsgUm9vbSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIF9HLlNlbGVjdElzbGFuZCB+PSAiTW9iIElzbGFuZCIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBfRy5TZWxlY3RJc2xhbmQgPT0gIlRoZSBDYWZlIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTExNihDRnJhbWUubmV3KC0zODAuNDc5LCA3Ny4yMiwgMjU1LjgyNikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiBfRy5TZWxlY3RJc2xhbmQgfj0gIkZyaXN0IFNwb3QiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIF9HLlNlbGVjdElzbGFuZCA9PSAiRGFyayBBcmVhIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjExMTYoQ0ZyYW1lLm5ldygzNzgwLjAzLCAyMi42NTIsIC0zNDk4LjU4NikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgX0cuU2VsZWN0SXNsYW5kIH49ICJGbGFtaW5nbyBNYW5zaW9uIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgX0cuU2VsZWN0SXNsYW5kIH49ICJGbGFtaW5nbyBSb29tIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIF9HLlNlbGVjdElzbGFuZCB+PSAiR3JlZW4gWm9uZSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgX0cuU2VsZWN0SXNsYW5kID09ICJGYWN0b3J5IiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjExMTYoQ0ZyYW1lLm5ldyg0MjQuMTI3LCAyMTEuMTYyLCAtNDI3LjU0KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiBfRy5TZWxlY3RJc2xhbmQgPT0gIkNvbG9zc3VpbSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMTE2KENGcmFtZS5uZXcoLTE1MDMuNjIyLCAyMTkuNzk2LCAxMzY5LjMxKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiBfRy5TZWxlY3RJc2xhbmQgfj0gIlpvbWJpZSBJc2xhbmQiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBfRy5TZWxlY3RJc2xhbmQgPT0gIlR3byBTbm93IE1vdW50YWluIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMTE2KENGcmFtZS5uZXcoNzUzLjE0MywgNDA4LjIzNiwgLTUyNzQuNjE1KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgX0cuU2VsZWN0SXNsYW5kID09ICJQdW5rIEhhemFyZCIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTExNihDRnJhbWUubmV3KC02MTI3LjY1NCwgMTUuOTUyLCAtNTA0MC4yODYpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiBfRy5TZWxlY3RJc2xhbmQgfj0gIkN1cnNlZCBTaGlwIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIF9HLlNlbGVjdElzbGFuZCB+PSAiSWNlIENhc3RsZSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgX0cuU2VsZWN0SXNsYW5kIH49ICJGb3Jnb3R0ZW4gSXNsYW5kIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgX0cuU2VsZWN0SXNsYW5kID09ICJVc3NvcCBJc2xhbmQiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjExMTYoQ0ZyYW1lLm5ldyg0ODE2Ljg2MiwgOC40NiwgMjg2My44MikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIF9HLlNlbGVjdElzbGFuZCA9PSAiTWluaSBTa3kgSXNsYW5kIiBvciBfRy5TZWxlY3RJc2xhbmQgPT0gIk1pbmlTa3kiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjExMTYoQ0ZyYW1lLm5ldygtMjg4Ljc0MSwgNDkzMjYuMzE2LCAtMzUyNDguNTk0KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgX0cuU2VsZWN0SXNsYW5kIH49ICJHcmVhdCBUcmVlIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIF9HLlNlbGVjdElzbGFuZCB+PSAiQ2FzdGxlIE9uIFRoZSBTZWEiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIF9HLlNlbGVjdElzbGFuZCB+PSAiUG9ydCBUb3duIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgX0cuU2VsZWN0SXNsYW5kIH49ICJIeWRyYSBJc2xhbmQiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgX0cuU2VsZWN0SXNsYW5kID09ICJGbG9hdGluZyBUdXJ0bGUiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMTE2KENGcmFtZS5uZXcoLTEzMjc0LjUyOCwgNTMxLjgyMSwgLTc1NzkuMjIzKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIF9HLlNlbGVjdElzbGFuZCB+PSAiTWFuc2lvbiIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgX0cuU2VsZWN0SXNsYW5kIH49ICJIYXVudGVkIENhc3RsZSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIF9HLlNlbGVjdElzbGFuZCA9PSAiSWNlIENyZWFtIElzbGFuZCIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTExNihDRnJhbWUubmV3KC05MDIuNTY4LCA3OS45MzIsIC0xMDk4OC44NDgpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiBfRy5TZWxlY3RJc2xhbmQgPT0gIlBlYW51dCBJc2xhbmQiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjExMTYoQ0ZyYW1lLm5ldygtMjA2Mi43NDgsIDUwLjQ3NCwgLTEwMjMyLjU2OCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIF9HLlNlbGVjdElzbGFuZCB+PSAiQ2FrZSBJc2xhbmQiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgX0cuU2VsZWN0SXNsYW5kIH49ICJDb2NvYSBJc2xhbmQiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIF9HLlNlbGVjdElzbGFuZCA9PSAiQ2FuZHkgSXNsYW5kIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjExMTYoQ0ZyYW1lLm5ldygtMTAxNC40MjQsIDE0OS4xMTEsIC0xNDU1NS45NjMpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIF9HLlNlbGVjdElzbGFuZCB+PSAiVGlraSBPdXRwb3N0IiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgX0cuU2VsZWN0SXNsYW5kID09ICJEcmFnb24gRG9qbyIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTExNihDRnJhbWUubmV3KDU3NDMuMzE5LCAxMjA2LjkxLCA5MzYuMDExKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTExNihDRnJhbWUubmV3KC0xNjIxOC42ODMsIDkuMDg2LCA0NDUuNjE4KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTExNihDRnJhbWUubmV3KDg3Ljk0MywgNzMuNTU1LCAtMTIzMTkuNDY1KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTExNihDRnJhbWUubmV3KC0xODg0Ljc3NSwgMTkuMzI4LCAtMTE2NjYuODk3KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTExNihDRnJhbWUubmV3KC05NTE1LjM3MiwgMTY0LjAwNiwgNTc4Ni4wNjEpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoInJlcXVlc3RFbnRyYW5jZSIsIFZlY3RvcjMubmV3KC0xMjQ3MS4xNywgMzc0Ljk0LCAtNzU1MS42NzgpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMTE2KENGcmFtZS5uZXcoNTI5MS4yNDksIDEwMDUuNDQzLCAzOTMuNzYyKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTExNihDRnJhbWUubmV3KC0yMjYuNzUxLCAyMC42MDMsIDU1MzguMzQpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoInJlcXVlc3RFbnRyYW5jZSIsIFZlY3RvcjMubmV3KC01MDgzLjI2LCAzMTQuNjA2LCAtMzE3NS42NzMpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMTE2KENGcmFtZS5uZXcoMjY4MS4yNzQsIDE2ODIuODA5LCAtNzE5MC45ODUpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMTE2KENGcmFtZS5uZXcoLTMwMzIuNzY0LCAzMTcuODk3LCAtMTAwNzUuMzczKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTExNihDRnJhbWUubmV3KDYxNDguNDEyLCAyOTQuMzg3LCAtNjc0MS4xMTcpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMTE2KENGcmFtZS5uZXcoOTIzLjQwMiwgMTI1LjA1NywgMzI4ODUuODc1KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTExNihDRnJhbWUubmV3KC01NjIyLjAzMywgNDkyLjE5NiwgLTc4MS43ODYpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMTE2KENGcmFtZS5uZXcoLTI0NDguNTMsIDczLjAxNiwgLTMyMTAuNjMxKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTExNihDRnJhbWUubmV3KDIyODQuNDE0LCAxNS4xNTIsIDg3NS43MjUpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMTE2KENGcmFtZS5uZXcoLTQ4My43MzQsIDMzMi4wMzgsIDU5NS4zMjcpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMTE2KENGcmFtZS5uZXcoLTExLjMxMSwgMjkuMjc3LCAyNzcxLjUyMikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjExMTYoQ0ZyYW1lLm5ldygtMjg1MC4yMDEsIDcuMzkyLCA1MzU0Ljk5MykpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjExMTYoQ0ZyYW1lLm5ldygtMTQ0Mi4xNjYsIDI5Ljg3OSwgLTI4LjM1NSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigicmVxdWVzdEVudHJhbmNlIiwgVmVjdG9yMy5uZXcoNjExNjMuODUyLCAxMS42OCwgMTgxOS43ODQpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMTE2KENGcmFtZS5uZXcoNDg3NS4zMywgNS42NTIsIDczNC44NSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigicmVxdWVzdEVudHJhbmNlIiwgVmVjdG9yMy5uZXcoLTc4OTQuNjE4LCA1NTQ3LjE0MiwgLTM4MC4yOTEpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoInJlcXVlc3RFbnRyYW5jZSIsIFZlY3RvcjMubmV3KC00NjA3LjgyMywgODcyLjU0MywgLTE2NjcuNTU3KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTExNihDRnJhbWUubmV3KC00ODY5LjEwMywgNzMzLjQ2MSwgLTI2NjcuMDE4KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTExNihDRnJhbWUubmV3KC0xNDI3LjYyLCA3LjI4OCwgLTI3OTIuNzcyKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTExNihDRnJhbWUubmV3KDk0NC4xNTgsIDIwLjkyLCA0MzczLjMpKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHYxMTE2KENGcmFtZS5uZXcoLTE2MTIuNzk2LCAzNi44NTIsIDE0OS4xMjgpKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIHYxMTE2KENGcmFtZS5uZXcoLTY5MC4zMzEsIDE1LjA5NCwgMTU4Mi4yMzgpKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHYxMTE2KENGcmFtZS5uZXcoLTI1NjYuNDMsIDYuODU2LCAyMDQ1LjI1NikpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVsc2UKICAgICAgICAgICAgdjExMTYoQ0ZyYW1lLm5ldyg5NzkuNzk5LCAxNi41MTYsIDE0MjkuMDQ3KSkKICAgICAgICBlbmQKICAgICAgICByZXR1cm4gCiAgICBlbHNlCiAgICAgICAgcmV0dXJuIAogICAgZW5kCmVuZAp0YXNrLnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHRhc2sud2FpdCgwLjUpIGRvCiAgICAgICAgaWYgX0cuVGVsZXBvcnRJc2xhbmQgdGhlbgogICAgICAgICAgICB2MTEyMCgpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kKQpsb2NhbCB2YXJfYWtuZ2toID0gdjQ5MzpBZGRTZWN0aW9uKHsiVGVsZXBvcnQgU2VhIHwgRGkgQ2h1eVwyMjVcMTg3XDEzMW4gU2VhIDEsMiwzIn0pCnY0OTM6QWRkQnV0dG9uKHsKICAgIE5hbWUgPSAiU2VhIDEiLAogICAgRGVzY3JpcHRpb24gPSAiQmlcMjI1XDE4N1wxMzFuIDEiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiVHJhdmVsTWFpbiIpCiAgICBlbmQKfSkKdjQ5MzpBZGRCdXR0b24oewogICAgTmFtZSA9ICJTZWEgMiIsCiAgICBEZXNjcmlwdGlvbiA9ICJCaVwyMjVcMTg3XDEzMW4gMiIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJUcmF2ZWxEcmVzc3Jvc2EiKQogICAgZW5kCn0pCnY0OTM6QWRkQnV0dG9uKHsKICAgIE5hbWUgPSAiU2VhIDMiLAogICAgRGVzY3JpcHRpb24gPSAiQmlcMjI1XDE4N1wxMzFuIDMiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiVHJhdmVsWm91IikKICAgIGVuZAp9KQpsb2NhbCB2YXJfMGdqdHZsID0gdjQ5NDpBZGRTZWN0aW9uKHsiVGVsZXBvcnQgUGxheWVyIHwgRGkgQ2h1eVwyMjVcMTg3XDEzMW4gXDE5NlwxNDRcMjI1XDE4NlwxOTFuIFBsYXllciJ9KQpsb2NhbCB2YXJfcHhpNnRpID0ge30KZm9yIF8sIHYxMTI1IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCiAgICB0YWJsZS5pbnNlcnQodjExMjMsIHYxMTI1Lk5hbWUpCmVuZApsb2NhbCB2YXJfeXNxNGw4ID0gbmlsCnY0OTQ6QWRkQnV0dG9uKHsKICAgIFRpdGxlID0gIkdldCBRdWVzdCBFbGl0ZSBQbGF5ZXJzIiwKICAgIERlc2NyaXB0aW9uID0gIk5oXDIyNVwxODZcMTczbiBOaGlcMjI1XDE4N1wxMzVtIFZcMjI1XDE4N1wxNjUgTmdcMTk4XDE3NlwyMjVcMTg3XDE1N2kgQ2hcMTk4XDE2MWkiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiUGxheWVySHVudGVyIikKICAgIGVuZAp9KQp2NDk0OkFkZFRvZ2dsZSh7CiAgICBUaXRsZSA9ICJBdXRvIEtpbGwgUGxheWVyIFF1ZXN0IiwKICAgIERlc2NyaXB0aW9uID0gIkJheSBcMTk2XDE0NFwyMjVcMTg2XDE5MW4gTmdcMTk4XDE3NlwyMjVcMTg3XDE1N2kgQ2hcMTk4XDE2MWkgXDE5NlwxNDRcMTk4XDE3NlwyMjVcMTg3XDE2M2MgTmhcMjI1XDE4NlwxNzNuIE5oaVwyMjVcMTg3XDEzNW0gVlwyMjVcMTg3XDE2NSIsCiAgICBWYWx1ZSA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2MTEyNykKICAgICAgICBfRy5BdXRvUGxheWVySHVudGVyID0gdjExMjcKICAgICAgICBTdG9wVHdlZW4oX0cuQXV0b1BsYXllckh1bnRlcikKICAgIGVuZAp9KQpzcGF3bihmdW5jdGlvbigpCiAgICBnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKS5IZWFydGJlYXQ6Y29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICBpZiBfRy5BdXRvUGxheWVySHVudGVyIGFuZCBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikgdGhlbgogICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkOkNoYW5nZVN0YXRlKDExKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCiAgICBlbmQpCmVuZCkKc3Bhd24oZnVuY3Rpb24oKQogICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgIHdoaWxlIHdhaXQoMC4xKSBkbwogICAgICAgICAgICBpZiBfRy5BdXRvUGxheWVySHVudGVyIGFuZCBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5QbGF5ZXJHdWkuTWFpbi5QdnBEaXNhYmxlZC5WaXNpYmxlID09IHRydWUgdGhlbgogICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiRW5hYmxlUHZwIikKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQpCmVuZCkKc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgaWYgX0cuQXV0b1BsYXllckh1bnRlciB0aGVuCiAgICAgICAgICAgIGlmIGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLlBsYXllckd1aS5NYWluLlF1ZXN0LlZpc2libGUgPT0gZmFsc2UgdGhlbgogICAgICAgICAgICAgICAgd2FpdCgwLjUpCiAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJQbGF5ZXJIdW50ZXIiKQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBmb3IgXywgdjExMjkgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5DaGFyYWN0ZXJzOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgaWYgc3RyaW5nLmZpbmQoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuUGxheWVyR3VpLk1haW4uUXVlc3QuQ29udGFpbmVyLlF1ZXN0VGl0bGUuVGl0bGUuVGV4dCwgdjExMjkuTmFtZSkgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0b0hha2koKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgRXF1aXBXZWFwb24oX0cuU2VsZWN0V2VhcG9uKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgVXNlc2tpbGwgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3Bvcyh2MTEyOS5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoMSwgNywgMykpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTEyOS5IdW1hbm9pZFJvb3RQYXJ0LlNpemUgPSBWZWN0b3IzLm5ldyg2MCwgNjAsIDYwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsVXNlciIpOkNhcHR1cmVDb250cm9sbGVyKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiVmlydHVhbFVzZXIiKTpCdXR0b24xRG93bihWZWN0b3IyLm5ldygxMjgwLCA2NzIpKQogICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCBfRy5BdXRvUGxheWVySHVudGVyID09IGZhbHNlIG9yIHYxMTI5Lkh1bWFub2lkLkhlYWx0aCA8PSAwCiAgICAgICAgICAgICAgICAgICAgICAgIFVzZXNraWxsID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQWJhbmRvblF1ZXN0IikKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAplbmQpCnY0OTQ6QWRkVG9nZ2xlKHsKICAgIE5hbWUgPSAiQXV0byBTYWZlIE1vZGUiLAogICAgRGVzY3JpcHRpb24gPSAiVFwyMjVcMTg3XDE3NyBcMTk2XDE0NFwyMjVcMTg3XDE1M25nIEFuIFRvXDE5NVwxNjBuIERpIENodXlcMjI1XDE4N1wxMzFuIExcMTk1XDE3MG4gVHJcMjI1XDE4N1wxNTdpIEFuIFRvXDE5NVwxNjBuIiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjExMzApCiAgICAgICAgX0cuU2FmZU1vZGUgPSB2MTEzMAogICAgICAgIFN0b3BUd2VlbihfRy5TYWZlTW9kZSkKICAgIGVuZAp9KQpzcGF3bihmdW5jdGlvbigpCiAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgICAgIGlmIF9HLlNhZmVNb2RlIHRoZW4KICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoMCwgMjAwLCAwKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZCkKZW5kKQpsb2NhbCB2YXJfNnRwdDF0ID0gdjQ5NDpBZGRTZWN0aW9uKHsiQnVmZiJ9KQpsb2NhbCB2YXJfajhnd2QwID0gZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIKZ2V0Z2VudigpLldhbGtTcGVlZFZhbHVlID0gMzAKZ2V0Z2VudigpLkp1bXBWYWx1ZSA9IDUwCmxvY2FsIHZhcl9raHEwaWIgdjExMzUodjExMzMpCiAgICBsb2NhbCB2YXJfMnE2MHRwID0gdjExMzM6V2FpdEZvckNoaWxkKCJIdW1hbm9pZCIsIDUpCiAgICBpZiB2MTEzNCB0aGVuCiAgICAgICAgdjExMzQuV2Fsa1NwZWVkID0gZ2V0Z2VudigpLldhbGtTcGVlZFZhbHVlCiAgICAgICAgdjExMzQuSnVtcFBvd2VyID0gZ2V0Z2VudigpLkp1bXBWYWx1ZQogICAgICAgIHYxMTM0OkdldFByb3BlcnR5Q2hhbmdlZFNpZ25hbCgiV2Fsa1NwZWVkIik6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgICAgIHYxMTM0LldhbGtTcGVlZCA9IGdldGdlbnYoKS5XYWxrU3BlZWRWYWx1ZQogICAgICAgIGVuZCkKICAgIGVuZAplbmQKbF9Mb2NhbFBsYXllcl8xOC5DaGFyYWN0ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKHYxMTM2KQogICAgdjExMzUodjExMzYpCmVuZCkKaWYgbF9Mb2NhbFBsYXllcl8xOC5DaGFyYWN0ZXIgdGhlbgogICAgdjExMzUobF9Mb2NhbFBsYXllcl8xOC5DaGFyYWN0ZXIpCmVuZAp2NDk0OkFkZFNsaWRlcih7CiAgICBUaXRsZSA9ICJTcGVlZCBDaFwyMjVcMTg2XDE2MXkiLAogICAgTWluID0gMjYsCiAgICBNYXggPSAzMDAsCiAgICBEZWZhdWx0ID0gZ2V0Z2VudigpLldhbGtTcGVlZFZhbHVlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2MTEzNykKICAgICAgICBnZXRnZW52KCkuV2Fsa1NwZWVkVmFsdWUgPSB2MTEzNwogICAgICAgIGxvY2FsIHZhcl9hYTJ1ZDIgPSBsX0xvY2FsUGxheWVyXzE4LkNoYXJhY3RlciBhbmQgbF9Mb2NhbFBsYXllcl8xOC5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikKICAgICAgICBpZiB2MTEzOCB0aGVuCiAgICAgICAgICAgIHYxMTM4LldhbGtTcGVlZCA9IHYxMTM3CiAgICAgICAgZW5kCiAgICBlbmQKfSkKdjQ5NDpBZGRTbGlkZXIoewogICAgVGl0bGUgPSAiTmhcMjI1XDE4NlwxNjN5IENhbyAiLAogICAgTWluID0gNTAsCiAgICBNYXggPSA1MDAsCiAgICBEZWZhdWx0ID0gZ2V0Z2VudigpLkp1bXBWYWx1ZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjExMzkpCiAgICAgICAgZ2V0Z2VudigpLkp1bXBWYWx1ZSA9IHYxMTM5CiAgICAgICAgbG9jYWwgdmFyX2YwaTJ4diA9IGxfTG9jYWxQbGF5ZXJfMTguQ2hhcmFjdGVyIGFuZCBsX0xvY2FsUGxheWVyXzE4LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKQogICAgICAgIGlmIHYxMTQwIHRoZW4KICAgICAgICAgICAgdjExNDAuSnVtcFBvd2VyID0gdjExMzkKICAgICAgICBlbmQKICAgIGVuZAp9KQp2NDk0OkFkZFRvZ2dsZSh7CiAgICBOYW1lID0gIkRlbGV0ZSBMYXZhIiwKICAgIERlc2NyaXB0aW9uID0gIlhvXDE5NVwxNjEgTGF2YSBUclwxOTVcMTYxbmggQlwyMjVcMTg3XDEzOSBNXDIyNVwxODZcMTY1eSBUaFwyMjVcMTg2XDE3N25nIEtpZCBMXDIyNVwxODdcMTQzIERcMTk1XDE3Mm0gTGF2YSA6KSkiLAogICAgRGVmYXVsdCA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2MTE0MSkKICAgICAgICBfRy5SZW1vdmVMYXZhID0gdjExNDEKICAgIGVuZAp9KQpzcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB0YXNrLndhaXQoMSkgZG8KICAgICAgICBpZiBfRy5SZW1vdmVMYXZhIHRoZW4KICAgICAgICAgICAgZm9yIF8sIHYxMTQzIGluIHBhaXJzKHdvcmtzcGFjZTpHZXREZXNjZW5kYW50cygpKSBkbwogICAgICAgICAgICAgICAgZG8KICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YXJfcjVxMDJ4ID0gdjExNDMKICAgICAgICAgICAgICAgICAgICBpZiBsX3YxMTQzXzA6SXNBKCJCYXNlUGFydCIpIGFuZCBzdHJpbmcubG93ZXIobF92MTE0M18wLk5hbWUpOmZpbmQoImxhdmEiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxfdjExNDNfMDpEZXN0cm95KCkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCmVuZCkKbG9jYWwgdmFyX2xvbHlqbCA9IHY0OTQ6QWRkU2VjdGlvbih7IkVzcCB8IFwxOTZcMTQ0XDIyNVwxODdcMTM5bmggVlwyMjVcMTg3XDEzOS4uLiJ9KQp2NDk0OkFkZFRvZ2dsZSh7CiAgICBUaXRsZSA9ICJFc3AgUGxheWVycyIsCiAgICBWYWx1ZSA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2MTE0NikKICAgICAgICBFU1BQbGF5ZXIgPSB2MTE0NgogICAgICAgIGlmIEVTUFBsYXllciB0aGVuCiAgICAgICAgICAgIHRhc2suc3Bhd24oZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgd2hpbGUgRVNQUGxheWVyIGRvCiAgICAgICAgICAgICAgICAgICAgVXBkYXRlUGxheWVyQ2hhbXMoKQogICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgxKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbHNlCiAgICAgICAgICAgIFVwZGF0ZVBsYXllckNoYW1zKCkKICAgICAgICBlbmQKICAgIGVuZAp9KQp2NDk0OkFkZFRvZ2dsZSh7CiAgICBUaXRsZSA9ICJFc3AgQ2hlc3QiLAogICAgVmFsdWUgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjExNDcpCiAgICAgICAgX0cuQ2hlc3RFU1AgPSB2MTE0NwogICAgICAgIGlmIG5vdCBfRy5DaGVzdEVTUCB0aGVuCiAgICAgICAgICAgIFVwZGF0ZUNoZXN0RVNQKCkKICAgICAgICBlbHNlCiAgICAgICAgICAgIHRhc2suc3Bhd24oZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgd2hpbGUgX0cuQ2hlc3RFU1AgZG8KICAgICAgICAgICAgICAgICAgICBVcGRhdGVDaGVzdEVTUCgpCiAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KDEpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCn0pCnY0OTQ6QWRkVG9nZ2xlKHsKICAgIFRpdGxlID0gIkVzcCBGcnVpdHMiLAogICAgVmFsdWUgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjExNDgpCiAgICAgICAgRGV2aWxGcnVpdEVTUCA9IHYxMTQ4CiAgICAgICAgaWYgRGV2aWxGcnVpdEVTUCB0aGVuCiAgICAgICAgICAgIHRhc2suc3Bhd24oZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgd2hpbGUgRGV2aWxGcnVpdEVTUCBkbwogICAgICAgICAgICAgICAgICAgIFVwZGF0ZURldmlsQ2hhbXMoKQogICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgxKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbHNlCiAgICAgICAgICAgIFVwZGF0ZURldmlsQ2hhbXMoKQogICAgICAgIGVuZAogICAgZW5kCn0pCnY0OTQ6QWRkVG9nZ2xlKHsKICAgIFRpdGxlID0gIkVzcCBCZXJyeSIsCiAgICBWYWx1ZSA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2MTE0OSkKICAgICAgICBCZXJyeSA9IHYxMTQ5CiAgICAgICAgaWYgbm90IEJlcnJ5IHRoZW4KICAgICAgICAgICAgZm9yIF8sIHYxMTUxIGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiQ29sbGVjdGlvblNlcnZpY2UiKTpHZXRUYWdnZWQoIkJlcnJ5QnVzaCIpKSBkbwogICAgICAgICAgICAgICAgaWYgdjExNTEuUGFyZW50OkZpbmRGaXJzdENoaWxkKCJCZXJyeUVTUCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICB2MTE1MS5QYXJlbnQuQmVycnlFU1A6RGVzdHJveSgpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZWxzZQogICAgICAgICAgICBVcGRhdGVCZXJyaWVzRVNQKCkKICAgICAgICBlbmQKICAgIGVuZAp9KQpsb2NhbCB2YXJfYmZzbHV4ID0gdjQ5NTpBZGRTZWN0aW9uKHsiQnV5IE1lbGVlIFYxIn0pCnY0OTU6QWRkQnV0dG9uKHsKICAgIFRpdGxlID0gIkJ1eSBCbGFjayBMZWcgJDE1MCwwMDAiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQnV5QmxhY2tMZWciKQogICAgZW5kCn0pCnY0OTU6QWRkQnV0dG9uKHsKICAgIFRpdGxlID0gIkJ1eSBFbGVjdHJvICQ1NTAsMDAwIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkJ1eUVsZWN0cm8iKQogICAgZW5kCn0pCnY0OTU6QWRkQnV0dG9uKHsKICAgIFRpdGxlID0gIkJ1eSBXYXRlciBLdW5nIEZ1ICQ3NTAsMDAwIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkJ1eUZpc2htYW5LYXJhdGUiKQogICAgZW5kCn0pCnY0OTU6QWRkQnV0dG9uKHsKICAgIFRpdGxlID0gIkJ1eSBEcmFnb24gQ2xhdyAxLDUwMEYiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQmxhY2tiZWFyZFJld2FyZCIsICJEcmFnb25DbGF3IiwgIjEiKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkJsYWNrYmVhcmRSZXdhcmQiLCAiRHJhZ29uQ2xhdyIsICIyIikKICAgIGVuZAp9KQpsb2NhbCB2YXJfMjc4bDU3ID0gdjQ5NTpBZGRTZWN0aW9uKHsiQnV5IE1lbGVlIFYyIn0pCnY0OTU6QWRkQnV0dG9uKHsKICAgIFRpdGxlID0gIkJ1eSBTdXBlcmh1bWFuICQzLDAwMCwwMDAiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQnV5U3VwZXJodW1hbiIpCiAgICBlbmQKfSkKdjQ5NTpBZGRCdXR0b24oewogICAgVGl0bGUgPSAiQnV5IERlYXRoIFN0ZXAgJDUsMDAwLDAwMCA1LDAwMEYiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQnV5RGVhdGhTdGVwIikKICAgIGVuZAp9KQp2NDk1OkFkZEJ1dHRvbih7CiAgICBUaXRsZSA9ICJCdXkgU2hhcmttYW4gS2FyYXRlICQyLDUwMCwwMDAgNSwwMDBGIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkJ1eVNoYXJrbWFuS2FyYXRlIiwgdHJ1ZSkKICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJCdXlTaGFya21hbkthcmF0ZSIpCiAgICBlbmQKfSkKdjQ5NTpBZGRCdXR0b24oewogICAgVGl0bGUgPSAiQnV5IEVsZWN0cmljIENsYXcgJDMsMDAwLDAwMCA1LDAwMEYiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQnV5RWxlY3RyaWNDbGF3IikKICAgIGVuZAp9KQp2NDk1OkFkZEJ1dHRvbih7CiAgICBUaXRsZSA9ICJCdXkgRHJhZ29uIFRhbG9uICQzLDAwMCwwMDAgNSwwMDBGIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkJ1eURyYWdvblRhbG9uIikKICAgIGVuZAp9KQp2NDk1OkFkZEJ1dHRvbih7CiAgICBUaXRsZSA9ICJCdXkgR29kIEh1bWFuICQ1LDAwMCwwMDAgNSwwMDBGIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkJ1eUdvZGh1bWFuIikKICAgIGVuZAp9KQp2NDk1OkFkZEJ1dHRvbih7CiAgICBUaXRsZSA9ICJCdXkgU2FuZ3VpbmUgQXJ0ICQ1LDAwMCwwMDAgNSwwMDBGIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkJ1eVNhbmd1aW5lQXJ0IiwgdHJ1ZSkKICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJCdXlTYW5ndWluZUFydCIpCiAgICBlbmQKfSkKbG9jYWwgdmFyX3A3eXFvaCA9IHY0OTU6QWRkU2VjdGlvbih7IkJ1eSBTZWEgRXZlbnQgQ3JhZnRpbmcifSkKdjQ5NTpBZGRCdXR0b24oewogICAgVGl0bGUgPSAiQ3JhZnQgRHJhZ29uaGVhcnQiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQ3JhZnRJdGVtIiwgIkNyYWZ0IiwgIkRyYWdvbmhlYXJ0IikKICAgIGVuZAp9KQp2NDk1OkFkZEJ1dHRvbih7CiAgICBUaXRsZSA9ICJDcmFmdCBEcmFnb25zdG9ybSIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJDcmFmdEl0ZW0iLCAiQ3JhZnQiLCAiRHJhZ29uc3Rvcm0iKQogICAgZW5kCn0pCnY0OTU6QWRkQnV0dG9uKHsKICAgIFRpdGxlID0gIkNyYWZ0IERpbm9Ib29kIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkNyYWZ0SXRlbSIsICJDcmFmdCIsICJEaW5vSG9vZCIpCiAgICBlbmQKfSkKdjQ5NTpBZGRCdXR0b24oewogICAgVGl0bGUgPSAiQ3JhZnQgU2hhcmtUb290aCIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJDcmFmdEl0ZW0iLCAiQ3JhZnQiLCAiU2hhcmtUb290aCIpCiAgICBlbmQKfSkKdjQ5NTpBZGRCdXR0b24oewogICAgVGl0bGUgPSAiQ3JhZnQgVGVycm9ySmF3IiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkNyYWZ0SXRlbSIsICJDcmFmdCIsICJUZXJyb3JKYXciKQogICAgZW5kCn0pCnY0OTU6QWRkQnV0dG9uKHsKICAgIFRpdGxlID0gIkNyYWZ0IFNoYXJrQW5jaG9yIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkNyYWZ0SXRlbSIsICJDcmFmdCIsICJTaGFya0FuY2hvciIpCiAgICBlbmQKfSkKdjQ5NTpBZGRCdXR0b24oewogICAgVGl0bGUgPSAiQ3JhZnQgTGV2aWF0aGFuQ3Jvd24iLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQ3JhZnRJdGVtIiwgIkNyYWZ0IiwgIkxldmlhdGhhbkNyb3duIikKICAgIGVuZAp9KQp2NDk1OkFkZEJ1dHRvbih7CiAgICBUaXRsZSA9ICJDcmFmdCBMZXZpYXRoYW5TaGllbGQiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQ3JhZnRJdGVtIiwgIkNyYWZ0IiwgIkxldmlhdGhhblNoaWVsZCIpCiAgICBlbmQKfSkKdjQ5NTpBZGRCdXR0b24oewogICAgVGl0bGUgPSAiQ3JhZnQgTGV2aWF0aGFuQm9hdCIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJDcmFmdEl0ZW0iLCAiQ3JhZnQiLCAiTGV2aWF0aGFuQm9hdCIpCiAgICBlbmQKfSkKdjQ5NTpBZGRCdXR0b24oewogICAgVGl0bGUgPSAiQ3JhZnQgTGVnZW5kYXJ5U2Nyb2xsIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkNyYWZ0SXRlbSIsICJDcmFmdCIsICJMZWdlbmRhcnlTY3JvbGwiKQogICAgZW5kCn0pCnY0OTU6QWRkQnV0dG9uKHsKICAgIFRpdGxlID0gIkNyYWZ0IE15dGhpY2FsU2Nyb2xsIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkNyYWZ0SXRlbSIsICJDcmFmdCIsICJNeXRoaWNhbFNjcm9sbCIpCiAgICBlbmQKfSkKbG9jYWwgdmFyX3NkOW8wayA9IHY0OTU6QWRkU2VjdGlvbih7IkJ1eSBIYWtpLFNvcnUuLi4ifSkKdjQ5NTpBZGRCdXR0b24oewogICAgVGl0bGUgPSAiQnV5IEdlcHBvICQxMCwwMDAiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQnV5SGFraSIsICJHZXBwbyIpCiAgICBlbmQKfSkKdjQ5NTpBZGRCdXR0b24oewogICAgVGl0bGUgPSAiQnV5IEJ1c28gSGFraSAkMjUsMDAwIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkJ1eUhha2kiLCAiQnVzbyIpCiAgICBlbmQKfSkKdjQ5NTpBZGRCdXR0b24oewogICAgVGl0bGUgPSAiQnV5IFNvcnUgJDI1LDAwMCIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJCdXlIYWtpIiwgIlNvcnUiKQogICAgZW5kCn0pCnY0OTU6QWRkQnV0dG9uKHsKICAgIFRpdGxlID0gIkJ1eSBPYnNlcnZhdGlvbiBIYWtpICQ3NTAsMDAwIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIktlblRhbGsiLCAiQnV5IikKICAgIGVuZAp9KQpsb2NhbCB2YXJfYjA1dHRhID0gdjQ5NTpBZGRTZWN0aW9uKHsiQnV5IFN3b3JkLEd1biJ9KQp2NDk1OkFkZEJ1dHRvbih7CiAgICBUaXRsZSA9ICJCdXkgQ3V0bGFzcyAkMSwwMDAiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQnV5SXRlbSIsICJDdXRsYXNzIikKICAgIGVuZAp9KQp2NDk1OkFkZEJ1dHRvbih7CiAgICBUaXRsZSA9ICJCdXkgS2F0YW5hICQxLDAwMCIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJCdXlJdGVtIiwgIkthdGFuYSIpCiAgICBlbmQKfSkKdjQ5NTpBZGRCdXR0b24oewogICAgVGl0bGUgPSAiQnV5IElyb24gTWFjZSAkMjUsMDAwIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkJ1eUl0ZW0iLCAiSXJvbiBNYWNlIikKICAgIGVuZAp9KQp2NDk1OkFkZEJ1dHRvbih7CiAgICBUaXRsZSA9ICJCdXkgRHVhbCBLYXRhbmEgJDEyLDAwMCIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJCdXlJdGVtIiwgIkR1ZWwgS2F0YW5hIikKICAgIGVuZAp9KQp2NDk1OkFkZEJ1dHRvbih7CiAgICBUaXRsZSA9ICJCdXkgVHJpcGxlIEthdGFuYSAkNjAsMDAwIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkJ1eUl0ZW0iLCAiVHJpcGxlIEthdGFuYSIpCiAgICBlbmQKfSkKdjQ5NTpBZGRCdXR0b24oewogICAgVGl0bGUgPSAiQnV5IFBpcGUgJDEwMCwwMDAiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQnV5SXRlbSIsICJQaXBlIikKICAgIGVuZAp9KQp2NDk1OkFkZEJ1dHRvbih7CiAgICBUaXRsZSA9ICJCdXkgRHVhbC1IZWFkZWQgQmxhZGUgJDQwMCwwMDAiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQnV5SXRlbSIsICJEdWFsLUhlYWRlZCBCbGFkZSIpCiAgICBlbmQKfSkKdjQ5NTpBZGRCdXR0b24oewogICAgVGl0bGUgPSAiQnV5IEJpc2VudG8gJDEsMjAwLDAwMCIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJCdXlJdGVtIiwgIkJpc2VudG8iKQogICAgZW5kCn0pCnY0OTU6QWRkQnV0dG9uKHsKICAgIFRpdGxlID0gIkJ1eSBTb3VsIENhbmUgJDc1MCwwMDAiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQnV5SXRlbSIsICJTb3VsIENhbmUiKQogICAgZW5kCn0pCnY0OTU6QWRkQnV0dG9uKHsKICAgIFRpdGxlID0gIkJ1eSBQb2xlIFYyIDUsMDAwRiIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBnYW1lLlJlcGxpY2F0ZWRTdG9yYWdlLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiVGh1bmRlckdvZFRhbGsiKQogICAgZW5kCn0pCnY0OTU6QWRkQnV0dG9uKHsKICAgIFRpdGxlID0gIkJ1eSBTbGluZ3Nob3QgJDUsMDAwIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkJ1eUl0ZW0iLCAiU2xpbmdzaG90IikKICAgIGVuZAp9KQp2NDk1OkFkZEJ1dHRvbih7CiAgICBUaXRsZSA9ICJCdXkgTXVza2V0ICQ4LDAwMCIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJCdXlJdGVtIiwgIk11c2tldCIpCiAgICBlbmQKfSkKdjQ5NTpBZGRCdXR0b24oewogICAgVGl0bGUgPSAiQnV5IEZsaW50bG9jayAkMTAsNTAwIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkJ1eUl0ZW0iLCAiRmxpbnRsb2NrIikKICAgIGVuZAp9KQp2NDk1OkFkZEJ1dHRvbih7CiAgICBUaXRsZSA9ICJSZWZpbmVkIFNsaW5nc2hvdCAkMzAsMDAwIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkJ1eUl0ZW0iLCAiUmVmaW5lZCBGbGludGxvY2siKQogICAgZW5kCn0pCnY0OTU6QWRkQnV0dG9uKHsKICAgIFRpdGxlID0gIkJ1eSBSZWZpbmVkIEZsaW50bG9jayAkNjUsMDAwIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvY2FsIHZhcl9taXUzeHEgPSB7WzFdID0gIkJ1eUl0ZW0iLCBbMl0gPSAiUmVmaW5lZCBGbGludGxvY2sifQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIodW5wYWNrKHYxMTU3KSkKICAgIGVuZAp9KQp2NDk1OkFkZEJ1dHRvbih7CiAgICBUaXRsZSA9ICJCdXkgQ2Fubm9uICQxMDAsMDAwIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkJ1eUl0ZW0iLCAiQ2Fubm9uIikKICAgIGVuZAp9KQp2NDk1OkFkZEJ1dHRvbih7CiAgICBUaXRsZSA9ICJCdXkgS2FidWNoYSAxLDUwMEYiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQmxhY2tiZWFyZFJld2FyZCIsICJTbGluZ3Nob3QiLCAiMSIpCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQmxhY2tiZWFyZFJld2FyZCIsICJTbGluZ3Nob3QiLCAiMiIpCiAgICBlbmQKfSkKdjQ5NTpBZGRCdXR0b24oewogICAgVGl0bGUgPSAiQnV5IEJpemFycmUgUmlmbGUgMjUwIEVjdG9wbGFzbSIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJFY3RvcGxhc20iLCAiQnV5IiwgMSkKICAgIGVuZAp9KQp2NDk1OkFkZEJ1dHRvbih7CiAgICBUaXRsZSA9ICJCdXkgQmxhY2sgQ2FwZSAkNTAsMDAwIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvY2FsIHZhcl94OXFrcmggPSB7WzFdID0gIkJ1eUl0ZW0iLCBbMl0gPSAiQmxhY2sgQ2FwZSJ9CiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcih1bnBhY2sodjExNTgpKQogICAgZW5kCn0pCnY0OTU6QWRkQnV0dG9uKHsKICAgIFRpdGxlID0gIlN3b3Jkc21hbiBIYXQgJDE1MCwwMDAiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9jYWwgdmFyX3l3NTlueiA9IHtbMV0gPSAiQnV5SXRlbSIsIFsyXSA9ICJTd29yZHNtYW4gSGF0In0KICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKHVucGFjayh2MTE1OSkpCiAgICBlbmQKfSkKdjQ5NTpBZGRCdXR0b24oewogICAgVGl0bGUgPSAiQnV5IFRvbW9lIFJpbmcgJDUwMCwwMDAiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9jYWwgdmFyX3lyejBxdCA9IHtbMV0gPSAiQnV5SXRlbSIsIFsyXSA9ICJUb21vZSBSaW5nIn0KICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKHVucGFjayh2MTE2MCkpCiAgICBlbmQKfSkKbG9jYWwgdmFyX3F5aTVucyA9IHY0OTU6QWRkU2VjdGlvbih7IlJlc2V0IFN0YXRzICwgUmFuZG9tIFJhY2UifSkKdjQ5NTpBZGRCdXR0b24oewogICAgVGl0bGUgPSAiXDE5NlwxNDRcMjI1XDE4N1wxNDlpIFRcMjI1XDE4N1wxNTNjIEdob3VsIiwKICAgIERlc2NyaXB0aW9uID0gIiIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2NhbCB2YXJfbTByMGZoID0ge1sxXSA9ICJFY3RvcGxhc20iLCBbMl0gPSAiQ2hhbmdlIiwgWzNdID0gNH0KICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKHVucGFjayh2MTE2MikpCiAgICBlbmQKfSkKdjQ5NTpBZGRCdXR0b24oewogICAgVGl0bGUgPSAiXDE5NlwxNDRcMjI1XDE4N1wxNDlpIFRcMjI1XDE4N1wxNTNjIEN5Ym9yZyIsCiAgICBEZXNjcmlwdGlvbiA9ICIiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9jYWwgdmFyX3pxeTBxdyA9IHtbMV0gPSAiQ3lib3JnVHJhaW5lciIsIFsyXSA9ICJCdXkifQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIodW5wYWNrKHYxMTYzKSkKICAgIGVuZAp9KQp2NDk1OkFkZEJ1dHRvbih7CiAgICBUaXRsZSA9ICJSZXNldCBTdGF0cyAyLDUwMEYiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQmxhY2tiZWFyZFJld2FyZCIsICJSZWZ1bmQiLCAiMSIpCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiQmxhY2tiZWFyZFJld2FyZCIsICJSZWZ1bmQiLCAiMiIpCiAgICBlbmQKfSkKdjQ5NTpBZGRCdXR0b24oewogICAgVGl0bGUgPSAiUmFuZG9tIFJhY2UgMywwMDBGIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkJsYWNrYmVhcmRSZXdhcmQiLCAiUmVyb2xsIiwgIjEiKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkJsYWNrYmVhcmRSZXdhcmQiLCAiUmVyb2xsIiwgIjIiKQogICAgZW5kCn0pCmxvY2FsIHZhcl85NXliZnQgPSB2NDk2OkFkZFNlY3Rpb24oeyJTZXR0aW5ncyBGYXJtaW5nIn0pCnY0OTY6QWRkUGFyYWdyYXBoKHtUaXRsZSA9ICJVbmJhbiBGYXN0IEF0dGFjayAtIE0xIEZydWl0IiwgQ29udGVudCA9ICJPbjogXDIyNlwxNTZcMTMzIn0pCmxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vQW5oRGFuZ05ob0VtL1R1YW5BbmhJT1MvcmVmcy9oZWFkcy9tYWluL2tvYnkiKSkoKQp2NDk2OkFkZFRvZ2dsZSh7CiAgICBOYW1lID0gIkJyaW5nIE1vZCIsCiAgICBEZXNjcmlwdGlvbiA9ICJUXDIyNVwxODdcMTc3IFwxOTZcMTQ0XDIyNVwxODdcMTUzbmcgR29tIFF1XDE5NVwxNjFpIiwKICAgIERlZmF1bHQgPSB0cnVlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2MTE2NSkKICAgICAgICBfRy5CcmluZ01vbnN0ZXIgPSB2MTE2NQogICAgICAgIFN0b3BUd2VlbihfRy5CcmluZ01vbnN0ZXIpCiAgICBlbmQKfSkKc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgdGFzay53YWl0KCkgZG8KICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgIENoZWNrUXVlc3QoKQogICAgICAgICAgICBmb3IgXywgdjExNjcgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5FbmVtaWVzOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICBpZiBfRy5CcmluZ01vbnN0ZXIgYW5kIChTdGFydEJyaW5nIGFuZCB2MTE2Ny5OYW1lID09IE1vbkZhcm0gb3IgdjExNjcuTmFtZSA9PSBNb24gYW5kIHYxMTY3OkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpIGFuZCB2MTE2NzpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIGFuZCB2MTE2Ny5IdW1hbm9pZC5IZWFsdGggPiAwIGFuZCAodjExNjcuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKS5NYWduaXR1ZGUgPD0gMzIwKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgdjExNjcuTmFtZSA9PSAiRmFjdG9yeSBTdGFmZiIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBpZiAodjExNjcuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFBvc01vbi5Qb3NpdGlvbikuTWFnbml0dWRlIDw9IDI1MCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTE2Ny5IZWFkLkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdjExNjcuSHVtYW5vaWRSb290UGFydC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMTY3Lkh1bWFub2lkUm9vdFBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KDYwLCA2MCwgNjApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTE2Ny5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IFBvc01vbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdjExNjcuSHVtYW5vaWQ6RmluZEZpcnN0Q2hpbGQoIkFuaW1hdG9yIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxMTY3Lkh1bWFub2lkLkFuaW1hdG9yOkRlc3Ryb3koKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRoaWRkZW5wcm9wZXJ0eShnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllciwgIlNpbXVsYXRpb25SYWRpdXMiLCBtYXRoLmh1Z2UpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVsc2VpZiAodjExNjcuTmFtZSA9PSBNb25GYXJtIG9yIHYxMTY3Lk5hbWUgPT0gTW9uKSBhbmQgKHYxMTY3Lkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBQb3NNb24uUG9zaXRpb24pLk1hZ25pdHVkZSA8PSAzMjAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICB2MTE2Ny5IdW1hbm9pZFJvb3RQYXJ0LlNpemUgPSBWZWN0b3IzLm5ldyg2MCwgNjAsIDYwKQogICAgICAgICAgICAgICAgICAgICAgICB2MTE2Ny5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IFBvc01vbgogICAgICAgICAgICAgICAgICAgICAgICB2MTE2Ny5IdW1hbm9pZFJvb3RQYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICB2MTE2Ny5IZWFkLkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICBpZiB2MTE2Ny5IdW1hbm9pZDpGaW5kRmlyc3RDaGlsZCgiQW5pbWF0b3IiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MTE2Ny5IdW1hbm9pZC5BbmltYXRvcjpEZXN0cm95KCkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIHNldGhpZGRlbnByb3BlcnR5KGdhbWUuUGxheWVycy5Mb2NhbFBsYXllciwgIlNpbXVsYXRpb25SYWRpdXMiLCBtYXRoLmh1Z2UpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKQogICAgZW5kCmVuZCkKZnVuY3Rpb24gSW5NeU5ldFdvcmsodjExNjgpCiAgICBpZiBub3QgaXNuZXR3b3Jrb3duZXIgdGhlbgogICAgICAgIGlmICh2MTE2OC5Qb3NpdGlvbiAtIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikuTWFnbml0dWRlID4gMzIwIHRoZW4KICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgZWxzZQogICAgICAgICAgICByZXR1cm4gdHJ1ZQogICAgICAgIGVuZAogICAgZWxzZQogICAgICAgIHJldHVybiBpc25ldHdvcmtvd25lcih2MTE2OCkKICAgIGVuZAplbmQKdjQ5NjpBZGRUb2dnbGUoewogICAgVGl0bGUgPSAiU2V0IEhvbWUgUG9pbnQiLAogICAgRGVzY3JpcHRpb24gPSAiTFwxOThcMTc2dSBcMTk2XDE0NGlcMjI1XDE4N1wxMzFtIEhcMjI1XDE4N1wxNDdpIFNpbmgiLAogICAgVmFsdWUgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjExNjkpCiAgICAgICAgX0cuQ2hlY2tQb2ludCA9IHYxMTY5CiAgICBlbmQKfSkKc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgaWYgX0cuQ2hlY2tQb2ludCB0aGVuCiAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiU2V0U3Bhd25Qb2ludCIpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kKQp2NDk2OkFkZFRvZ2dsZSh7VGl0bGUgPSAiSW5maW5pdGUgU29ydSIsIFZhbHVlID0gZmFsc2UsIENhbGxiYWNrID0gZnVuY3Rpb24odjExNzApCiAgICBfRy5BdXRvSGFraSA9IHYxMTcwCmVuZH0pCnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHRhc2sud2FpdCgwLjEpIGRvCiAgICAgICAgaWYgX0cuQXV0b0hha2kgdGhlbgogICAgICAgICAgICBwY2FsbChBdXRvSGFraSkKICAgICAgICBlbmQKICAgIGVuZAplbmQpCnY0OTY6QWRkVG9nZ2xlKHsKICAgIFRpdGxlID0gIkF1dG8gQWN0aXZlIFJhY2UgVjMiLAogICAgRGVzY3JpcHRpb24gPSAiVFwyMjVcMTg3XDE3NyBcMTk2XDE0NFwyMjVcMTg3XDE1M25nIEJcMjI1XDE4NlwxNzN0IFRcMjI1XDE4N1wxNTNjIFYzIiwKICAgIFZhbHVlID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYxMTcxKQogICAgICAgIF9HLkF1dG9SYWNlVjMgPSB2MTE3MQogICAgZW5kCn0pCnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHdhaXQoKSBkbwogICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgaWYgX0cuQXV0b1JhY2VWMyB0aGVuCiAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRTpGaXJlU2VydmVyKCJBY3RpdmF0ZUFiaWxpdHkiKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCiAgICBlbmQKZW5kKQp2NDk2OkFkZFRvZ2dsZSh7CiAgICBUaXRsZSA9ICJBdXRvIEFjdGl2ZSBSYWNlIFY0IiwKICAgIERlc2NyaXB0aW9uID0gIlRcMjI1XDE4N1wxNzcgXDE5NlwxNDRcMjI1XDE4N1wxNTNuZyBCXDIyNVwxODZcMTczdCBUXDIyNVwxODdcMTUzYyBWNCIsCiAgICBWYWx1ZSA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2MTE3MikKICAgICAgICBfRy5BdXRvUmFjZVY0ID0gdjExNzIKICAgIGVuZAp9KQpzcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB3YWl0KCkgZG8KICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgIGlmIF9HLkF1dG9SYWNlVjQgdGhlbgogICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsSW5wdXRNYW5hZ2VyIik6U2VuZEtleUV2ZW50KHRydWUsICJZIiwgZmFsc2UsIGdhbWUpCiAgICAgICAgICAgICAgICB3YWl0KCkKICAgICAgICAgICAgICAgIGdhbWU6R2V0U2VydmljZSgiVmlydHVhbElucHV0TWFuYWdlciIpOlNlbmRLZXlFdmVudChmYWxzZSwgIlkiLCBmYWxzZSwgZ2FtZSkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKQogICAgZW5kCmVuZCkKdjQ5NjpBZGRUb2dnbGUoe1RpdGxlID0gIkluZmluaXRlIFNvcnUiLCBWYWx1ZSA9IGZhbHNlLCBDYWxsYmFjayA9IGZ1bmN0aW9uKHYxMTczKQogICAgSW5maW5pdGVTb3J1ID0gdjExNzMKZW5kfSkKc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgdGFzay53YWl0KDEpIGRvCiAgICAgICAgaWYgSW5maW5pdGVTb3J1IGFuZCBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSB+PSAiSHVtYW5vaWRSb290UGFydCIgdGhlbgogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBmb3IgXywgdjExNzUgaW4gbmV4dCwgZ2V0Z2MoKSBkbwogICAgICAgICAgICAgICAgICAgIGlmIGdldGZlbnYodjExNzUpLnNjcmlwdCA9PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiU29ydSIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHYxMTc2LCB2MTE3NyBpbiBwYWlycyhkZWJ1Zy5nZXR1cHZhbHVlcyh2MTE3NSkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB0eXBlKHYxMTc3KSA9PSAidGFibGUiIGFuZCB2MTE3Ny5MYXN0VXNlIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KDAuMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dXB2YWx1ZSh2MTE3NSwgdjExNzYsIHtMYXN0QWZ0ZXIgPSAwLCBMYXN0VXNlID0gMH0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW50aWwgbm90IEluZmluaXRlU29ydSBvciBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoIDw9IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kKQpQb3NZID0gMzAKdjQ5NjpBZGRUb2dnbGUoe1RpdGxlID0gIkRvZGdlIE5vIENEIiwgVmFsdWUgPSBmYWxzZSwgQ2FsbGJhY2sgPSBmdW5jdGlvbih2MTE3OCkKICAgIERvZGdld2l0aG91dENvb2wgPSB2MTE3OAplbmR9KQpmdW5jdGlvbiBOb0Nvb2xkb3duKCkKICAgIGZvciBfLCB2MTE4MCBpbiBuZXh0LCBnZXRnYygpIGRvCiAgICAgICAgaWYgdHlwZW9mKHYxMTgwKSA9PSAiZnVuY3Rpb24iIGFuZCBnZXRmZW52KHYxMTgwKS5zY3JpcHQgPT0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkRvZGdlIikgdGhlbgogICAgICAgICAgICBmb3IgdjExODEsIHYxMTgyIGluIG5leHQsIGdldHVwdmFsdWVzKHYxMTgwKSBkbwogICAgICAgICAgICAgICAgaWYgdG9zdHJpbmcodjExODIpID09ICIwLjQiIHRoZW4KICAgICAgICAgICAgICAgICAgICBzZXR1cHZhbHVlKHYxMTgwLCB2MTE4MSwgMCkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAplbmQKc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgd2FpdCgpIGRvCiAgICAgICAgaWYgRG9kZ2V3aXRob3V0Q29vbCB0aGVuCiAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIE5vQ29vbGRvd24oKQogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kKQp2NDk2OkFkZFRvZ2dsZSh7VGl0bGUgPSAiSW5maW5pdGUgR2VwcG8iLCBWYWx1ZSA9IGZhbHNlLCBDYWxsYmFjayA9IGZ1bmN0aW9uKHYxMTgzKQogICAgSW5maW5pdGVHZXBwbyA9IHYxMTgzCmVuZH0pCnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHRhc2sud2FpdCgxKSBkbwogICAgICAgIGlmIEluZmluaXRlR2VwcG8gdGhlbgogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBmb3IgXywgdjExODUgaW4gbmV4dCwgZ2V0Z2MoKSBkbwogICAgICAgICAgICAgICAgICAgIGlmIGdldGZlbnYodjExODUpLnNjcmlwdCA9PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiR2VwcG8iKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciB2MTE4NiwgdjExODcgaW4gbmV4dCwgZ2V0dXB2YWx1ZXModjExODUpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB0b3N0cmluZyh2MTE4NykgPT0gIjAiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgwLjEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHVwdmFsdWUodjExODUsIHYxMTg2LCAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsIG5vdCBJbmZpbml0ZUdlcHBvIG9yIGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPD0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbmQKICAgIGVuZAplbmQpCnY0OTY6QWRkVG9nZ2xlKHtUaXRsZSA9ICJXYWxrIG9uIFdhdGVyIiwgVmFsdWUgPSB0cnVlLCBDYWxsYmFjayA9IGZ1bmN0aW9uKHYxMTg4KQogICAgX0cuV2Fsa1dhdGVyID0gdjExODgKZW5kfSkKc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgdGFzay53YWl0KCkgZG8KICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgIGlmIG5vdCBfRy5XYWxrV2F0ZXIgdGhlbgogICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5NYXBbIldhdGVyQmFzZS1QbGFuZSJdLlNpemUgPSBWZWN0b3IzLm5ldygxMDAwLCA4MCwgMTAwMCkKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5NYXBbIldhdGVyQmFzZS1QbGFuZSJdLlNpemUgPSBWZWN0b3IzLm5ldygxMDAwLCAxMTIsIDEwMDApCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZCkKICAgIGVuZAplbmQpCmxvY2FsIHZhcl9jdmYwYjYgPSB2NDk2OkFkZFNlY3Rpb24oeyJBdXRvIEluY3JlYXNlIFNraWxsIFBvaW50cyJ9KQpsb2NhbCB2YXJfeGx2NzdyID0gZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikKbG9jYWwgdmFyX2pvd2NtOSA9IGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKQpsb2NhbCB2YXJfZXNxaWswID0gbF9QbGF5ZXJzXzEuTG9jYWxQbGF5ZXIKbG9jYWwgdmFyXzN0MnpraiA9IGZhbHNlCmxvY2FsIHZhcl9sbG14eGIgPSBmYWxzZQpsb2NhbCB2YXJfNTJ2NTJjID0gZmFsc2UKbG9jYWwgdmFyXzQxN3ZpNCA9IGZhbHNlCmxvY2FsIHZhcl9sbmFvdm0gPSBmYWxzZQpsb2NhbCB2YXJfOWNvdTAxID0gMQp2NDk2OkFkZFRvZ2dsZSh7CiAgICBUaXRsZSA9ICJNZWxlZSIsCiAgICBEZXNjcmlwdGlvbiA9ICJUXDIyNVwxODdcMTc3IFwxOTZcMTQ0XDIyNVwxODdcMTUzbmcgTlwxOTVcMTYybmcgXDE5NlwxNDRpXDIyNVwxODdcMTMxbSBNZWxlZSIsCiAgICBWYWx1ZSA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2MTE5OSkKICAgICAgICB2MTE5MyA9IHYxMTk5CiAgICBlbmQKfSkKdjQ5NjpBZGRUb2dnbGUoewogICAgVGl0bGUgPSAiRGVmZW5zZSIsCiAgICBEZXNjcmlwdGlvbiA9ICJUXDIyNVwxODdcMTc3IFwxOTZcMTQ0XDIyNVwxODdcMTUzbmcgTlwxOTVcMTYybmcgXDE5NlwxNDRpXDIyNVwxODdcMTMxbSBOXDE5NlwxMzFuZyBMXDE5OFwxNzZcMjI1XDE4N1wxNjNuZyIsCiAgICBWYWx1ZSA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2MTIwMCkKICAgICAgICB2MTE5NCA9IHYxMjAwCiAgICBlbmQKfSkKdjQ5NjpBZGRUb2dnbGUoewogICAgVGl0bGUgPSAiU3dvcmQiLAogICAgRGVzY3JpcHRpb24gPSAiVFwyMjVcMTg3XDE3NyBcMTk2XDE0NFwyMjVcMTg3XDE1M25nIE5cMTk1XDE2Mm5nIFwxOTZcMTQ0aVwyMjVcMTg3XDEzMW0gS2lcMjI1XDE4NlwxOTFtIiwKICAgIFZhbHVlID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYxMjAxKQogICAgICAgIHYxMTk1ID0gdjEyMDEKICAgIGVuZAp9KQp2NDk2OkFkZFRvZ2dsZSh7CiAgICBUaXRsZSA9ICJHdW4iLAogICAgRGVzY3JpcHRpb24gPSAiVFwyMjVcMTg3XDE3NyBcMTk2XDE0NFwyMjVcMTg3XDE1M25nIE5cMTk1XDE2Mm5nIFwxOTZcMTQ0aVwyMjVcMTg3XDEzMW0gU1wxOTVcMTg2bmciLAogICAgVmFsdWUgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odjEyMDIpCiAgICAgICAgdjExOTYgPSB2MTIwMgogICAgZW5kCn0pCnY0OTY6QWRkVG9nZ2xlKHsKICAgIFRpdGxlID0gIkZydWlzIiwKICAgIERlc2NyaXB0aW9uID0gIlRcMjI1XDE4N1wxNzcgXDE5NlwxNDRcMjI1XDE4N1wxNTNuZyBOXDE5NVwxNjJuZyBcMTk2XDE0NGlcMjI1XDE4N1wxMzFtIFRyXDE5NVwxNjFpIiwKICAgIFZhbHVlID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYxMjAzKQogICAgICAgIHYxMTk3ID0gdjEyMDMKICAgIGVuZAp9KQpzcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB3YWl0KCkgZG8KICAgICAgICBpZiBsX0xvY2FsUGxheWVyXzE5LkRhdGEuUG9pbnRzLlZhbHVlID49IHYxMTk4IHRoZW4KICAgICAgICAgICAgbG9jYWwgdmFyX201dDdqMiB2MTIwNih2MTIwNCkKICAgICAgICAgICAgICAgIGxvY2FsIHZhcl9wOWV5NHIgPSB7WzFdID0gIkFkZFBvaW50IiwgWzJdID0gdjEyMDQsIFszXSA9IHYxMTk4fQogICAgICAgICAgICAgICAgbF9SZXBsaWNhdGVkU3RvcmFnZV8xLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcih1bnBhY2sodjEyMDUpKQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgaWYgdjExOTMgdGhlbgogICAgICAgICAgICAgICAgdjEyMDYoIk1lbGVlIikKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGlmIHYxMTk0IHRoZW4KICAgICAgICAgICAgICAgIHYxMjA2KCJEZWZlbnNlIikKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGlmIHYxMTk1IHRoZW4KICAgICAgICAgICAgICAgIHYxMjA2KCJTd29yZCIpCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICBpZiB2MTE5NiB0aGVuCiAgICAgICAgICAgICAgICB2MTIwNigiR3VuIikKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGlmIHYxMTk3IHRoZW4KICAgICAgICAgICAgICAgIHYxMjA2KCJEZW1vbiBGcnVpdCIpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCmVuZCkKbG9jYWwgdmFyXzV6ODFpeSA9IHY0OTY6QWRkU2VjdGlvbih7IlNlYSAxLDIsMyJ9KQp2NDk2OkFkZEJ1dHRvbih7CiAgICBUaXRsZSA9ICJKb2luIFNlYSAxIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIlRyYXZlbE1haW4iKQogICAgZW5kCn0pCnY0OTY6QWRkQnV0dG9uKHsKICAgIFRpdGxlID0gIkpvaW4gU2VhIDIiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiVHJhdmVsRHJlc3Nyb3NhIikKICAgIGVuZAp9KQp2NDk2OkFkZEJ1dHRvbih7CiAgICBUaXRsZSA9ICJKb2luIFNlYSAzIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIlRyYXZlbFpvdSIpCiAgICBlbmQKfSkKbG9jYWwgdmFyX2ZnajdhZCA9IHY0OTY6QWRkU2VjdGlvbih7Ik90aGVyIn0pCnY0OTY6QWRkQnV0dG9uKHsKICAgIFRpdGxlID0gIkpvaW4gUGlyYXRlcyBUZWFtIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIlNldFRlYW0iLCAiUGlyYXRlcyIpCiAgICBlbmQKfSkKdjQ5NjpBZGRCdXR0b24oewogICAgVGl0bGUgPSAiSm9pbiBNYXJpbmVzIFRlYW0iLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuQ29tbUZfOkludm9rZVNlcnZlcigiU2V0VGVhbSIsICJNYXJpbmVzIikKICAgIGVuZAp9KQp2NDk2OkFkZEJ1dHRvbih7CiAgICBUaXRsZSA9ICJPcGVuIFRpdGxlIE5hbWUiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9jYWwgdmFyX2Fhems4eCA9IHtbMV0gPSAiZ2V0VGl0bGVzIn0KICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKHVucGFjayh2MTIwOSkpCiAgICAgICAgZ2FtZS5QbGF5ZXJzLmxvY2FsUGxheWVyLlBsYXllckd1aS5NYWluLlRpdGxlcy5WaXNpYmxlID0gdHJ1ZQogICAgZW5kCn0pCnY0OTY6QWRkQnV0dG9uKHsKICAgIFRpdGxlID0gIkZQUyBCb29zdCIsCiAgICBEZXNjcmlwdGlvbiA9ICJUXDE5NlwxMzFuZyBGcHMiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9jYWwgdmFyXzAzemt1ZyA9IHRydWUKICAgICAgICBsb2NhbCB2YXJfM2czc3lyID0gZ2FtZQogICAgICAgIGxvY2FsIHZhcl8zbmR3NW0gPSBsX2dhbWVfMC5Xb3Jrc3BhY2UKICAgICAgICBsb2NhbCB2YXJfOG45eGpjID0gbF9nYW1lXzAuTGlnaHRpbmcKICAgICAgICBsb2NhbCB2YXJfcTFrOWowID0gbF9Xb3Jrc3BhY2VfMi5UZXJyYWluCiAgICAgICAgc2V0dGluZ3MoKS5SZW5kZXJpbmcuUXVhbGl0eUxldmVsID0gIkxldmVsMDEiCiAgICAgICAgZm9yIF8sIHYxMjE2IGluIHBhaXJzKGxfZ2FtZV8wOkdldERlc2NlbmRhbnRzKCkpIGRvCiAgICAgICAgICAgIGlmIG5vdCB2MTIxNjpJc0EoIlBhcnQiKSBhbmQgbm90IHYxMjE2OklzQSgiVW5pb24iKSBhbmQgbm90IHYxMjE2OklzQSgiQ29ybmVyV2VkZ2VQYXJ0IikgYW5kIG5vdCB2MTIxNjpJc0EoIlRydXNzUGFydCIpIHRoZW4KICAgICAgICAgICAgICAgIGlmIHYxMjE2OklzQSgiRGVjYWwiKSBvciB2MTIxNjpJc0EoIlRleHR1cmUiKSBhbmQgdjEyMTAgdGhlbgogICAgICAgICAgICAgICAgICAgIHYxMjE2LlRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgIGVsc2VpZiB2MTIxNjpJc0EoIlBhcnRpY2xlRW1pdHRlciIpIG9yIHYxMjE2OklzQSgiVHJhaWwiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgdjEyMTYuTGlmZXRpbWUgPSBOdW1iZXJSYW5nZS5uZXcoMCkKICAgICAgICAgICAgICAgIGVsc2VpZiBub3QgdjEyMTY6SXNBKCJFeHBsb3Npb24iKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgdjEyMTY6SXNBKCJGaXJlIikgb3IgdjEyMTY6SXNBKCJTcG90TGlnaHQiKSBvciB2MTIxNjpJc0EoIlNtb2tlIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICB2MTIxNi5FbmFibGVkID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICB2MTIxNi5CbGFzdFByZXNzdXJlID0gMQogICAgICAgICAgICAgICAgICAgIHYxMjE2LkJsYXN0UmFkaXVzID0gMQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHYxMjE2Lk1hdGVyaWFsID0gIlBsYXN0aWMiCiAgICAgICAgICAgICAgICB2MTIxNi5SZWZsZWN0YW5jZSA9IDAKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKfSkKbG9jYWwgdmFyXzVmcHMxbyA9IHY0OTY6QWRkU2VjdGlvbih7IkF1dG8gQ29kZXMifSkKbG9jYWwgdmFyX21pYTh3ZSA9IHsKICAgICJOT01PUkVIQUNLIiwKICAgICJCQU5FWFBMT0lUIiwKICAgICJXaWxkRGFyZXMiLAogICAgIkJvc3NCdWlsZCIsCiAgICAiR2V0UHJhbmtlZCIsCiAgICAiRUFSTl9GUlVJVFMiLAogICAgIkZJR0hUNEZSVUlUIiwKICAgICJOT0VYUExPSVRFUiIsCiAgICAiTk9PQjJBRE1JTiIsCiAgICAiQ09ERVNMSURFIiwKICAgICJBRE1JTkhBQ0tFRCIsCiAgICAiQURNSU5EQVJFUyIsCiAgICAiZnJ1aXRjb25jZXB0cyIsCiAgICAia3JhenlkYXJlcyIsCiAgICAiVFJJUExFQUJVU0UiLAogICAgIlNFQVRST0xMSU5HIiwKICAgICIyNE5PQURNSU4iLAogICAgIlJFV0FSREZVTiIsCiAgICAiQ2hhbmRsZXIiLAogICAgIk5FV1RST0xMIiwKICAgICJLSVRUX1JFU0VUIiwKICAgICJTdWIyQ2FwdGFpbk1hdWkiLAogICAgImtpdHRnYW1pbmciLAogICAgIlN1YjJGZXI5OTkiLAogICAgIkVueXVfaXNfUHJvIiwKICAgICJNYWdpY2J1cyIsCiAgICAiSkNXSyIsCiAgICAiU3RhcmNvZGVoZW8iLAogICAgIkJsdXh4eSIsCiAgICAiZnVkZDEwX3YyIiwKICAgICJTVUIyR0FNRVJST0JPVF9FWFAxIiwKICAgICJTdWIyTm9vYk1hc3RlcjEyMyIsCiAgICAiU3ViMlVuY2xlS2l6YXJ1IiwKICAgICJTdWIyRGFpZ3JvY2siLAogICAgIkF4aW9yZSIsCiAgICAiVGFudGFpR2FtaW5nIiwKICAgICJTdHJhd0hhdE1haW5lIiwKICAgICJTdWIyT2ZmaWNpYWxOb29iaWUiLAogICAgIkZ1ZGQxMCIsCiAgICAiQmlnbmV3cyIsCiAgICAiVGhlR3JlYXRBY2UiLAogICAgIlNFQ1JFVF9BRE1JTiIsCiAgICAiU1VCMkdBTUVSUk9CT1RfUkVTRVQxIiwKICAgICJTVUIyT0ZGSUNJQUxOT09CSUUiLAogICAgIkFYSU9SRSIsCiAgICAiQklHTkVXUyIsCiAgICAiQkxVWFhZIiwKICAgICJDSEFORExFUiIsCiAgICAiRU5ZVV9JU19QUk8iLAogICAgIkZVREQxMCIsCiAgICAiRlVERDEwX1YyIiwKICAgICJLSVRUR0FNSU5HIiwKICAgICJNQUdJQ0JVUyIsCiAgICAiU1RBUkNPREVIRU8iLAogICAgIlNUUkFXSEFUTUFJTkUiLAogICAgIlNVQjJDQVBUQUlOTUFVSSIsCiAgICAiU1VCMkRBSUdST0NLIiwKICAgICJTVUIyRkVSOTk5IiwKICAgICJTVUIyTk9PQk1BU1RFUjEyMyIsCiAgICAiU1VCMlVOQ0xFS0laQVJVIiwKICAgICJUQU5UQUlHQU1JTkciLAogICAgIlRIRUdSRUFUQUNFIgp9CnY0OTY6QWRkQnV0dG9uKHsKICAgIFRpdGxlID0gIkNvZGVzIiwKICAgIERlc2NyaXB0aW9uID0gIlRcMjI1XDE4N1wxNzcgXDE5NlwxNDRcMjI1XDE4N1wxNTNuZyBOaFwyMjVcMTg2XDE3M3AgSFwyMjVcMTg2XDE5MXQgQ29kZSIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBmb3IgXywgdjEyMjAgaW4gaXBhaXJzKHYxMjE4KSBkbwogICAgICAgICAgICBsb2NhbCB2YXJfZmU2MXFhID0ge3YxMjIwfQogICAgICAgICAgICBkbwogICAgICAgICAgICAgICAgbG9jYWwgdmFyXzRmZjJoeiA9IHYxMjIxCiAgICAgICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOldhaXRGb3JDaGlsZCgiUmVtb3RlcyIpOldhaXRGb3JDaGlsZCgiUmVkZWVtIik6SW52b2tlU2VydmVyKHVucGFjayhsX3YxMjIxXzApKQogICAgICAgICAgICAgICAgZW5kKQogICAgICAgICAgICAgICAgdGFzay53YWl0KDAuMSkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKfSkKbG9jYWwgdmFyX2U0eTRxZCA9IHY0OTY6QWRkU2VjdGlvbih7IlNldmVyIEhvcCJ9KQp2NDk2OkFkZEJ1dHRvbih7CiAgICBUaXRsZSA9ICJSZWpvaW4gU2VydmVyIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWU6R2V0U2VydmljZSgiVGVsZXBvcnRTZXJ2aWNlIik6VGVsZXBvcnQoZ2FtZS5QbGFjZUlkLCBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllcikKICAgIGVuZAp9KQp2NDk2OkFkZEJ1dHRvbih7VGl0bGUgPSAiU2VydmVyIEhvcCIsIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgSG9wKCkKZW5kfSkKcmV0dXJuIAo='))()